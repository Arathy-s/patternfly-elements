!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("../pfelement/pfelement.umd")):"function"==typeof define&&define.amd?define(["../pfelement/pfelement.umd"],t):e.PfeTabs=t(e.PFElement)}(this,function(n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?c(e):t}function f(e,t,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function t(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n=n&&n.hasOwnProperty("default")?n.default:n,Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],a=0;a<n;){var i=t[a];if(e.call(r,i,a,t))return i;a++}},configurable:!0,writable:!0}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],a=0;a<n;){var i=t[a];if(e.call(r,i,a,t))return a;a++}return-1},configurable:!0,writable:!0});var d=40,h=37,b=39,p=38,v=36,y=35;function g(){return Math.random().toString(36).substr(2,9)}var e=function(e){function r(){var e;return a(this,r),(e=u(this,l(r).call(this,r)))._linked=!1,e._onSlotChange=e._onSlotChange.bind(c(c(e))),e._tabSlot=e.shadowRoot.querySelector('slot[name="tab"]'),e._panelSlot=e.shadowRoot.querySelector('slot[name="panel"]'),e._tabSlot.addEventListener("slotchange",e._onSlotChange),e._panelSlot.addEventListener("slotchange",e._onSlotChange),e}return o(r,n),i(r,[{key:"html",get:function(){return'\n<style>\n:host {\n  display: block; }\n\n.tabs {\n  --pfe-tabs--border-color:          var(--pfe-theme--color--surface--border, #dfdfdf);\n  display: flex;\n  border: 0;\n  border-bottom: var(--pfe-theme--ui--border-width, 1px) var(--pfe-theme--ui--border-style, solid) var(--pfe-tabs--border-color); }\n\n.panels {\n  padding: 0;\n  padding-top: var(--pfe-theme--container-padding, 1rem); }\n\n:host([vertical]) {\n  display: flex; }\n\n:host([vertical]) .tabs {\n  flex-direction: column;\n  width: 25%;\n  border: 0;\n  border-right: var(--pfe-theme--ui--border-width, 1px) var(--pfe-theme--ui--border-style, solid) var(--pfe-tabs--border-color); }\n\n:host([vertical]) .tabs ::slotted(pfe-tab) {\n  margin: 0 -1px 0 0;\n  border: var(--pfe-theme--ui--border-width, 1px) var(--pfe-theme--ui--border-style, solid) transparent;\n  border-right: 0; }\n\n:host([vertical]) .tabs ::slotted(pfe-tab[aria-selected="true"]) {\n  border-color: var(--pfe-tabs--border-color);\n  border-right: 0; }\n\n:host([vertical]) .panels {\n  padding: 0;\n  padding-right: var(--pfe-theme--container-padding, 1rem);\n  padding-left: calc(var(--pfe-theme--container-padding, 1rem) * 2); }\n</style>\n<div class="tabs">\n  <slot name="tab"></slot>\n</div>\n<div class="panels">\n  <slot name="panel"></slot>\n</div>'}},{key:"styleUrl",get:function(){return"pfe-tabs.scss"}},{key:"templateUrl",get:function(){return"pfe-tabs.html"}},{key:"selectedIndex",get:function(){return this.getAttribute("selected-index")},set:function(e){this.setAttribute("selected-index",e)}}],[{key:"tag",get:function(){return"pfe-tabs"}},{key:"observedAttributes",get:function(){return["vertical","selected-index"]}}]),i(r,[{key:"connectedCallback",value:function(){var e=this;f(l(r.prototype),"connectedCallback",this).call(this),this.addEventListener("keydown",this._onKeyDown),this.addEventListener("click",this._onClick),this.hasAttribute("role")||this.setAttribute("role","tablist"),this.hasAttribute("selected-index")||(this.selectedIndex=0),Promise.all([customElements.whenDefined(m.tag),customElements.whenDefined(k.tag)]).then(function(){return e._linkPanels()})}},{key:"disconnectedCallback",value:function(){this.removeEventListener("keydown",this._onKeyDown),this.removeEventListener("click",this._onClick)}},{key:"attributeChangedCallback",value:function(e,t,n){var r=this;switch(e){case"vertical":this.hasAttribute("vertical")?(this.setAttribute("aria-orientation","vertical"),this._allPanels().forEach(function(e){return e.setAttribute("vertical","")}),this._allTabs().forEach(function(e){return e.setAttribute("vertical","")})):(this.removeAttribute("aria-orientation"),this._allPanels().forEach(function(e){return e.removeAttribute("vertical")}),this._allTabs().forEach(function(e){return e.removeAttribute("vertical")}));break;case"selected-index":Promise.all([customElements.whenDefined(m.tag),customElements.whenDefined(k.tag)]).then(function(){r._linkPanels(),r.selectIndex(n)})}}},{key:"select",value:function(e){e&&("pfe-tab"===e.tagName.toLowerCase()?this.selectedIndex=this._getTabIndex(e):console.warn("".concat(r.tag,": the tab must be a pfe-tab element")))}},{key:"selectIndex",value:function(e){if(void 0!==e){var t=parseInt(e,10),n=this._allTabs()[t];n?this._selectTab(n):console.warn("".concat(r.tag,": tab ").concat(e," does not exist"))}}},{key:"_onSlotChange",value:function(){this._linked=!1,this._linkPanels()}},{key:"_linkPanels",value:function(){this._linked||(this._allTabs().forEach(function(e){var t=e.nextElementSibling;"pfe-tab-panel"===t.tagName.toLowerCase()?(e.setAttribute("aria-controls",t.id),t.setAttribute("aria-labelledby",e.id)):console.warn("".concat(r.tag,": tab #").concat(e.id," is not a sibling of a <pfe-tab-panel>"))}),this._linked=!0)}},{key:"_allPanels",value:function(){return t(this.querySelectorAll("pfe-tab-panel"))}},{key:"_allTabs",value:function(){return t(this.querySelectorAll("pfe-tab"))}},{key:"_panelForTab",value:function(e){var t=e.getAttribute("aria-controls");return this.querySelector("#".concat(t))}},{key:"_prevTab",value:function(){var e=this._allTabs(),t=e.findIndex(function(e){return e.selected})-1;return e[(t+e.length)%e.length]}},{key:"_firstTab",value:function(){return this._allTabs()[0]}},{key:"_lastTab",value:function(){var e=this._allTabs();return e[e.length-1]}},{key:"_nextTab",value:function(){var e=this._allTabs(),t=e.findIndex(function(e){return e.selected})+1;return e[t%e.length]}},{key:"_getTabIndex",value:function(t){return this._allTabs().findIndex(function(e){return e.id===t.id})}},{key:"reset",value:function(){var e=this._allTabs(),t=this._allPanels();e.forEach(function(e){return e.selected=!1}),t.forEach(function(e){return e.hidden=!0})}},{key:"_selectTab",value:function(e){this.reset();var t=this._panelForTab(e),n=!1;if(!t)throw new Error("No panel with id ".concat(t.id));this.selected&&this.selected!==e&&(n=!0,this.dispatchEvent(new CustomEvent("".concat(r.tag,":hidden-tab"),{bubbles:!0,detail:{tab:this.selected}}))),e.selected=!0,t.hidden=!1,this._setFocus&&(e.focus(),this._setFocus=!1);this._allTabs().findIndex(function(e){return e.selected});this.selected=e,n&&this.dispatchEvent(new CustomEvent("".concat(r.tag,":shown-tab"),{bubbles:!0,detail:{tab:this.selected}}))}},{key:"_onKeyDown",value:function(e){if("tab"===e.target.getAttribute("role")&&!e.altKey){var t;switch(e.keyCode){case h:case p:t=this._prevTab();break;case b:case d:t=this._nextTab();break;case v:t=this._firstTab();break;case y:t=this._lastTab();break;default:return}e.preventDefault(),this.selectedIndex=this._getTabIndex(t),this._setFocus=!0}}},{key:"_onClick",value:function(e){"tab"===e.target.getAttribute("role")&&(this.selectedIndex=this._getTabIndex(e.target))}}]),r}(),m=function(e){function t(){var e;return a(this,t),(e=u(this,l(t).call(this,t))).id||(e.id="".concat(t.tag,"-").concat(g())),e}return o(t,n),i(t,[{key:"html",get:function(){return'\n<style>\n:host {\n  --pfe-tabs--main:         transparent;\n  --pfe-tabs--aux:          var(--pfe-theme--color--surface--lightest--text, #333);\n  --pfe-tabs--link:         var(--pfe-theme--color--surface--lightest--link, #06c);\n  --pfe-tabs--focus:        var(--pfe-theme--color--surface--lightest--link--focus, #003366);\n  position: relative;\n  display: block;\n  margin: 0 0 -1px;\n  padding-top: var(--pfe-theme--container-padding, 1rem);\n  padding-right: calc(var(--pfe-theme--container-padding, 1rem) * 3.375);\n  padding-bottom: calc(var(--pfe-theme--container-padding, 1rem) * 1.5);\n  padding-left: var(--pfe-theme--container-padding, 1rem);\n  border: var(--pfe-theme--ui--border-width, 1px) var(--pfe-theme--ui--border-style, solid) transparent;\n  border-bottom: 0;\n  background-color: var(--pfe-tabs--main);\n  color: var(--pfe-tabs--aux);\n  text-transform: var(--pfe-tabs__tab--TextTransform, none);\n  font-weight: var(--pfe-theme--font-weight--normal, 500);\n  white-space: nowrap;\n  cursor: pointer; }\n\n:host([aria-selected="true"]) {\n  --pfe-tabs--main:         var(--pfe-theme--color--surface--lightest, #fff);\n  border-color: var(--pfe-theme--color--surface--border, #dfdfdf);\n  border-bottom: 0; }\n\n.indicator {\n  position: absolute;\n  bottom: 12px;\n  left: auto;\n  display: var(--pfe-tabs__indicator--Display, block);\n  height: var(--pfe-tabs__indicator--Height, 4px);\n  width: var(--pfe-tabs__indicator--Width, 22px);\n  background-color: var(--pfe-theme--color--surface--border--darkest, #464646); }\n\n:host(:hover) .indicator {\n  background-color: var(--pfe-tabs--link); }\n\n:host([aria-selected="true"]) .indicator,\n:host([aria-selected="true"]:hover) .indicator {\n  background-color: var(--pfe-tabs--link); }\n\n:host(:focus),\n:host(:focus-visible) {\n  outline: var(--pfe-theme--ui--focus-outline-width, 1px) var(--pfe-theme--ui--focus-outline-style, solid) var(--pfe-tabs--focus); }\n</style>\n<slot></slot>\n<div class="indicator"></div>'}},{key:"styleUrl",get:function(){return"pfe-tab.scss"}},{key:"templateUrl",get:function(){return"pfe-tab.html"}}],[{key:"tag",get:function(){return"pfe-tab"}},{key:"observedAttributes",get:function(){return["aria-selected"]}}]),i(t,[{key:"connectedCallback",value:function(){f(l(t.prototype),"connectedCallback",this).call(this),this.setAttribute("role","tab"),this.setAttribute("aria-selected","false"),this.setAttribute("tabindex",-1),this.parentNode.hasAttribute("vertical")&&this.setAttribute("vertical","")}},{key:"attributeChangedCallback",value:function(){var e=Boolean(this.selected);this.setAttribute("tabindex",e?0:-1)}},{key:"selected",set:function(e){e=Boolean(e),this.setAttribute("aria-selected",e)},get:function(){return"true"===this.getAttribute("aria-selected")}}]),t}(),k=function(e){function t(){var e;return a(this,t),(e=u(this,l(t).call(this,t))).id||(e.id="".concat(t.tag,"-").concat(g())),e}return o(t,n),i(t,[{key:"html",get:function(){return"\n<style>\n:host {\n  display: block; }\n\n:host([hidden]) {\n  display: none; }\n</style>\n<slot></slot>"}},{key:"styleUrl",get:function(){return"pfe-tab-panel.scss"}},{key:"templateUrl",get:function(){return"pfe-tab-panel.html"}}],[{key:"tag",get:function(){return"pfe-tab-panel"}}]),i(t,[{key:"connectedCallback",value:function(){f(l(t.prototype),"connectedCallback",this).call(this),this.setAttribute("role","tabpanel"),this.setAttribute("tabindex",0)}}]),t}();return n.create(m),n.create(k),n.create(e),e});
//# sourceMappingURL=pfe-tabs.umd.js.map
