import t from"../../pfelement/dist/pfelement.min.js";
/*!
 * PatternFly Elements: PfePrimaryDetail 1.11.0
 * @license
 * Copyright 2020 Red Hat, Inc.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
*/
const e={childList:!0};class i extends t{static get version(){return"1.11.0"}get html(){return'\n<style>*{-webkit-box-sizing:border-box;box-sizing:border-box}:host{display:-ms-grid;display:grid;-ms-grid-columns:1fr 2fr;grid-template-columns:1fr 2fr;-ms-grid-columns:var(--pfe-primary-details--GridTemplateColumns,1fr 2fr);grid-template-columns:var(--pfe-primary-details--GridTemplateColumns,1fr 2fr);border:1px solid #d2d2d2;border:var(--pfe-primary-details--Border,var(--pfe-theme--ui--border-width--sm,1px) var(--pfe-theme--ui--border-style,solid) var(--pfe-theme--color--ui--border--lighter,#d2d2d2));-webkit-box-align:stretch;-webkit-align-items:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-pack:stretch;-webkit-justify-content:stretch;-ms-flex-pack:stretch;justify-content:stretch;overflow:hidden}:host([breakpoint=compact]){-ms-grid-columns:1fr;grid-template-columns:1fr}:host([hidden]){display:none}#details-nav,#details-nav__footer,#details-wrapper{-webkit-transition:-webkit-transform .25s ease-in-out;transition:-webkit-transform .25s ease-in-out;transition:transform .25s ease-in-out;transition:transform .25s ease-in-out,-webkit-transform .25s ease-in-out;will-change:transform;-webkit-backface-visibility:visible;backface-visibility:visible}@media (prefers-reduced-motion){#details-nav,#details-nav__footer,#details-wrapper{-webkit-transform:none;transform:none}}:host([breakpoint=compact]) #details-nav,:host([breakpoint=compact]) #details-nav__footer,:host([breakpoint=compact]) #details-wrapper{-ms-grid-row-align:stretch;align-self:stretch;-ms-grid-column-align:stretch;justify-self:stretch;-ms-grid-row:1;grid-row:1;-ms-grid-column:1;grid-column:1}:host([breakpoint=compact]) #details-nav,:host([breakpoint=compact]) #details-nav__footer{-webkit-transform:none;transform:none}:host([breakpoint=compact][active]) #details-nav,:host([breakpoint=compact][active]) #details-nav__footer{-webkit-transform:translateX(-100%);transform:translateX(-100%)}#details-nav{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:0 2px;padding:9px 0;border-right:1px solid #d2d2d2;border-right:var(--pfe-primary-details--Border,var(--pfe-theme--ui--border-width--sm,1px) var(--pfe-theme--ui--border-style,solid) var(--pfe-theme--color--ui--border--lighter,#d2d2d2))}:host([breakpoint=compact]) #details-nav{border:0}:host([breakpoint=compact]) #details-nav__footer{-ms-grid-row:2;grid-row:2}::slotted([slot=details-nav]){position:relative;display:block!important;-webkit-appearance:none!important;-moz-appearance:none!important;appearance:none!important;background:0 0!important;border:0!important;margin:0!important;padding:.5em 1.5em .5em .75em!important;font:inherit;line-height:1.5;text-align:left!important;color:#151515!important;color:var(--pfe-primary-details__nav--Color,var(--pfe-theme--color--text,#151515))!important;cursor:pointer!important}::slotted([slot=details-nav]):before{content:\'\';position:absolute;top:50%;right:0;margin-right:16px;display:block;width:.75em;height:.75em;-webkit-box-shadow:inset -.1875em -.1875em 0 .0625em #000;box-shadow:inset -.1875em -.1875em 0 .0625em #000;-webkit-transform:translate(-50%,-50%) scale(.6) rotate(314deg);transform:translate(-50%,-50%) scale(.6) rotate(314deg)}:host([breakpoint=desktop]) ::slotted([slot=details-nav]):before{content:none}::slotted([aria-expanded=true]),::slotted([aria-selected=true]){color:#06c!important;color:var(--pfe-primary-details__nav--Color--active,var(--pfe-theme--color--link,#06c))!important;background:#f0f0f0!important;background:var(--pfe-primary-details__nav--Background--active,#f0f0f0)!important}#details-wrapper{padding:.5em 1.5em;background:#fff;background:var(--pfe-primary-details__details--Background,var(--pfe-theme--color--surface--lightest,#fff))}:host([breakpoint=compact]) #details-wrapper{-webkit-transform:translateX(100%);transform:translateX(100%);-ms-grid-row:1;-ms-grid-row-span:2;grid-row:1/span 2;padding-top:0}:host([breakpoint=compact][active]) #details-wrapper{-webkit-transform:none;transform:none}:host([consistent-height]) #details-wrapper{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}@supports (display:grid){:host([consistent-height]) #details-wrapper{display:-ms-grid;display:grid;-ms-grid-rows:1fr;-ms-grid-columns:1fr;grid-template:1fr/1fr;justify-items:start;-webkit-box-align:start;-webkit-align-items:start;-ms-flex-align:start;align-items:start}}:host([consistent-height][breakpoint=compact]) #details-wrapper:before{content:\'\';display:block;-ms-grid-row:1;grid-row:1;-ms-grid-column:1;grid-column:1;-ms-grid-row-align:end;align-self:end;border-bottom:1px solid #d2d2d2;border-bottom:var(--pfe-primary-details--Border,var(--pfe-theme--ui--border-width--sm,1px) var(--pfe-theme--ui--border-style,solid) var(--pfe-theme--color--ui--border--lighter,#d2d2d2));width:calc(100% + 3em);margin-left:-1.5em}#details-wrapper__header{display:none;-ms-grid-row:1;-ms-grid-row-span:1;grid-row:1/span 1;-ms-grid-column:1;-ms-grid-column-span:1;grid-column:1/span 1;-ms-grid-row-align:start;align-self:start;-ms-grid-column-align:stretch;justify-self:stretch}:host([breakpoint=compact]) #details-wrapper__header{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}#details-wrapper__back{display:none;position:relative;-webkit-align-self:stretch;-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch;border:0;margin:2px 0 0;background:0 0;font-size:inherit;font-family:inherit;font-weight:700;cursor:pointer;text-align:left}#details-wrapper__back:focus{outline:1px dashed #000!important;outline-width:2px!important}:host([active]) #details-wrapper__back{display:inline-block;width:100%;padding-left:16px}#details-wrapper__back:before{content:\'\';position:absolute;top:50%;left:.5em;display:block;width:.75em;height:.75em;-webkit-box-shadow:inset -.1875em -.1875em 0 .0625em #000;box-shadow:inset -.1875em -.1875em 0 .0625em #000;-webkit-transform:translate(-50%,-50%) scale(.6) rotate(135deg);transform:translate(-50%,-50%) scale(.6) rotate(135deg)}#details-wrapper__heading{margin:0;padding:0;font-size:inherit;line-height:1.5;padding:.5em 0}:host([consistent-height]) ::slotted([slot=details]){display:block!important;-ms-grid-row:1!important;-ms-grid-row-span:1!important;grid-row:1/span 1!important;-ms-grid-column:1!important;-ms-grid-column-span:1!important;grid-column:1/span 1!important}:host([consistent-height][breakpoint=compact]) ::slotted([slot=details]){-ms-grid-row:2!important;-ms-grid-row-span:1!important;grid-row:2/span 1!important}::slotted([hidden]){visibility:hidden!important;position:absolute!important}:host([consistent-height]) ::slotted([hidden]){position:static!important}::slotted([slot=details-nav--footer]){border-right:1px solid #d2d2d2!important;border-right:var(--pfe-primary-details--Border,var(--pfe-theme--ui--border-width--sm,1px) var(--pfe-theme--ui--border-style,solid) var(--pfe-theme--color--ui--border--lighter,#d2d2d2))!important}::slotted(.is-focused:focus),::slotted(.is-focused:hover){outline:1px dashed #000!important;outline-width:2px!important} /*# sourceMappingURL=pfe-primary-detail.min.css.map */</style>\n<div id="details-nav" data-pristine>\n  <slot name="details-nav--header"></slot>\n  <slot name="details-nav"></slot>\n</div>\n<div id="details-wrapper">\n  <div id="details-wrapper__header">\n    <button id="details-wrapper__back"><div id="details-wrapper__heading"></div></button>\n  </div>\n  <slot name="details"></slot>\n</div>\n<div id="details-nav__footer">\n  <slot name="details-nav--footer"></slot>\n</div>'}static get tag(){return"pfe-primary-detail"}static get meta(){return{title:"Primary detail",description:"Reworks title/description content into a vertical-tabs like interface."}}get templateUrl(){return"pfe-primary-detail.html"}get styleUrl(){return"pfe-primary-detail.scss"}static get events(){return{hiddenTab:this.tag+":hidden-tab",shownTab:this.tag+":shown-tab"}}static get PfeType(){return t.PfeTypes.Container}static get properties(){return{orientation:{title:"Orientation",type:String,attr:"aria-orientation",default:"vertical"},role:{type:String,default:"tablist"},breakpointWidth:{type:Number,default:800},active:{type:String},breakpoint:{type:String,values:["compact","desktop"]}}}static get slots(){return{detailsNavHeader:{title:"Details Nav Header",type:"array",namedSlot:!0},detailsNav:{title:"Details Nav",type:"array",namedSlot:!0},detailsNavFooter:{title:"Details Nav Footer",type:"array",namedSlot:!0},details:{title:"Details",type:"array",namedSlot:!0}}}constructor(){super(i,{type:i.PfeType}),this._handleHideShow=this._handleHideShow.bind(this),this._initDetailsNav=this._initDetailsNav.bind(this),this._initDetail=this._initDetail.bind(this),this.closeAll=this.closeAll.bind(this),this._processLightDom=this._processLightDom.bind(this),this._keyboardControls=this._keyboardControls.bind(this),this._setBreakpoint=this._setBreakpoint.bind(this),this._setDetailsNavVisibility=this._setDetailsNavVisibility.bind(this),this._updateBackButtonState=this._updateBackButtonState.bind(this),this._slots={detailsNav:null,details:null,detailsNavHeader:null,detailsNavFooter:null},this._observer=new MutationObserver(this._processLightDom),this._detailsNav=this.shadowRoot.getElementById("details-nav"),this._detailsWrapper=this.shadowRoot.getElementById("details-wrapper"),this._detailsWrapperHeader=this.shadowRoot.getElementById("details-wrapper__header"),this._detailsWrapperHeading=this.shadowRoot.getElementById("details-wrapper__heading"),this._detailsBackButton=this.shadowRoot.getElementById("details-wrapper__back"),this._debouncedSetBreakpoint=null,this._focusableElements='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'}connectedCallback(){super.connectedCallback(),this.hasLightDOM()&&this._processLightDom();const t=this.hasAttribute("automated-testing")?0:100;this._debouncedSetBreakpoint=function(t,e,i=!1){var a;return function(){var s=this,r=arguments,o=function(){a=null,i||t.apply(s,r)},n=i&&!a;clearTimeout(a),a=setTimeout(o,e),n&&t.apply(s,r)}}(this._setBreakpoint,t),window.addEventListener("resize",this._debouncedSetBreakpoint),this._observer.observe(this,e),this._detailsBackButton.addEventListener("click",this.closeAll),this.addEventListener("keydown",this._keyboardControls)}disconnectedCallback(){if(this._observer.disconnect(),window.removeEventListener("resize",this._debouncedSetBreakpoint),this._slots.detailsNav)for(let t=0;t<this._slots.detailsNav.length;t++)this._slots.detailsNav[t].removeEventListener("click",this._handleHideShow);this.removeEventListener("keydown",this._keyboardControls)}_initDetailsNav(t,e){const i="BUTTON"!==t.tagName;let a=null;if(i){const e=t.attributes;a=document.createElement("button"),a.innerHTML=t.innerHTML,a.setAttribute("role","tab");const i=["style","role"];[...e].forEach(t=>{i.includes(t.name)||a.setAttribute(t.name,t.value)}),a.dataset.wasTag=t.tagName,t.id||a.setAttribute("id","pfe-detail-toggle-"+Math.random().toString(36).substr(2,9))}else a=t;t.id||t.setAttribute("id","pfe-detail-toggle-"+Math.random().toString(36).substr(2,9)),a.addEventListener("click",this._handleHideShow),a.dataset.index=e,this._slots.detailsNav[e]=a,i&&t.replaceWith(a)}_initDetail(t,e){t.dataset.index=e,t.hasAttribute("id")||t.setAttribute("id","pfe-detail-"+Math.random().toString(36).substr(2,9)),t.setAttribute("role","tabpanel"),t.setAttribute("tabindex","-1");const i=this._slots.detailsNav[e].getAttribute("id");!t.hasAttribute("aria-labelledby")&&i&&t.setAttribute("aria-labelledby",i),!this._slots.detailsNav[e].hasAttribute("aria-controls")&&t.id&&this._slots.detailsNav[e].setAttribute("aria-controls",t.id),t.dataset.processed=!0}_setBreakpoint(){const t=this.breakpoint,e=this.offsetWidth<this.breakpointWidth?"compact":"desktop";if(this.breakpoint=e,this._detailsNav.hasAttribute("data-pristine")&&"compact"===e){const t=!!this.active&&document.getElementById(this.active);t&&(this._addCloseAttributes(t),this.removeAttribute("active"))}if(t!==e)for(let t=0;t<this._slots.detailsNav.length;t++){const e=this._slots.detailsNav[t];e.id===this.active?this._addActiveAttributes(e):this._addCloseAttributes(e)}"desktop"!==t&&"desktop"===e?(this.active||this._handleHideShow({target:this._slots.detailsNav[0]}),this._setDetailsNavVisibility(!0)):"compact"!==t&&"compact"===e&&this.active&&this._setDetailsNavVisibility(!1)}_setDetailsNavVisibility(t){const e=["detailsNav","detailsNavHeader","detailsNavFooter"];for(let i=0;i<e.length;i++){const a=e[i];for(let e=0;e<this._slots[a].length;e++){this._slots[a][e].hidden=!t}}}_processLightDom(){if(this._slots={detailsNav:this.getSlot("details-nav"),details:this.getSlot("details"),detailsNavHeader:this.getSlot("details-nav--header"),detailsNavFooter:this.getSlot("details-nav--footer")},this._slots.detailsNav.length!==this._slots.details.length)return void this.error(`The number of item headings does not match the number of item details. Found ${this._slots.detailsNav.length} item headings & ${this._slots.details.length} item details.`);const t=this.active;let e=null;t&&(e=document.getElementById(t).getAttribute("aria-controls")),this._slots.detailsNav.forEach((t,e)=>{this._initDetailsNav(t,e)}),this._slots.details.forEach((t,i)=>{this._initDetail(t,i),t.id!==e&&this._addCloseAttributes(this._slots.detailsNav[i],t)}),this._setBreakpoint(),this.active||"desktop"!==this.breakpoint||this._handleHideShow({target:this._slots.detailsNav[0]})}_addActiveAttributes(t,e){e||(e=document.getElementById(t.getAttribute("aria-controls"))),e.hidden=!1,e.removeAttribute("aria-hidden"),e.removeAttribute("tabindex"),"desktop"===this.breakpoint?(t.setAttribute("aria-selected","true"),t.removeAttribute("aria-expanded")):(t.setAttribute("aria-expanded","true"),t.removeAttribute("aria-selected"))}_addCloseAttributes(t,e){e||(e=document.getElementById(t.getAttribute("aria-controls"))),e.hidden=!0,e.setAttribute("tabindex","-1"),e.setAttribute("aria-hidden","true"),"desktop"===this.breakpoint?(t.setAttribute("aria-selected","false"),t.removeAttribute("aria-expanded")):(t.setAttribute("aria-expanded","false"),t.removeAttribute("aria-selected"))}_updateBackButtonState(){"compact"===this.breakpoint&&(this.active?this._detailsBackButton.setAttribute("aria-expanded","true"):this._detailsBackButton.setAttribute("aria-expanded","false"))}_handleHideShow(t){const e=t.target;if("object"==typeof t&&Array.isArray(t.path)&&this._detailsNav.removeAttribute("data-pristine"),void 0===e)return;if("true"===e.getAttribute("aria-selected")&&e.id===this.active)return;const a=this._slots.details[parseInt(e.dataset.index)],s=!!this.active&&document.getElementById(this.active),r=document.getElementById(this.active);this.setAttribute("active",e.id);let o=null;if(o=e.dataset.wasTag&&"H"===e.dataset.wasTag.substr(0,1)?document.createElement(e.dataset.wasTag):document.createElement("strong"),o.innerText=e.innerText,o.id=this._detailsWrapperHeading.id,this._detailsWrapperHeading.replaceWith(o),this._detailsWrapperHeading=o,this._detailsBackButton.setAttribute("aria-controls",a.id),r){const t=this._slots.details[parseInt(r.dataset.index)];this._addCloseAttributes(r,t),this.emitEvent(i.events.hiddenTab,{detail:{tab:r,details:t}})}this._addActiveAttributes(e,a),"compact"===this.getAttribute("breakpoint")&&(this.active?(this._setDetailsNavVisibility(!1),this._detailsBackButton.focus()):(this._setDetailsNavVisibility(!0),s&&s.focus())),this.emitEvent(i.events.shownTab,{detail:{tab:e,details:a}}),this._updateBackButtonState()}closeAll(){if(this._setDetailsNavVisibility(!0),this.active){const t=document.getElementById(this.active),e=document.getElementById(t.getAttribute("aria-controls"));this._addCloseAttributes(t,e),this.emitEvent(i.events.hiddenTab,{detail:{tab:t,details:e}}),t.focus(),this.removeAttribute("active")}}_isToggle(t){return"details-nav"===t.getAttribute("slot")}_isPanel(t){return"details"===t.getAttribute("slot")}_getFocusedPanel(){const t=this._slots.detailsNav;let e=t.findIndex(t=>t===document.activeElement);return t[e%t.length].nextElementSibling}_getPrevToggle(){const t=this._slots.detailsNav;let e=t.findIndex(t=>t===document.activeElement)-1;return t[(e+t.length)%t.length]}_getFocusedToggle(){return document.getElementById(this.active)}_getNextToggle(){const t=this._slots.detailsNav;let e=t.findIndex(t=>t===document.activeElement)+1;return t[e%t.length]}_keyboardControls(t){const e=t.target;if(!this._isToggle(e))return;let i;switch(t.key){case"ArrowUp":case"Up":case"ArrowLeft":case"Left":t.preventDefault(),i=this._getPrevToggle();break;case"ArrowDown":case"Down":case"ArrowRight":case"Right":t.preventDefault(),i=this._getNextToggle();break;case"Home":t.preventDefault(),i=this._slots.detailsNav[0];break;case"End":t.preventDefault(),i=this._slots.detailsNav[this._slots.detailsNav.length-1];break;case"Escape":"compact"===this.getAttribute("breakpoint")&&this.closeAll();break;default:return}i&&i.focus()}}t.create(i);export default i;
//# sourceMappingURL=pfe-primary-detail.min.js.map
