{"version":3,"file":"pfe-navigation.min.js","sources":["pfe-navigation.js"],"sourcesContent":["import PFElement from '../pfelement/pfelement.js';\nimport '../pfe-accordion/pfe-accordion.js';\n\nvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar es5 = createCommonjsModule(function (module) {\nvar isES5 = (function(){\n    return this === undefined;\n})();\n\nif (isES5) {\n    module.exports = {\n        freeze: Object.freeze,\n        defineProperty: Object.defineProperty,\n        getDescriptor: Object.getOwnPropertyDescriptor,\n        keys: Object.keys,\n        names: Object.getOwnPropertyNames,\n        getPrototypeOf: Object.getPrototypeOf,\n        isArray: Array.isArray,\n        isES5: isES5,\n        propertyIsWritable: function(obj, prop) {\n            var descriptor = Object.getOwnPropertyDescriptor(obj, prop);\n            return !!(!descriptor || descriptor.writable || descriptor.set);\n        }\n    };\n} else {\n    var has = {}.hasOwnProperty;\n    var str = {}.toString;\n    var proto = {}.constructor.prototype;\n\n    var ObjectKeys = function (o) {\n        var ret = [];\n        for (var key in o) {\n            if (has.call(o, key)) {\n                ret.push(key);\n            }\n        }\n        return ret;\n    };\n\n    var ObjectGetDescriptor = function(o, key) {\n        return {value: o[key]};\n    };\n\n    var ObjectDefineProperty = function (o, key, desc) {\n        o[key] = desc.value;\n        return o;\n    };\n\n    var ObjectFreeze = function (obj) {\n        return obj;\n    };\n\n    var ObjectGetPrototypeOf = function (obj) {\n        try {\n            return Object(obj).constructor.prototype;\n        }\n        catch (e) {\n            return proto;\n        }\n    };\n\n    var ArrayIsArray = function (obj) {\n        try {\n            return str.call(obj) === \"[object Array]\";\n        }\n        catch(e) {\n            return false;\n        }\n    };\n\n    module.exports = {\n        isArray: ArrayIsArray,\n        keys: ObjectKeys,\n        names: ObjectKeys,\n        defineProperty: ObjectDefineProperty,\n        getDescriptor: ObjectGetDescriptor,\n        freeze: ObjectFreeze,\n        getPrototypeOf: ObjectGetPrototypeOf,\n        isES5: isES5,\n        propertyIsWritable: function() {\n            return true;\n        }\n    };\n}\n});\nvar es5_1 = es5.freeze;\nvar es5_2 = es5.defineProperty;\nvar es5_3 = es5.getDescriptor;\nvar es5_4 = es5.keys;\nvar es5_5 = es5.names;\nvar es5_6 = es5.getPrototypeOf;\nvar es5_7 = es5.isArray;\nvar es5_8 = es5.isES5;\nvar es5_9 = es5.propertyIsWritable;\n\nvar canEvaluate = typeof navigator == \"undefined\";\n\nvar errorObj = {e: {}};\nvar tryCatchTarget;\nvar globalObject = typeof self !== \"undefined\" ? self :\n    typeof window !== \"undefined\" ? window :\n    typeof commonjsGlobal !== \"undefined\" ? commonjsGlobal :\n    commonjsGlobal !== undefined ? commonjsGlobal : null;\n\nfunction tryCatcher() {\n    try {\n        var target = tryCatchTarget;\n        tryCatchTarget = null;\n        return target.apply(this, arguments);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\n\nvar inherits = function(Child, Parent) {\n    var hasProp = {}.hasOwnProperty;\n\n    function T() {\n        this.constructor = Child;\n        this.constructor$ = Parent;\n        for (var propertyName in Parent.prototype) {\n            if (hasProp.call(Parent.prototype, propertyName) &&\n                propertyName.charAt(propertyName.length-1) !== \"$\"\n           ) {\n                this[propertyName + \"$\"] = Parent.prototype[propertyName];\n            }\n        }\n    }\n    T.prototype = Parent.prototype;\n    Child.prototype = new T();\n    return Child.prototype;\n};\n\n\nfunction isPrimitive(val) {\n    return val == null || val === true || val === false ||\n        typeof val === \"string\" || typeof val === \"number\";\n\n}\n\nfunction isObject(value) {\n    return typeof value === \"function\" ||\n           typeof value === \"object\" && value !== null;\n}\n\nfunction maybeWrapAsError(maybeError) {\n    if (!isPrimitive(maybeError)) return maybeError;\n\n    return new Error(safeToString(maybeError));\n}\n\nfunction withAppended(target, appendee) {\n    var len = target.length;\n    var ret = new Array(len + 1);\n    var i;\n    for (i = 0; i < len; ++i) {\n        ret[i] = target[i];\n    }\n    ret[i] = appendee;\n    return ret;\n}\n\nfunction getDataPropertyOrDefault(obj, key, defaultValue) {\n    if (es5.isES5) {\n        var desc = Object.getOwnPropertyDescriptor(obj, key);\n\n        if (desc != null) {\n            return desc.get == null && desc.set == null\n                    ? desc.value\n                    : defaultValue;\n        }\n    } else {\n        return {}.hasOwnProperty.call(obj, key) ? obj[key] : undefined;\n    }\n}\n\nfunction notEnumerableProp(obj, name, value) {\n    if (isPrimitive(obj)) return obj;\n    var descriptor = {\n        value: value,\n        configurable: true,\n        enumerable: false,\n        writable: true\n    };\n    es5.defineProperty(obj, name, descriptor);\n    return obj;\n}\n\nfunction thrower(r) {\n    throw r;\n}\n\nvar inheritedDataKeys = (function() {\n    var excludedPrototypes = [\n        Array.prototype,\n        Object.prototype,\n        Function.prototype\n    ];\n\n    var isExcludedProto = function(val) {\n        for (var i = 0; i < excludedPrototypes.length; ++i) {\n            if (excludedPrototypes[i] === val) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    if (es5.isES5) {\n        var getKeys = Object.getOwnPropertyNames;\n        return function(obj) {\n            var ret = [];\n            var visitedKeys = Object.create(null);\n            while (obj != null && !isExcludedProto(obj)) {\n                var keys;\n                try {\n                    keys = getKeys(obj);\n                } catch (e) {\n                    return ret;\n                }\n                for (var i = 0; i < keys.length; ++i) {\n                    var key = keys[i];\n                    if (visitedKeys[key]) continue;\n                    visitedKeys[key] = true;\n                    var desc = Object.getOwnPropertyDescriptor(obj, key);\n                    if (desc != null && desc.get == null && desc.set == null) {\n                        ret.push(key);\n                    }\n                }\n                obj = es5.getPrototypeOf(obj);\n            }\n            return ret;\n        };\n    } else {\n        var hasProp = {}.hasOwnProperty;\n        return function(obj) {\n            if (isExcludedProto(obj)) return [];\n            var ret = [];\n\n            /*jshint forin:false */\n            enumeration: for (var key in obj) {\n                if (hasProp.call(obj, key)) {\n                    ret.push(key);\n                } else {\n                    for (var i = 0; i < excludedPrototypes.length; ++i) {\n                        if (hasProp.call(excludedPrototypes[i], key)) {\n                            continue enumeration;\n                        }\n                    }\n                    ret.push(key);\n                }\n            }\n            return ret;\n        };\n    }\n\n})();\n\nvar thisAssignmentPattern = /this\\s*\\.\\s*\\S+\\s*=/;\nfunction isClass(fn) {\n    try {\n        if (typeof fn === \"function\") {\n            var keys = es5.names(fn.prototype);\n\n            var hasMethods = es5.isES5 && keys.length > 1;\n            var hasMethodsOtherThanConstructor = keys.length > 0 &&\n                !(keys.length === 1 && keys[0] === \"constructor\");\n            var hasThisAssignmentAndStaticMethods =\n                thisAssignmentPattern.test(fn + \"\") && es5.names(fn).length > 0;\n\n            if (hasMethods || hasMethodsOtherThanConstructor ||\n                hasThisAssignmentAndStaticMethods) {\n                return true;\n            }\n        }\n        return false;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction toFastProperties(obj) {\n    return obj;\n    eval(obj);\n}\n\nvar rident = /^[a-z$_][a-z$_0-9]*$/i;\nfunction isIdentifier(str) {\n    return rident.test(str);\n}\n\nfunction filledRange(count, prefix, suffix) {\n    var ret = new Array(count);\n    for(var i = 0; i < count; ++i) {\n        ret[i] = prefix + i + suffix;\n    }\n    return ret;\n}\n\nfunction safeToString(obj) {\n    try {\n        return obj + \"\";\n    } catch (e) {\n        return \"[no string representation]\";\n    }\n}\n\nfunction isError(obj) {\n    return obj instanceof Error ||\n        (obj !== null &&\n           typeof obj === \"object\" &&\n           typeof obj.message === \"string\" &&\n           typeof obj.name === \"string\");\n}\n\nfunction markAsOriginatingFromRejection(e) {\n    try {\n        notEnumerableProp(e, \"isOperational\", true);\n    }\n    catch(ignore) {}\n}\n\nfunction originatesFromRejection(e) {\n    if (e == null) return false;\n    return ((e instanceof Error[\"__BluebirdErrorTypes__\"].OperationalError) ||\n        e[\"isOperational\"] === true);\n}\n\nfunction canAttachTrace(obj) {\n    return isError(obj) && es5.propertyIsWritable(obj, \"stack\");\n}\n\nvar ensureErrorObject = (function() {\n    if (!(\"stack\" in new Error())) {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            try {throw new Error(safeToString(value));}\n            catch(err) {return err;}\n        };\n    } else {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            return new Error(safeToString(value));\n        };\n    }\n})();\n\nfunction classString(obj) {\n    return {}.toString.call(obj);\n}\n\nfunction copyDescriptors(from, to, filter) {\n    var keys = es5.names(from);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        if (filter(key)) {\n            try {\n                es5.defineProperty(to, key, es5.getDescriptor(from, key));\n            } catch (ignore) {}\n        }\n    }\n}\n\nvar asArray = function(v) {\n    if (es5.isArray(v)) {\n        return v;\n    }\n    return null;\n};\n\nif (typeof Symbol !== \"undefined\" && Symbol.iterator) {\n    var ArrayFrom = typeof Array.from === \"function\" ? function(v) {\n        return Array.from(v);\n    } : function(v) {\n        var ret = [];\n        var it = v[Symbol.iterator]();\n        var itResult;\n        while (!((itResult = it.next()).done)) {\n            ret.push(itResult.value);\n        }\n        return ret;\n    };\n\n    asArray = function(v) {\n        if (es5.isArray(v)) {\n            return v;\n        } else if (v != null && typeof v[Symbol.iterator] === \"function\") {\n            return ArrayFrom(v);\n        }\n        return null;\n    };\n}\n\nvar isNode = typeof process !== \"undefined\" &&\n        classString(process).toLowerCase() === \"[object process]\";\n\nvar hasEnvVariables = typeof process !== \"undefined\" &&\n    typeof process.env !== \"undefined\";\n\nfunction env(key) {\n    return hasEnvVariables ? process.env[key] : undefined;\n}\n\nfunction getNativePromise() {\n    if (typeof Promise === \"function\") {\n        try {\n            var promise = new Promise(function(){});\n            if ({}.toString.call(promise) === \"[object Promise]\") {\n                return Promise;\n            }\n        } catch (e) {}\n    }\n}\n\nfunction domainBind(self, cb) {\n    return self.bind(cb);\n}\n\nvar ret = {\n    isClass: isClass,\n    isIdentifier: isIdentifier,\n    inheritedDataKeys: inheritedDataKeys,\n    getDataPropertyOrDefault: getDataPropertyOrDefault,\n    thrower: thrower,\n    isArray: es5.isArray,\n    asArray: asArray,\n    notEnumerableProp: notEnumerableProp,\n    isPrimitive: isPrimitive,\n    isObject: isObject,\n    isError: isError,\n    canEvaluate: canEvaluate,\n    errorObj: errorObj,\n    tryCatch: tryCatch,\n    inherits: inherits,\n    withAppended: withAppended,\n    maybeWrapAsError: maybeWrapAsError,\n    toFastProperties: toFastProperties,\n    filledRange: filledRange,\n    toString: safeToString,\n    canAttachTrace: canAttachTrace,\n    ensureErrorObject: ensureErrorObject,\n    originatesFromRejection: originatesFromRejection,\n    markAsOriginatingFromRejection: markAsOriginatingFromRejection,\n    classString: classString,\n    copyDescriptors: copyDescriptors,\n    hasDevTools: typeof chrome !== \"undefined\" && chrome &&\n                 typeof chrome.loadTimes === \"function\",\n    isNode: isNode,\n    hasEnvVariables: hasEnvVariables,\n    env: env,\n    global: globalObject,\n    getNativePromise: getNativePromise,\n    domainBind: domainBind\n};\nret.isRecentNode = ret.isNode && (function() {\n    var version = process.versions.node.split(\".\").map(Number);\n    return (version[0] === 0 && version[1] > 10) || (version[0] > 0);\n})();\n\nif (ret.isNode) ret.toFastProperties(process);\n\ntry {throw new Error(); } catch (e) {ret.lastLineError = e;}\nvar util = ret;\n\nvar schedule;\nvar noAsyncScheduler = function() {\n    throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar NativePromise = util.getNativePromise();\nif (util.isNode && typeof MutationObserver === \"undefined\") {\n    var GlobalSetImmediate = commonjsGlobal.setImmediate;\n    var ProcessNextTick = process.nextTick;\n    schedule = util.isRecentNode\n                ? function(fn) { GlobalSetImmediate.call(commonjsGlobal, fn); }\n                : function(fn) { ProcessNextTick.call(process, fn); };\n} else if (typeof NativePromise === \"function\" &&\n           typeof NativePromise.resolve === \"function\") {\n    var nativePromise = NativePromise.resolve();\n    schedule = function(fn) {\n        nativePromise.then(fn);\n    };\n} else if ((typeof MutationObserver !== \"undefined\") &&\n          !(typeof window !== \"undefined\" &&\n            window.navigator &&\n            (window.navigator.standalone || window.cordova))) {\n    schedule = (function() {\n        var div = document.createElement(\"div\");\n        var opts = {attributes: true};\n        var toggleScheduled = false;\n        var div2 = document.createElement(\"div\");\n        var o2 = new MutationObserver(function() {\n            div.classList.toggle(\"foo\");\n            toggleScheduled = false;\n        });\n        o2.observe(div2, opts);\n\n        var scheduleToggle = function() {\n            if (toggleScheduled) return;\n            toggleScheduled = true;\n            div2.classList.toggle(\"foo\");\n        };\n\n        return function schedule(fn) {\n            var o = new MutationObserver(function() {\n                o.disconnect();\n                fn();\n            });\n            o.observe(div, opts);\n            scheduleToggle();\n        };\n    })();\n} else if (typeof setImmediate !== \"undefined\") {\n    schedule = function (fn) {\n        setImmediate(fn);\n    };\n} else if (typeof setTimeout !== \"undefined\") {\n    schedule = function (fn) {\n        setTimeout(fn, 0);\n    };\n} else {\n    schedule = noAsyncScheduler;\n}\nvar schedule_1 = schedule;\n\nfunction arrayMove(src, srcIndex, dst, dstIndex, len) {\n    for (var j = 0; j < len; ++j) {\n        dst[j + dstIndex] = src[j + srcIndex];\n        src[j + srcIndex] = void 0;\n    }\n}\n\nfunction Queue(capacity) {\n    this._capacity = capacity;\n    this._length = 0;\n    this._front = 0;\n}\n\nQueue.prototype._willBeOverCapacity = function (size) {\n    return this._capacity < size;\n};\n\nQueue.prototype._pushOne = function (arg) {\n    var length = this.length();\n    this._checkCapacity(length + 1);\n    var i = (this._front + length) & (this._capacity - 1);\n    this[i] = arg;\n    this._length = length + 1;\n};\n\nQueue.prototype.push = function (fn, receiver, arg) {\n    var length = this.length() + 3;\n    if (this._willBeOverCapacity(length)) {\n        this._pushOne(fn);\n        this._pushOne(receiver);\n        this._pushOne(arg);\n        return;\n    }\n    var j = this._front + length - 3;\n    this._checkCapacity(length);\n    var wrapMask = this._capacity - 1;\n    this[(j + 0) & wrapMask] = fn;\n    this[(j + 1) & wrapMask] = receiver;\n    this[(j + 2) & wrapMask] = arg;\n    this._length = length;\n};\n\nQueue.prototype.shift = function () {\n    var front = this._front,\n        ret = this[front];\n\n    this[front] = undefined;\n    this._front = (front + 1) & (this._capacity - 1);\n    this._length--;\n    return ret;\n};\n\nQueue.prototype.length = function () {\n    return this._length;\n};\n\nQueue.prototype._checkCapacity = function (size) {\n    if (this._capacity < size) {\n        this._resizeTo(this._capacity << 1);\n    }\n};\n\nQueue.prototype._resizeTo = function (capacity) {\n    var oldCapacity = this._capacity;\n    this._capacity = capacity;\n    var front = this._front;\n    var length = this._length;\n    var moveItemsCount = (front + length) & (oldCapacity - 1);\n    arrayMove(this, 0, this, oldCapacity, moveItemsCount);\n};\n\nvar queue = Queue;\n\nvar firstLineError;\ntry {throw new Error(); } catch (e) {firstLineError = e;}\n\n\n\n\nfunction Async() {\n    this._customScheduler = false;\n    this._isTickUsed = false;\n    this._lateQueue = new queue(16);\n    this._normalQueue = new queue(16);\n    this._haveDrainedQueues = false;\n    this._trampolineEnabled = true;\n    var self = this;\n    this.drainQueues = function () {\n        self._drainQueues();\n    };\n    this._schedule = schedule_1;\n}\n\nAsync.prototype.setScheduler = function(fn) {\n    var prev = this._schedule;\n    this._schedule = fn;\n    this._customScheduler = true;\n    return prev;\n};\n\nAsync.prototype.hasCustomScheduler = function() {\n    return this._customScheduler;\n};\n\nAsync.prototype.enableTrampoline = function() {\n    this._trampolineEnabled = true;\n};\n\nAsync.prototype.disableTrampolineIfNecessary = function() {\n    if (util.hasDevTools) {\n        this._trampolineEnabled = false;\n    }\n};\n\nAsync.prototype.haveItemsQueued = function () {\n    return this._isTickUsed || this._haveDrainedQueues;\n};\n\n\nAsync.prototype.fatalError = function(e, isNode) {\n    if (isNode) {\n        process.stderr.write(\"Fatal \" + (e instanceof Error ? e.stack : e) +\n            \"\\n\");\n        process.exit(2);\n    } else {\n        this.throwLater(e);\n    }\n};\n\nAsync.prototype.throwLater = function(fn, arg) {\n    if (arguments.length === 1) {\n        arg = fn;\n        fn = function () { throw arg; };\n    }\n    if (typeof setTimeout !== \"undefined\") {\n        setTimeout(function() {\n            fn(arg);\n        }, 0);\n    } else try {\n        this._schedule(function() {\n            fn(arg);\n        });\n    } catch (e) {\n        throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n};\n\nfunction AsyncInvokeLater(fn, receiver, arg) {\n    this._lateQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncInvoke(fn, receiver, arg) {\n    this._normalQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncSettlePromises(promise) {\n    this._normalQueue._pushOne(promise);\n    this._queueTick();\n}\n\nif (!util.hasDevTools) {\n    Async.prototype.invokeLater = AsyncInvokeLater;\n    Async.prototype.invoke = AsyncInvoke;\n    Async.prototype.settlePromises = AsyncSettlePromises;\n} else {\n    Async.prototype.invokeLater = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvokeLater.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                setTimeout(function() {\n                    fn.call(receiver, arg);\n                }, 100);\n            });\n        }\n    };\n\n    Async.prototype.invoke = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvoke.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                fn.call(receiver, arg);\n            });\n        }\n    };\n\n    Async.prototype.settlePromises = function(promise) {\n        if (this._trampolineEnabled) {\n            AsyncSettlePromises.call(this, promise);\n        } else {\n            this._schedule(function() {\n                promise._settlePromises();\n            });\n        }\n    };\n}\n\nfunction _drainQueue(queue$$1) {\n    while (queue$$1.length() > 0) {\n        _drainQueueStep(queue$$1);\n    }\n}\n\nfunction _drainQueueStep(queue$$1) {\n    var fn = queue$$1.shift();\n    if (typeof fn !== \"function\") {\n        fn._settlePromises();\n    } else {\n        var receiver = queue$$1.shift();\n        var arg = queue$$1.shift();\n        fn.call(receiver, arg);\n    }\n}\n\nAsync.prototype._drainQueues = function () {\n    _drainQueue(this._normalQueue);\n    this._reset();\n    this._haveDrainedQueues = true;\n    _drainQueue(this._lateQueue);\n};\n\nAsync.prototype._queueTick = function () {\n    if (!this._isTickUsed) {\n        this._isTickUsed = true;\n        this._schedule(this.drainQueues);\n    }\n};\n\nAsync.prototype._reset = function () {\n    this._isTickUsed = false;\n};\n\nvar async = Async;\nvar firstLineError_1 = firstLineError;\nasync.firstLineError = firstLineError_1;\n\nvar Objectfreeze = es5.freeze;\n\nvar inherits$1 = util.inherits;\nvar notEnumerableProp$1 = util.notEnumerableProp;\n\nfunction subError(nameProperty, defaultMessage) {\n    function SubError(message) {\n        if (!(this instanceof SubError)) return new SubError(message);\n        notEnumerableProp$1(this, \"message\",\n            typeof message === \"string\" ? message : defaultMessage);\n        notEnumerableProp$1(this, \"name\", nameProperty);\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        } else {\n            Error.call(this);\n        }\n    }\n    inherits$1(SubError, Error);\n    return SubError;\n}\n\nvar _TypeError, _RangeError;\nvar Warning = subError(\"Warning\", \"warning\");\nvar CancellationError = subError(\"CancellationError\", \"cancellation error\");\nvar TimeoutError = subError(\"TimeoutError\", \"timeout error\");\nvar AggregateError = subError(\"AggregateError\", \"aggregate error\");\ntry {\n    _TypeError = TypeError;\n    _RangeError = RangeError;\n} catch(e) {\n    _TypeError = subError(\"TypeError\", \"type error\");\n    _RangeError = subError(\"RangeError\", \"range error\");\n}\n\nvar methods = (\"join pop push shift unshift slice filter forEach some \" +\n    \"every map indexOf lastIndexOf reduce reduceRight sort reverse\").split(\" \");\n\nfor (var i = 0; i < methods.length; ++i) {\n    if (typeof Array.prototype[methods[i]] === \"function\") {\n        AggregateError.prototype[methods[i]] = Array.prototype[methods[i]];\n    }\n}\n\nes5.defineProperty(AggregateError.prototype, \"length\", {\n    value: 0,\n    configurable: false,\n    writable: true,\n    enumerable: true\n});\nAggregateError.prototype[\"isOperational\"] = true;\nvar level = 0;\nAggregateError.prototype.toString = function() {\n    var indent = Array(level * 4 + 1).join(\" \");\n    var ret = \"\\n\" + indent + \"AggregateError of:\" + \"\\n\";\n    level++;\n    indent = Array(level * 4 + 1).join(\" \");\n    for (var i = 0; i < this.length; ++i) {\n        var str = this[i] === this ? \"[Circular AggregateError]\" : this[i] + \"\";\n        var lines = str.split(\"\\n\");\n        for (var j = 0; j < lines.length; ++j) {\n            lines[j] = indent + lines[j];\n        }\n        str = lines.join(\"\\n\");\n        ret += str + \"\\n\";\n    }\n    level--;\n    return ret;\n};\n\nfunction OperationalError(message) {\n    if (!(this instanceof OperationalError))\n        return new OperationalError(message);\n    notEnumerableProp$1(this, \"name\", \"OperationalError\");\n    notEnumerableProp$1(this, \"message\", message);\n    this.cause = message;\n    this[\"isOperational\"] = true;\n\n    if (message instanceof Error) {\n        notEnumerableProp$1(this, \"message\", message.message);\n        notEnumerableProp$1(this, \"stack\", message.stack);\n    } else if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, this.constructor);\n    }\n\n}\ninherits$1(OperationalError, Error);\n\nvar errorTypes = Error[\"__BluebirdErrorTypes__\"];\nif (!errorTypes) {\n    errorTypes = Objectfreeze({\n        CancellationError: CancellationError,\n        TimeoutError: TimeoutError,\n        OperationalError: OperationalError,\n        RejectionError: OperationalError,\n        AggregateError: AggregateError\n    });\n    es5.defineProperty(Error, \"__BluebirdErrorTypes__\", {\n        value: errorTypes,\n        writable: false,\n        enumerable: false,\n        configurable: false\n    });\n}\n\nvar errors = {\n    Error: Error,\n    TypeError: _TypeError,\n    RangeError: _RangeError,\n    CancellationError: errorTypes.CancellationError,\n    OperationalError: errorTypes.OperationalError,\n    TimeoutError: errorTypes.TimeoutError,\n    AggregateError: errorTypes.AggregateError,\n    Warning: Warning\n};\n\nvar thenables = function(Promise, INTERNAL) {\nvar util$$1 = util;\nvar errorObj = util$$1.errorObj;\nvar isObject = util$$1.isObject;\n\nfunction tryConvertToPromise(obj, context) {\n    if (isObject(obj)) {\n        if (obj instanceof Promise) return obj;\n        var then = getThen(obj);\n        if (then === errorObj) {\n            if (context) context._pushContext();\n            var ret = Promise.reject(then.e);\n            if (context) context._popContext();\n            return ret;\n        } else if (typeof then === \"function\") {\n            if (isAnyBluebirdPromise(obj)) {\n                var ret = new Promise(INTERNAL);\n                obj._then(\n                    ret._fulfill,\n                    ret._reject,\n                    undefined,\n                    ret,\n                    null\n                );\n                return ret;\n            }\n            return doThenable(obj, then, context);\n        }\n    }\n    return obj;\n}\n\nfunction doGetThen(obj) {\n    return obj.then;\n}\n\nfunction getThen(obj) {\n    try {\n        return doGetThen(obj);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\n\nvar hasProp = {}.hasOwnProperty;\nfunction isAnyBluebirdPromise(obj) {\n    try {\n        return hasProp.call(obj, \"_promise0\");\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction doThenable(x, then, context) {\n    var promise = new Promise(INTERNAL);\n    var ret = promise;\n    if (context) context._pushContext();\n    promise._captureStackTrace();\n    if (context) context._popContext();\n    var synchronous = true;\n    var result = util$$1.tryCatch(then).call(x, resolve, reject);\n    synchronous = false;\n\n    if (promise && result === errorObj) {\n        promise._rejectCallback(result.e, true, true);\n        promise = null;\n    }\n\n    function resolve(value) {\n        if (!promise) return;\n        promise._resolveCallback(value);\n        promise = null;\n    }\n\n    function reject(reason) {\n        if (!promise) return;\n        promise._rejectCallback(reason, synchronous, true);\n        promise = null;\n    }\n    return ret;\n}\n\nreturn tryConvertToPromise;\n};\n\nvar promise_array = function(Promise, INTERNAL, tryConvertToPromise,\n    apiRejection, Proxyable) {\nvar util$$1 = util;\n\nfunction toResolutionValue(val) {\n    switch(val) {\n    case -2: return [];\n    case -3: return {};\n    case -6: return new Map();\n    }\n}\n\nfunction PromiseArray(values) {\n    var promise = this._promise = new Promise(INTERNAL);\n    if (values instanceof Promise) {\n        promise._propagateFrom(values, 3);\n    }\n    promise._setOnCancel(this);\n    this._values = values;\n    this._length = 0;\n    this._totalResolved = 0;\n    this._init(undefined, -2);\n}\nutil$$1.inherits(PromiseArray, Proxyable);\n\nPromiseArray.prototype.length = function () {\n    return this._length;\n};\n\nPromiseArray.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseArray.prototype._init = function init(_, resolveValueIfEmpty) {\n    var values = tryConvertToPromise(this._values, this._promise);\n    if (values instanceof Promise) {\n        values = values._target();\n        var bitField = values._bitField;\n        this._values = values;\n\n        if (((bitField & 50397184) === 0)) {\n            this._promise._setAsyncGuaranteed();\n            return values._then(\n                init,\n                this._reject,\n                undefined,\n                this,\n                resolveValueIfEmpty\n           );\n        } else if (((bitField & 33554432) !== 0)) {\n            values = values._value();\n        } else if (((bitField & 16777216) !== 0)) {\n            return this._reject(values._reason());\n        } else {\n            return this._cancel();\n        }\n    }\n    values = util$$1.asArray(values);\n    if (values === null) {\n        var err = apiRejection(\n            \"expecting an array or an iterable object but got \" + util$$1.classString(values)).reason();\n        this._promise._rejectCallback(err, false);\n        return;\n    }\n\n    if (values.length === 0) {\n        if (resolveValueIfEmpty === -5) {\n            this._resolveEmptyArray();\n        }\n        else {\n            this._resolve(toResolutionValue(resolveValueIfEmpty));\n        }\n        return;\n    }\n    this._iterate(values);\n};\n\nPromiseArray.prototype._iterate = function(values) {\n    var len = this.getActualLength(values.length);\n    this._length = len;\n    this._values = this.shouldCopyValues() ? new Array(len) : this._values;\n    var result = this._promise;\n    var isResolved = false;\n    var bitField = null;\n    for (var i = 0; i < len; ++i) {\n        var maybePromise = tryConvertToPromise(values[i], result);\n\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            bitField = maybePromise._bitField;\n        } else {\n            bitField = null;\n        }\n\n        if (isResolved) {\n            if (bitField !== null) {\n                maybePromise.suppressUnhandledRejections();\n            }\n        } else if (bitField !== null) {\n            if (((bitField & 50397184) === 0)) {\n                maybePromise._proxy(this, i);\n                this._values[i] = maybePromise;\n            } else if (((bitField & 33554432) !== 0)) {\n                isResolved = this._promiseFulfilled(maybePromise._value(), i);\n            } else if (((bitField & 16777216) !== 0)) {\n                isResolved = this._promiseRejected(maybePromise._reason(), i);\n            } else {\n                isResolved = this._promiseCancelled(i);\n            }\n        } else {\n            isResolved = this._promiseFulfilled(maybePromise, i);\n        }\n    }\n    if (!isResolved) result._setAsyncGuaranteed();\n};\n\nPromiseArray.prototype._isResolved = function () {\n    return this._values === null;\n};\n\nPromiseArray.prototype._resolve = function (value) {\n    this._values = null;\n    this._promise._fulfill(value);\n};\n\nPromiseArray.prototype._cancel = function() {\n    if (this._isResolved() || !this._promise._isCancellable()) return;\n    this._values = null;\n    this._promise._cancel();\n};\n\nPromiseArray.prototype._reject = function (reason) {\n    this._values = null;\n    this._promise._rejectCallback(reason, false);\n};\n\nPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nPromiseArray.prototype._promiseCancelled = function() {\n    this._cancel();\n    return true;\n};\n\nPromiseArray.prototype._promiseRejected = function (reason) {\n    this._totalResolved++;\n    this._reject(reason);\n    return true;\n};\n\nPromiseArray.prototype._resultCancelled = function() {\n    if (this._isResolved()) return;\n    var values = this._values;\n    this._cancel();\n    if (values instanceof Promise) {\n        values.cancel();\n    } else {\n        for (var i = 0; i < values.length; ++i) {\n            if (values[i] instanceof Promise) {\n                values[i].cancel();\n            }\n        }\n    }\n};\n\nPromiseArray.prototype.shouldCopyValues = function () {\n    return true;\n};\n\nPromiseArray.prototype.getActualLength = function (len) {\n    return len;\n};\n\nreturn PromiseArray;\n};\n\nvar context = function(Promise) {\nvar longStackTraces = false;\nvar contextStack = [];\n\nPromise.prototype._promiseCreated = function() {};\nPromise.prototype._pushContext = function() {};\nPromise.prototype._popContext = function() {return null;};\nPromise._peekContext = Promise.prototype._peekContext = function() {};\n\nfunction Context() {\n    this._trace = new Context.CapturedTrace(peekContext());\n}\nContext.prototype._pushContext = function () {\n    if (this._trace !== undefined) {\n        this._trace._promiseCreated = null;\n        contextStack.push(this._trace);\n    }\n};\n\nContext.prototype._popContext = function () {\n    if (this._trace !== undefined) {\n        var trace = contextStack.pop();\n        var ret = trace._promiseCreated;\n        trace._promiseCreated = null;\n        return ret;\n    }\n    return null;\n};\n\nfunction createContext() {\n    if (longStackTraces) return new Context();\n}\n\nfunction peekContext() {\n    var lastIndex = contextStack.length - 1;\n    if (lastIndex >= 0) {\n        return contextStack[lastIndex];\n    }\n    return undefined;\n}\nContext.CapturedTrace = null;\nContext.create = createContext;\nContext.deactivateLongStackTraces = function() {};\nContext.activateLongStackTraces = function() {\n    var Promise_pushContext = Promise.prototype._pushContext;\n    var Promise_popContext = Promise.prototype._popContext;\n    var Promise_PeekContext = Promise._peekContext;\n    var Promise_peekContext = Promise.prototype._peekContext;\n    var Promise_promiseCreated = Promise.prototype._promiseCreated;\n    Context.deactivateLongStackTraces = function() {\n        Promise.prototype._pushContext = Promise_pushContext;\n        Promise.prototype._popContext = Promise_popContext;\n        Promise._peekContext = Promise_PeekContext;\n        Promise.prototype._peekContext = Promise_peekContext;\n        Promise.prototype._promiseCreated = Promise_promiseCreated;\n        longStackTraces = false;\n    };\n    longStackTraces = true;\n    Promise.prototype._pushContext = Context.prototype._pushContext;\n    Promise.prototype._popContext = Context.prototype._popContext;\n    Promise._peekContext = Promise.prototype._peekContext = peekContext;\n    Promise.prototype._promiseCreated = function() {\n        var ctx = this._peekContext();\n        if (ctx && ctx._promiseCreated == null) ctx._promiseCreated = this;\n    };\n};\nreturn Context;\n};\n\nvar debuggability = function(Promise, Context) {\nvar getDomain = Promise._getDomain;\nvar async = Promise._async;\nvar Warning = errors.Warning;\nvar util$$1 = util;\nvar es5$$1 = es5;\nvar canAttachTrace = util$$1.canAttachTrace;\nvar unhandledRejectionHandled;\nvar possiblyUnhandledRejection;\nvar bluebirdFramePattern =\n    /[\\\\\\/]bluebird[\\\\\\/]js[\\\\\\/](release|debug|instrumented)/;\nvar nodeFramePattern = /\\((?:timers\\.js):\\d+:\\d+\\)/;\nvar parseLinePattern = /[\\/<\\(](.+?):(\\d+):(\\d+)\\)?\\s*$/;\nvar stackFramePattern = null;\nvar formatStack = null;\nvar indentStackFrames = false;\nvar printWarning;\nvar debugging = !!(util$$1.env(\"BLUEBIRD_DEBUG\") != 0 &&\n                        (util$$1.env(\"BLUEBIRD_DEBUG\") ||\n                         util$$1.env(\"NODE_ENV\") === \"development\"));\n\nvar warnings = !!(util$$1.env(\"BLUEBIRD_WARNINGS\") != 0 &&\n    (debugging || util$$1.env(\"BLUEBIRD_WARNINGS\")));\n\nvar longStackTraces = !!(util$$1.env(\"BLUEBIRD_LONG_STACK_TRACES\") != 0 &&\n    (debugging || util$$1.env(\"BLUEBIRD_LONG_STACK_TRACES\")));\n\nvar wForgottenReturn = util$$1.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\") != 0 &&\n    (warnings || !!util$$1.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\"));\n\nPromise.prototype.suppressUnhandledRejections = function() {\n    var target = this._target();\n    target._bitField = ((target._bitField & (~1048576)) |\n                      524288);\n};\n\nPromise.prototype._ensurePossibleRejectionHandled = function () {\n    if ((this._bitField & 524288) !== 0) return;\n    this._setRejectionIsUnhandled();\n    var self = this;\n    setTimeout(function() {\n        self._notifyUnhandledRejection();\n    }, 1);\n};\n\nPromise.prototype._notifyUnhandledRejectionIsHandled = function () {\n    fireRejectionEvent(\"rejectionHandled\",\n                                  unhandledRejectionHandled, undefined, this);\n};\n\nPromise.prototype._setReturnedNonUndefined = function() {\n    this._bitField = this._bitField | 268435456;\n};\n\nPromise.prototype._returnedNonUndefined = function() {\n    return (this._bitField & 268435456) !== 0;\n};\n\nPromise.prototype._notifyUnhandledRejection = function () {\n    if (this._isRejectionUnhandled()) {\n        var reason = this._settledValue();\n        this._setUnhandledRejectionIsNotified();\n        fireRejectionEvent(\"unhandledRejection\",\n                                      possiblyUnhandledRejection, reason, this);\n    }\n};\n\nPromise.prototype._setUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField | 262144;\n};\n\nPromise.prototype._unsetUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField & (~262144);\n};\n\nPromise.prototype._isUnhandledRejectionNotified = function () {\n    return (this._bitField & 262144) > 0;\n};\n\nPromise.prototype._setRejectionIsUnhandled = function () {\n    this._bitField = this._bitField | 1048576;\n};\n\nPromise.prototype._unsetRejectionIsUnhandled = function () {\n    this._bitField = this._bitField & (~1048576);\n    if (this._isUnhandledRejectionNotified()) {\n        this._unsetUnhandledRejectionIsNotified();\n        this._notifyUnhandledRejectionIsHandled();\n    }\n};\n\nPromise.prototype._isRejectionUnhandled = function () {\n    return (this._bitField & 1048576) > 0;\n};\n\nPromise.prototype._warn = function(message, shouldUseOwnTrace, promise) {\n    return warn(message, shouldUseOwnTrace, promise || this);\n};\n\nPromise.onPossiblyUnhandledRejection = function (fn) {\n    var domain = getDomain();\n    possiblyUnhandledRejection =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util$$1.domainBind(domain, fn))\n                                 : undefined;\n};\n\nPromise.onUnhandledRejectionHandled = function (fn) {\n    var domain = getDomain();\n    unhandledRejectionHandled =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util$$1.domainBind(domain, fn))\n                                 : undefined;\n};\n\nvar disableLongStackTraces = function() {};\nPromise.longStackTraces = function () {\n    if (async.haveItemsQueued() && !config.longStackTraces) {\n        throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (!config.longStackTraces && longStackTracesIsSupported()) {\n        var Promise_captureStackTrace = Promise.prototype._captureStackTrace;\n        var Promise_attachExtraTrace = Promise.prototype._attachExtraTrace;\n        var Promise_dereferenceTrace = Promise.prototype._dereferenceTrace;\n        config.longStackTraces = true;\n        disableLongStackTraces = function() {\n            if (async.haveItemsQueued() && !config.longStackTraces) {\n                throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n            }\n            Promise.prototype._captureStackTrace = Promise_captureStackTrace;\n            Promise.prototype._attachExtraTrace = Promise_attachExtraTrace;\n            Promise.prototype._dereferenceTrace = Promise_dereferenceTrace;\n            Context.deactivateLongStackTraces();\n            async.enableTrampoline();\n            config.longStackTraces = false;\n        };\n        Promise.prototype._captureStackTrace = longStackTracesCaptureStackTrace;\n        Promise.prototype._attachExtraTrace = longStackTracesAttachExtraTrace;\n        Promise.prototype._dereferenceTrace = longStackTracesDereferenceTrace;\n        Context.activateLongStackTraces();\n        async.disableTrampolineIfNecessary();\n    }\n};\n\nPromise.hasLongStackTraces = function () {\n    return config.longStackTraces && longStackTracesIsSupported();\n};\n\nvar fireDomEvent = (function() {\n    try {\n        if (typeof CustomEvent === \"function\") {\n            var event = new CustomEvent(\"CustomEvent\");\n            util$$1.global.dispatchEvent(event);\n            return function(name, event) {\n                var eventData = {\n                    detail: event,\n                    cancelable: true\n                };\n                es5$$1.defineProperty(\n                    eventData, \"promise\", {value: event.promise});\n                es5$$1.defineProperty(eventData, \"reason\", {value: event.reason});\n                var domEvent = new CustomEvent(name.toLowerCase(), eventData);\n                return !util$$1.global.dispatchEvent(domEvent);\n            };\n        } else if (typeof Event === \"function\") {\n            var event = new Event(\"CustomEvent\");\n            util$$1.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = new Event(name.toLowerCase(), {\n                    cancelable: true\n                });\n                domEvent.detail = event;\n                es5$$1.defineProperty(domEvent, \"promise\", {value: event.promise});\n                es5$$1.defineProperty(domEvent, \"reason\", {value: event.reason});\n                return !util$$1.global.dispatchEvent(domEvent);\n            };\n        } else {\n            var event = document.createEvent(\"CustomEvent\");\n            event.initCustomEvent(\"testingtheevent\", false, true, {});\n            util$$1.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = document.createEvent(\"CustomEvent\");\n                domEvent.initCustomEvent(name.toLowerCase(), false, true,\n                    event);\n                return !util$$1.global.dispatchEvent(domEvent);\n            };\n        }\n    } catch (e) {}\n    return function() {\n        return false;\n    };\n})();\n\nvar fireGlobalEvent = (function() {\n    if (util$$1.isNode) {\n        return function() {\n            return process.emit.apply(process, arguments);\n        };\n    } else {\n        if (!util$$1.global) {\n            return function() {\n                return false;\n            };\n        }\n        return function(name) {\n            var methodName = \"on\" + name.toLowerCase();\n            var method = util$$1.global[methodName];\n            if (!method) return false;\n            method.apply(util$$1.global, [].slice.call(arguments, 1));\n            return true;\n        };\n    }\n})();\n\nfunction generatePromiseLifecycleEventObject(name, promise) {\n    return {promise: promise};\n}\n\nvar eventToObjectGenerator = {\n    promiseCreated: generatePromiseLifecycleEventObject,\n    promiseFulfilled: generatePromiseLifecycleEventObject,\n    promiseRejected: generatePromiseLifecycleEventObject,\n    promiseResolved: generatePromiseLifecycleEventObject,\n    promiseCancelled: generatePromiseLifecycleEventObject,\n    promiseChained: function(name, promise, child) {\n        return {promise: promise, child: child};\n    },\n    warning: function(name, warning) {\n        return {warning: warning};\n    },\n    unhandledRejection: function (name, reason, promise) {\n        return {reason: reason, promise: promise};\n    },\n    rejectionHandled: generatePromiseLifecycleEventObject\n};\n\nvar activeFireEvent = function (name) {\n    var globalEventFired = false;\n    try {\n        globalEventFired = fireGlobalEvent.apply(null, arguments);\n    } catch (e) {\n        async.throwLater(e);\n        globalEventFired = true;\n    }\n\n    var domEventFired = false;\n    try {\n        domEventFired = fireDomEvent(name,\n                    eventToObjectGenerator[name].apply(null, arguments));\n    } catch (e) {\n        async.throwLater(e);\n        domEventFired = true;\n    }\n\n    return domEventFired || globalEventFired;\n};\n\nPromise.config = function(opts) {\n    opts = Object(opts);\n    if (\"longStackTraces\" in opts) {\n        if (opts.longStackTraces) {\n            Promise.longStackTraces();\n        } else if (!opts.longStackTraces && Promise.hasLongStackTraces()) {\n            disableLongStackTraces();\n        }\n    }\n    if (\"warnings\" in opts) {\n        var warningsOption = opts.warnings;\n        config.warnings = !!warningsOption;\n        wForgottenReturn = config.warnings;\n\n        if (util$$1.isObject(warningsOption)) {\n            if (\"wForgottenReturn\" in warningsOption) {\n                wForgottenReturn = !!warningsOption.wForgottenReturn;\n            }\n        }\n    }\n    if (\"cancellation\" in opts && opts.cancellation && !config.cancellation) {\n        if (async.haveItemsQueued()) {\n            throw new Error(\n                \"cannot enable cancellation after promises are in use\");\n        }\n        Promise.prototype._clearCancellationData =\n            cancellationClearCancellationData;\n        Promise.prototype._propagateFrom = cancellationPropagateFrom;\n        Promise.prototype._onCancel = cancellationOnCancel;\n        Promise.prototype._setOnCancel = cancellationSetOnCancel;\n        Promise.prototype._attachCancellationCallback =\n            cancellationAttachCancellationCallback;\n        Promise.prototype._execute = cancellationExecute;\n        propagateFromFunction = cancellationPropagateFrom;\n        config.cancellation = true;\n    }\n    if (\"monitoring\" in opts) {\n        if (opts.monitoring && !config.monitoring) {\n            config.monitoring = true;\n            Promise.prototype._fireEvent = activeFireEvent;\n        } else if (!opts.monitoring && config.monitoring) {\n            config.monitoring = false;\n            Promise.prototype._fireEvent = defaultFireEvent;\n        }\n    }\n    return Promise;\n};\n\nfunction defaultFireEvent() { return false; }\n\nPromise.prototype._fireEvent = defaultFireEvent;\nPromise.prototype._execute = function(executor, resolve, reject) {\n    try {\n        executor(resolve, reject);\n    } catch (e) {\n        return e;\n    }\n};\nPromise.prototype._onCancel = function () {};\nPromise.prototype._setOnCancel = function (handler) { };\nPromise.prototype._attachCancellationCallback = function(onCancel) {\n};\nPromise.prototype._captureStackTrace = function () {};\nPromise.prototype._attachExtraTrace = function () {};\nPromise.prototype._dereferenceTrace = function () {};\nPromise.prototype._clearCancellationData = function() {};\nPromise.prototype._propagateFrom = function (parent, flags) {\n};\n\nfunction cancellationExecute(executor, resolve, reject) {\n    var promise = this;\n    try {\n        executor(resolve, reject, function(onCancel) {\n            if (typeof onCancel !== \"function\") {\n                throw new TypeError(\"onCancel must be a function, got: \" +\n                                    util$$1.toString(onCancel));\n            }\n            promise._attachCancellationCallback(onCancel);\n        });\n    } catch (e) {\n        return e;\n    }\n}\n\nfunction cancellationAttachCancellationCallback(onCancel) {\n    if (!this._isCancellable()) return this;\n\n    var previousOnCancel = this._onCancel();\n    if (previousOnCancel !== undefined) {\n        if (util$$1.isArray(previousOnCancel)) {\n            previousOnCancel.push(onCancel);\n        } else {\n            this._setOnCancel([previousOnCancel, onCancel]);\n        }\n    } else {\n        this._setOnCancel(onCancel);\n    }\n}\n\nfunction cancellationOnCancel() {\n    return this._onCancelField;\n}\n\nfunction cancellationSetOnCancel(onCancel) {\n    this._onCancelField = onCancel;\n}\n\nfunction cancellationClearCancellationData() {\n    this._cancellationParent = undefined;\n    this._onCancelField = undefined;\n}\n\nfunction cancellationPropagateFrom(parent, flags) {\n    if ((flags & 1) !== 0) {\n        this._cancellationParent = parent;\n        var branchesRemainingToCancel = parent._branchesRemainingToCancel;\n        if (branchesRemainingToCancel === undefined) {\n            branchesRemainingToCancel = 0;\n        }\n        parent._branchesRemainingToCancel = branchesRemainingToCancel + 1;\n    }\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\n\nfunction bindingPropagateFrom(parent, flags) {\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\nvar propagateFromFunction = bindingPropagateFrom;\n\nfunction boundValueFunction() {\n    var ret = this._boundTo;\n    if (ret !== undefined) {\n        if (ret instanceof Promise) {\n            if (ret.isFulfilled()) {\n                return ret.value();\n            } else {\n                return undefined;\n            }\n        }\n    }\n    return ret;\n}\n\nfunction longStackTracesCaptureStackTrace() {\n    this._trace = new CapturedTrace(this._peekContext());\n}\n\nfunction longStackTracesAttachExtraTrace(error, ignoreSelf) {\n    if (canAttachTrace(error)) {\n        var trace = this._trace;\n        if (trace !== undefined) {\n            if (ignoreSelf) trace = trace._parent;\n        }\n        if (trace !== undefined) {\n            trace.attachExtraTrace(error);\n        } else if (!error.__stackCleaned__) {\n            var parsed = parseStackAndMessage(error);\n            util$$1.notEnumerableProp(error, \"stack\",\n                parsed.message + \"\\n\" + parsed.stack.join(\"\\n\"));\n            util$$1.notEnumerableProp(error, \"__stackCleaned__\", true);\n        }\n    }\n}\n\nfunction longStackTracesDereferenceTrace() {\n    this._trace = undefined;\n}\n\nfunction checkForgottenReturns(returnValue, promiseCreated, name, promise,\n                               parent) {\n    if (returnValue === undefined && promiseCreated !== null &&\n        wForgottenReturn) {\n        if (parent !== undefined && parent._returnedNonUndefined()) return;\n        if ((promise._bitField & 65535) === 0) return;\n\n        if (name) name = name + \" \";\n        var handlerLine = \"\";\n        var creatorLine = \"\";\n        if (promiseCreated._trace) {\n            var traceLines = promiseCreated._trace.stack.split(\"\\n\");\n            var stack = cleanStack(traceLines);\n            for (var i = stack.length - 1; i >= 0; --i) {\n                var line = stack[i];\n                if (!nodeFramePattern.test(line)) {\n                    var lineMatches = line.match(parseLinePattern);\n                    if (lineMatches) {\n                        handlerLine  = \"at \" + lineMatches[1] +\n                            \":\" + lineMatches[2] + \":\" + lineMatches[3] + \" \";\n                    }\n                    break;\n                }\n            }\n\n            if (stack.length > 0) {\n                var firstUserLine = stack[0];\n                for (var i = 0; i < traceLines.length; ++i) {\n\n                    if (traceLines[i] === firstUserLine) {\n                        if (i > 0) {\n                            creatorLine = \"\\n\" + traceLines[i - 1];\n                        }\n                        break;\n                    }\n                }\n\n            }\n        }\n        var msg = \"a promise was created in a \" + name +\n            \"handler \" + handlerLine + \"but was not returned from it, \" +\n            \"see http://goo.gl/rRqMUw\" +\n            creatorLine;\n        promise._warn(msg, true, promiseCreated);\n    }\n}\n\nfunction deprecated(name, replacement) {\n    var message = name +\n        \" is deprecated and will be removed in a future version.\";\n    if (replacement) message += \" Use \" + replacement + \" instead.\";\n    return warn(message);\n}\n\nfunction warn(message, shouldUseOwnTrace, promise) {\n    if (!config.warnings) return;\n    var warning = new Warning(message);\n    var ctx;\n    if (shouldUseOwnTrace) {\n        promise._attachExtraTrace(warning);\n    } else if (config.longStackTraces && (ctx = Promise._peekContext())) {\n        ctx.attachExtraTrace(warning);\n    } else {\n        var parsed = parseStackAndMessage(warning);\n        warning.stack = parsed.message + \"\\n\" + parsed.stack.join(\"\\n\");\n    }\n\n    if (!activeFireEvent(\"warning\", warning)) {\n        formatAndLogError(warning, \"\", true);\n    }\n}\n\nfunction reconstructStack(message, stacks) {\n    for (var i = 0; i < stacks.length - 1; ++i) {\n        stacks[i].push(\"From previous event:\");\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    if (i < stacks.length) {\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    return message + \"\\n\" + stacks.join(\"\\n\");\n}\n\nfunction removeDuplicateOrEmptyJumps(stacks) {\n    for (var i = 0; i < stacks.length; ++i) {\n        if (stacks[i].length === 0 ||\n            ((i + 1 < stacks.length) && stacks[i][0] === stacks[i+1][0])) {\n            stacks.splice(i, 1);\n            i--;\n        }\n    }\n}\n\nfunction removeCommonRoots(stacks) {\n    var current = stacks[0];\n    for (var i = 1; i < stacks.length; ++i) {\n        var prev = stacks[i];\n        var currentLastIndex = current.length - 1;\n        var currentLastLine = current[currentLastIndex];\n        var commonRootMeetPoint = -1;\n\n        for (var j = prev.length - 1; j >= 0; --j) {\n            if (prev[j] === currentLastLine) {\n                commonRootMeetPoint = j;\n                break;\n            }\n        }\n\n        for (var j = commonRootMeetPoint; j >= 0; --j) {\n            var line = prev[j];\n            if (current[currentLastIndex] === line) {\n                current.pop();\n                currentLastIndex--;\n            } else {\n                break;\n            }\n        }\n        current = prev;\n    }\n}\n\nfunction cleanStack(stack) {\n    var ret = [];\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        var isTraceLine = \"    (No stack trace)\" === line ||\n            stackFramePattern.test(line);\n        var isInternalFrame = isTraceLine && shouldIgnore(line);\n        if (isTraceLine && !isInternalFrame) {\n            if (indentStackFrames && line.charAt(0) !== \" \") {\n                line = \"    \" + line;\n            }\n            ret.push(line);\n        }\n    }\n    return ret;\n}\n\nfunction stackFramesAsArray(error) {\n    var stack = error.stack.replace(/\\s+$/g, \"\").split(\"\\n\");\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        if (\"    (No stack trace)\" === line || stackFramePattern.test(line)) {\n            break;\n        }\n    }\n    if (i > 0 && error.name != \"SyntaxError\") {\n        stack = stack.slice(i);\n    }\n    return stack;\n}\n\nfunction parseStackAndMessage(error) {\n    var stack = error.stack;\n    var message = error.toString();\n    stack = typeof stack === \"string\" && stack.length > 0\n                ? stackFramesAsArray(error) : [\"    (No stack trace)\"];\n    return {\n        message: message,\n        stack: error.name == \"SyntaxError\" ? stack : cleanStack(stack)\n    };\n}\n\nfunction formatAndLogError(error, title, isSoft) {\n    if (typeof console !== \"undefined\") {\n        var message;\n        if (util$$1.isObject(error)) {\n            var stack = error.stack;\n            message = title + formatStack(stack, error);\n        } else {\n            message = title + String(error);\n        }\n        if (typeof printWarning === \"function\") {\n            printWarning(message, isSoft);\n        } else if (typeof console.log === \"function\" ||\n            typeof console.log === \"object\") {\n            console.log(message);\n        }\n    }\n}\n\nfunction fireRejectionEvent(name, localHandler, reason, promise) {\n    var localEventFired = false;\n    try {\n        if (typeof localHandler === \"function\") {\n            localEventFired = true;\n            if (name === \"rejectionHandled\") {\n                localHandler(promise);\n            } else {\n                localHandler(reason, promise);\n            }\n        }\n    } catch (e) {\n        async.throwLater(e);\n    }\n\n    if (name === \"unhandledRejection\") {\n        if (!activeFireEvent(name, reason, promise) && !localEventFired) {\n            formatAndLogError(reason, \"Unhandled rejection \");\n        }\n    } else {\n        activeFireEvent(name, promise);\n    }\n}\n\nfunction formatNonError(obj) {\n    var str;\n    if (typeof obj === \"function\") {\n        str = \"[function \" +\n            (obj.name || \"anonymous\") +\n            \"]\";\n    } else {\n        str = obj && typeof obj.toString === \"function\"\n            ? obj.toString() : util$$1.toString(obj);\n        var ruselessToString = /\\[object [a-zA-Z0-9$_]+\\]/;\n        if (ruselessToString.test(str)) {\n            try {\n                var newStr = JSON.stringify(obj);\n                str = newStr;\n            }\n            catch(e) {\n\n            }\n        }\n        if (str.length === 0) {\n            str = \"(empty array)\";\n        }\n    }\n    return (\"(<\" + snip(str) + \">, no stack trace)\");\n}\n\nfunction snip(str) {\n    var maxChars = 41;\n    if (str.length < maxChars) {\n        return str;\n    }\n    return str.substr(0, maxChars - 3) + \"...\";\n}\n\nfunction longStackTracesIsSupported() {\n    return typeof captureStackTrace === \"function\";\n}\n\nvar shouldIgnore = function() { return false; };\nvar parseLineInfoRegex = /[\\/<\\(]([^:\\/]+):(\\d+):(?:\\d+)\\)?\\s*$/;\nfunction parseLineInfo(line) {\n    var matches = line.match(parseLineInfoRegex);\n    if (matches) {\n        return {\n            fileName: matches[1],\n            line: parseInt(matches[2], 10)\n        };\n    }\n}\n\nfunction setBounds(firstLineError, lastLineError) {\n    if (!longStackTracesIsSupported()) return;\n    var firstStackLines = firstLineError.stack.split(\"\\n\");\n    var lastStackLines = lastLineError.stack.split(\"\\n\");\n    var firstIndex = -1;\n    var lastIndex = -1;\n    var firstFileName;\n    var lastFileName;\n    for (var i = 0; i < firstStackLines.length; ++i) {\n        var result = parseLineInfo(firstStackLines[i]);\n        if (result) {\n            firstFileName = result.fileName;\n            firstIndex = result.line;\n            break;\n        }\n    }\n    for (var i = 0; i < lastStackLines.length; ++i) {\n        var result = parseLineInfo(lastStackLines[i]);\n        if (result) {\n            lastFileName = result.fileName;\n            lastIndex = result.line;\n            break;\n        }\n    }\n    if (firstIndex < 0 || lastIndex < 0 || !firstFileName || !lastFileName ||\n        firstFileName !== lastFileName || firstIndex >= lastIndex) {\n        return;\n    }\n\n    shouldIgnore = function(line) {\n        if (bluebirdFramePattern.test(line)) return true;\n        var info = parseLineInfo(line);\n        if (info) {\n            if (info.fileName === firstFileName &&\n                (firstIndex <= info.line && info.line <= lastIndex)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n\nfunction CapturedTrace(parent) {\n    this._parent = parent;\n    this._promisesCreated = 0;\n    var length = this._length = 1 + (parent === undefined ? 0 : parent._length);\n    captureStackTrace(this, CapturedTrace);\n    if (length > 32) this.uncycle();\n}\nutil$$1.inherits(CapturedTrace, Error);\nContext.CapturedTrace = CapturedTrace;\n\nCapturedTrace.prototype.uncycle = function() {\n    var length = this._length;\n    if (length < 2) return;\n    var nodes = [];\n    var stackToIndex = {};\n\n    for (var i = 0, node = this; node !== undefined; ++i) {\n        nodes.push(node);\n        node = node._parent;\n    }\n    length = this._length = i;\n    for (var i = length - 1; i >= 0; --i) {\n        var stack = nodes[i].stack;\n        if (stackToIndex[stack] === undefined) {\n            stackToIndex[stack] = i;\n        }\n    }\n    for (var i = 0; i < length; ++i) {\n        var currentStack = nodes[i].stack;\n        var index = stackToIndex[currentStack];\n        if (index !== undefined && index !== i) {\n            if (index > 0) {\n                nodes[index - 1]._parent = undefined;\n                nodes[index - 1]._length = 1;\n            }\n            nodes[i]._parent = undefined;\n            nodes[i]._length = 1;\n            var cycleEdgeNode = i > 0 ? nodes[i - 1] : this;\n\n            if (index < length - 1) {\n                cycleEdgeNode._parent = nodes[index + 1];\n                cycleEdgeNode._parent.uncycle();\n                cycleEdgeNode._length =\n                    cycleEdgeNode._parent._length + 1;\n            } else {\n                cycleEdgeNode._parent = undefined;\n                cycleEdgeNode._length = 1;\n            }\n            var currentChildLength = cycleEdgeNode._length + 1;\n            for (var j = i - 2; j >= 0; --j) {\n                nodes[j]._length = currentChildLength;\n                currentChildLength++;\n            }\n            return;\n        }\n    }\n};\n\nCapturedTrace.prototype.attachExtraTrace = function(error) {\n    if (error.__stackCleaned__) return;\n    this.uncycle();\n    var parsed = parseStackAndMessage(error);\n    var message = parsed.message;\n    var stacks = [parsed.stack];\n\n    var trace = this;\n    while (trace !== undefined) {\n        stacks.push(cleanStack(trace.stack.split(\"\\n\")));\n        trace = trace._parent;\n    }\n    removeCommonRoots(stacks);\n    removeDuplicateOrEmptyJumps(stacks);\n    util$$1.notEnumerableProp(error, \"stack\", reconstructStack(message, stacks));\n    util$$1.notEnumerableProp(error, \"__stackCleaned__\", true);\n};\n\nvar captureStackTrace = (function stackDetection() {\n    var v8stackFramePattern = /^\\s*at\\s*/;\n    var v8stackFormatter = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if (error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    if (typeof Error.stackTraceLimit === \"number\" &&\n        typeof Error.captureStackTrace === \"function\") {\n        Error.stackTraceLimit += 6;\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        var captureStackTrace = Error.captureStackTrace;\n\n        shouldIgnore = function(line) {\n            return bluebirdFramePattern.test(line);\n        };\n        return function(receiver, ignoreUntil) {\n            Error.stackTraceLimit += 6;\n            captureStackTrace(receiver, ignoreUntil);\n            Error.stackTraceLimit -= 6;\n        };\n    }\n    var err = new Error();\n\n    if (typeof err.stack === \"string\" &&\n        err.stack.split(\"\\n\")[0].indexOf(\"stackDetection@\") >= 0) {\n        stackFramePattern = /@/;\n        formatStack = v8stackFormatter;\n        indentStackFrames = true;\n        return function captureStackTrace(o) {\n            o.stack = new Error().stack;\n        };\n    }\n\n    var hasStackAfterThrow;\n    try { throw new Error(); }\n    catch(e) {\n        hasStackAfterThrow = (\"stack\" in e);\n    }\n    if (!(\"stack\" in err) && hasStackAfterThrow &&\n        typeof Error.stackTraceLimit === \"number\") {\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        return function captureStackTrace(o) {\n            Error.stackTraceLimit += 6;\n            try { throw new Error(); }\n            catch(e) { o.stack = e.stack; }\n            Error.stackTraceLimit -= 6;\n        };\n    }\n\n    formatStack = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if ((typeof error === \"object\" ||\n            typeof error === \"function\") &&\n            error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    return null;\n\n})([]);\n\nif (typeof console !== \"undefined\" && typeof console.warn !== \"undefined\") {\n    printWarning = function (message) {\n        console.warn(message);\n    };\n    if (util$$1.isNode && process.stderr.isTTY) {\n        printWarning = function(message, isSoft) {\n            var color = isSoft ? \"\\u001b[33m\" : \"\\u001b[31m\";\n            console.warn(color + message + \"\\u001b[0m\\n\");\n        };\n    } else if (!util$$1.isNode && typeof (new Error().stack) === \"string\") {\n        printWarning = function(message, isSoft) {\n            console.warn(\"%c\" + message,\n                        isSoft ? \"color: darkorange\" : \"color: red\");\n        };\n    }\n}\n\nvar config = {\n    warnings: warnings,\n    longStackTraces: false,\n    cancellation: false,\n    monitoring: false\n};\n\nif (longStackTraces) Promise.longStackTraces();\n\nreturn {\n    longStackTraces: function() {\n        return config.longStackTraces;\n    },\n    warnings: function() {\n        return config.warnings;\n    },\n    cancellation: function() {\n        return config.cancellation;\n    },\n    monitoring: function() {\n        return config.monitoring;\n    },\n    propagateFromFunction: function() {\n        return propagateFromFunction;\n    },\n    boundValueFunction: function() {\n        return boundValueFunction;\n    },\n    checkForgottenReturns: checkForgottenReturns,\n    setBounds: setBounds,\n    warn: warn,\n    deprecated: deprecated,\n    CapturedTrace: CapturedTrace,\n    fireDomEvent: fireDomEvent,\n    fireGlobalEvent: fireGlobalEvent\n};\n};\n\nvar catch_filter = function(NEXT_FILTER) {\nvar util$$1 = util;\nvar getKeys = es5.keys;\nvar tryCatch = util$$1.tryCatch;\nvar errorObj = util$$1.errorObj;\n\nfunction catchFilter(instances, cb, promise) {\n    return function(e) {\n        var boundTo = promise._boundValue();\n        predicateLoop: for (var i = 0; i < instances.length; ++i) {\n            var item = instances[i];\n\n            if (item === Error ||\n                (item != null && item.prototype instanceof Error)) {\n                if (e instanceof item) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (typeof item === \"function\") {\n                var matchesPredicate = tryCatch(item).call(boundTo, e);\n                if (matchesPredicate === errorObj) {\n                    return matchesPredicate;\n                } else if (matchesPredicate) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (util$$1.isObject(e)) {\n                var keys = getKeys(item);\n                for (var j = 0; j < keys.length; ++j) {\n                    var key = keys[j];\n                    if (item[key] != e[key]) {\n                        continue predicateLoop;\n                    }\n                }\n                return tryCatch(cb).call(boundTo, e);\n            }\n        }\n        return NEXT_FILTER;\n    };\n}\n\nreturn catchFilter;\n};\n\nvar _finally = function(Promise, tryConvertToPromise, NEXT_FILTER) {\nvar util$$1 = util;\nvar CancellationError = Promise.CancellationError;\nvar errorObj = util$$1.errorObj;\nvar catchFilter = catch_filter(NEXT_FILTER);\n\nfunction PassThroughHandlerContext(promise, type, handler) {\n    this.promise = promise;\n    this.type = type;\n    this.handler = handler;\n    this.called = false;\n    this.cancelPromise = null;\n}\n\nPassThroughHandlerContext.prototype.isFinallyHandler = function() {\n    return this.type === 0;\n};\n\nfunction FinallyHandlerCancelReaction(finallyHandler) {\n    this.finallyHandler = finallyHandler;\n}\n\nFinallyHandlerCancelReaction.prototype._resultCancelled = function() {\n    checkCancel(this.finallyHandler);\n};\n\nfunction checkCancel(ctx, reason) {\n    if (ctx.cancelPromise != null) {\n        if (arguments.length > 1) {\n            ctx.cancelPromise._reject(reason);\n        } else {\n            ctx.cancelPromise._cancel();\n        }\n        ctx.cancelPromise = null;\n        return true;\n    }\n    return false;\n}\n\nfunction succeed() {\n    return finallyHandler.call(this, this.promise._target()._settledValue());\n}\nfunction fail(reason) {\n    if (checkCancel(this, reason)) return;\n    errorObj.e = reason;\n    return errorObj;\n}\nfunction finallyHandler(reasonOrValue) {\n    var promise = this.promise;\n    var handler = this.handler;\n\n    if (!this.called) {\n        this.called = true;\n        var ret = this.isFinallyHandler()\n            ? handler.call(promise._boundValue())\n            : handler.call(promise._boundValue(), reasonOrValue);\n        if (ret === NEXT_FILTER) {\n            return ret;\n        } else if (ret !== undefined) {\n            promise._setReturnedNonUndefined();\n            var maybePromise = tryConvertToPromise(ret, promise);\n            if (maybePromise instanceof Promise) {\n                if (this.cancelPromise != null) {\n                    if (maybePromise._isCancelled()) {\n                        var reason =\n                            new CancellationError(\"late cancellation observer\");\n                        promise._attachExtraTrace(reason);\n                        errorObj.e = reason;\n                        return errorObj;\n                    } else if (maybePromise.isPending()) {\n                        maybePromise._attachCancellationCallback(\n                            new FinallyHandlerCancelReaction(this));\n                    }\n                }\n                return maybePromise._then(\n                    succeed, fail, undefined, this, undefined);\n            }\n        }\n    }\n\n    if (promise.isRejected()) {\n        checkCancel(this);\n        errorObj.e = reasonOrValue;\n        return errorObj;\n    } else {\n        checkCancel(this);\n        return reasonOrValue;\n    }\n}\n\nPromise.prototype._passThrough = function(handler, type, success, fail) {\n    if (typeof handler !== \"function\") return this.then();\n    return this._then(success,\n                      fail,\n                      undefined,\n                      new PassThroughHandlerContext(this, type, handler),\n                      undefined);\n};\n\nPromise.prototype.lastly =\nPromise.prototype[\"finally\"] = function (handler) {\n    return this._passThrough(handler,\n                             0,\n                             finallyHandler,\n                             finallyHandler);\n};\n\n\nPromise.prototype.tap = function (handler) {\n    return this._passThrough(handler, 1, finallyHandler);\n};\n\nPromise.prototype.tapCatch = function (handlerOrPredicate) {\n    var len = arguments.length;\n    if(len === 1) {\n        return this._passThrough(handlerOrPredicate,\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    } else {\n         var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util$$1.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return Promise.reject(new TypeError(\n                    \"tapCatch statement predicate: \"\n                    + \"expecting an object but got \" + util$$1.classString(item)\n                ));\n            }\n        }\n        catchInstances.length = j;\n        var handler = arguments[i];\n        return this._passThrough(catchFilter(catchInstances, handler, this),\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    }\n\n};\n\nreturn PassThroughHandlerContext;\n};\n\nvar maybeWrapAsError$1 = util.maybeWrapAsError;\n\nvar OperationalError$1 = errors.OperationalError;\n\n\nfunction isUntypedError(obj) {\n    return obj instanceof Error &&\n        es5.getPrototypeOf(obj) === Error.prototype;\n}\n\nvar rErrorKey = /^(?:name|message|stack|cause)$/;\nfunction wrapAsOperationalError(obj) {\n    var ret;\n    if (isUntypedError(obj)) {\n        ret = new OperationalError$1(obj);\n        ret.name = obj.name;\n        ret.message = obj.message;\n        ret.stack = obj.stack;\n        var keys = es5.keys(obj);\n        for (var i = 0; i < keys.length; ++i) {\n            var key = keys[i];\n            if (!rErrorKey.test(key)) {\n                ret[key] = obj[key];\n            }\n        }\n        return ret;\n    }\n    util.markAsOriginatingFromRejection(obj);\n    return obj;\n}\n\nfunction nodebackForPromise(promise, multiArgs) {\n    return function(err, value) {\n        if (promise === null) return;\n        if (err) {\n            var wrapped = wrapAsOperationalError(maybeWrapAsError$1(err));\n            promise._attachExtraTrace(wrapped);\n            promise._reject(wrapped);\n        } else if (!multiArgs) {\n            promise._fulfill(value);\n        } else {\n            var $_len = arguments.length;var args = new Array(Math.max($_len - 1, 0)); for(var $_i = 1; $_i < $_len; ++$_i) {args[$_i - 1] = arguments[$_i];}            promise._fulfill(args);\n        }\n        promise = null;\n    };\n}\n\nvar nodeback = nodebackForPromise;\n\nvar method =\nfunction(Promise, INTERNAL, tryConvertToPromise, apiRejection, debug) {\nvar util$$1 = util;\nvar tryCatch = util$$1.tryCatch;\n\nPromise.method = function (fn) {\n    if (typeof fn !== \"function\") {\n        throw new Promise.TypeError(\"expecting a function but got \" + util$$1.classString(fn));\n    }\n    return function () {\n        var ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._pushContext();\n        var value = tryCatch(fn).apply(this, arguments);\n        var promiseCreated = ret._popContext();\n        debug.checkForgottenReturns(\n            value, promiseCreated, \"Promise.method\", ret);\n        ret._resolveFromSyncValue(value);\n        return ret;\n    };\n};\n\nPromise.attempt = Promise[\"try\"] = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util$$1.classString(fn));\n    }\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._pushContext();\n    var value;\n    if (arguments.length > 1) {\n        debug.deprecated(\"calling Promise.try with more than 1 argument\");\n        var arg = arguments[1];\n        var ctx = arguments[2];\n        value = util$$1.isArray(arg) ? tryCatch(fn).apply(ctx, arg)\n                                  : tryCatch(fn).call(ctx, arg);\n    } else {\n        value = tryCatch(fn)();\n    }\n    var promiseCreated = ret._popContext();\n    debug.checkForgottenReturns(\n        value, promiseCreated, \"Promise.try\", ret);\n    ret._resolveFromSyncValue(value);\n    return ret;\n};\n\nPromise.prototype._resolveFromSyncValue = function (value) {\n    if (value === util$$1.errorObj) {\n        this._rejectCallback(value.e, false);\n    } else {\n        this._resolveCallback(value, true);\n    }\n};\n};\n\nvar bind = function(Promise, INTERNAL, tryConvertToPromise, debug) {\nvar calledBind = false;\nvar rejectThis = function(_, e) {\n    this._reject(e);\n};\n\nvar targetRejected = function(e, context) {\n    context.promiseRejectionQueued = true;\n    context.bindingPromise._then(rejectThis, rejectThis, null, this, e);\n};\n\nvar bindingResolved = function(thisArg, context) {\n    if (((this._bitField & 50397184) === 0)) {\n        this._resolveCallback(context.target);\n    }\n};\n\nvar bindingRejected = function(e, context) {\n    if (!context.promiseRejectionQueued) this._reject(e);\n};\n\nPromise.prototype.bind = function (thisArg) {\n    if (!calledBind) {\n        calledBind = true;\n        Promise.prototype._propagateFrom = debug.propagateFromFunction();\n        Promise.prototype._boundValue = debug.boundValueFunction();\n    }\n    var maybePromise = tryConvertToPromise(thisArg);\n    var ret = new Promise(INTERNAL);\n    ret._propagateFrom(this, 1);\n    var target = this._target();\n    ret._setBoundTo(maybePromise);\n    if (maybePromise instanceof Promise) {\n        var context = {\n            promiseRejectionQueued: false,\n            promise: ret,\n            target: target,\n            bindingPromise: maybePromise\n        };\n        target._then(INTERNAL, targetRejected, undefined, ret, context);\n        maybePromise._then(\n            bindingResolved, bindingRejected, undefined, ret, context);\n        ret._setOnCancel(maybePromise);\n    } else {\n        ret._resolveCallback(target);\n    }\n    return ret;\n};\n\nPromise.prototype._setBoundTo = function (obj) {\n    if (obj !== undefined) {\n        this._bitField = this._bitField | 2097152;\n        this._boundTo = obj;\n    } else {\n        this._bitField = this._bitField & (~2097152);\n    }\n};\n\nPromise.prototype._isBound = function () {\n    return (this._bitField & 2097152) === 2097152;\n};\n\nPromise.bind = function (thisArg, value) {\n    return Promise.resolve(value).bind(thisArg);\n};\n};\n\nvar cancel = function(Promise, PromiseArray, apiRejection, debug) {\nvar util$$1 = util;\nvar tryCatch = util$$1.tryCatch;\nvar errorObj = util$$1.errorObj;\nvar async = Promise._async;\n\nPromise.prototype[\"break\"] = Promise.prototype.cancel = function() {\n    if (!debug.cancellation()) return this._warn(\"cancellation is disabled\");\n\n    var promise = this;\n    var child = promise;\n    while (promise._isCancellable()) {\n        if (!promise._cancelBy(child)) {\n            if (child._isFollowing()) {\n                child._followee().cancel();\n            } else {\n                child._cancelBranched();\n            }\n            break;\n        }\n\n        var parent = promise._cancellationParent;\n        if (parent == null || !parent._isCancellable()) {\n            if (promise._isFollowing()) {\n                promise._followee().cancel();\n            } else {\n                promise._cancelBranched();\n            }\n            break;\n        } else {\n            if (promise._isFollowing()) promise._followee().cancel();\n            promise._setWillBeCancelled();\n            child = promise;\n            promise = parent;\n        }\n    }\n};\n\nPromise.prototype._branchHasCancelled = function() {\n    this._branchesRemainingToCancel--;\n};\n\nPromise.prototype._enoughBranchesHaveCancelled = function() {\n    return this._branchesRemainingToCancel === undefined ||\n           this._branchesRemainingToCancel <= 0;\n};\n\nPromise.prototype._cancelBy = function(canceller) {\n    if (canceller === this) {\n        this._branchesRemainingToCancel = 0;\n        this._invokeOnCancel();\n        return true;\n    } else {\n        this._branchHasCancelled();\n        if (this._enoughBranchesHaveCancelled()) {\n            this._invokeOnCancel();\n            return true;\n        }\n    }\n    return false;\n};\n\nPromise.prototype._cancelBranched = function() {\n    if (this._enoughBranchesHaveCancelled()) {\n        this._cancel();\n    }\n};\n\nPromise.prototype._cancel = function() {\n    if (!this._isCancellable()) return;\n    this._setCancelled();\n    async.invoke(this._cancelPromises, this, undefined);\n};\n\nPromise.prototype._cancelPromises = function() {\n    if (this._length() > 0) this._settlePromises();\n};\n\nPromise.prototype._unsetOnCancel = function() {\n    this._onCancelField = undefined;\n};\n\nPromise.prototype._isCancellable = function() {\n    return this.isPending() && !this._isCancelled();\n};\n\nPromise.prototype.isCancellable = function() {\n    return this.isPending() && !this.isCancelled();\n};\n\nPromise.prototype._doInvokeOnCancel = function(onCancelCallback, internalOnly) {\n    if (util$$1.isArray(onCancelCallback)) {\n        for (var i = 0; i < onCancelCallback.length; ++i) {\n            this._doInvokeOnCancel(onCancelCallback[i], internalOnly);\n        }\n    } else if (onCancelCallback !== undefined) {\n        if (typeof onCancelCallback === \"function\") {\n            if (!internalOnly) {\n                var e = tryCatch(onCancelCallback).call(this._boundValue());\n                if (e === errorObj) {\n                    this._attachExtraTrace(e.e);\n                    async.throwLater(e.e);\n                }\n            }\n        } else {\n            onCancelCallback._resultCancelled(this);\n        }\n    }\n};\n\nPromise.prototype._invokeOnCancel = function() {\n    var onCancelCallback = this._onCancel();\n    this._unsetOnCancel();\n    async.invoke(this._doInvokeOnCancel, this, onCancelCallback);\n};\n\nPromise.prototype._invokeInternalOnCancel = function() {\n    if (this._isCancellable()) {\n        this._doInvokeOnCancel(this._onCancel(), true);\n        this._unsetOnCancel();\n    }\n};\n\nPromise.prototype._resultCancelled = function() {\n    this.cancel();\n};\n\n};\n\nvar direct_resolve = function(Promise) {\nfunction returner() {\n    return this.value;\n}\nfunction thrower() {\n    throw this.reason;\n}\n\nPromise.prototype[\"return\"] =\nPromise.prototype.thenReturn = function (value) {\n    if (value instanceof Promise) value.suppressUnhandledRejections();\n    return this._then(\n        returner, undefined, undefined, {value: value}, undefined);\n};\n\nPromise.prototype[\"throw\"] =\nPromise.prototype.thenThrow = function (reason) {\n    return this._then(\n        thrower, undefined, undefined, {reason: reason}, undefined);\n};\n\nPromise.prototype.catchThrow = function (reason) {\n    if (arguments.length <= 1) {\n        return this._then(\n            undefined, thrower, undefined, {reason: reason}, undefined);\n    } else {\n        var _reason = arguments[1];\n        var handler = function() {throw _reason;};\n        return this.caught(reason, handler);\n    }\n};\n\nPromise.prototype.catchReturn = function (value) {\n    if (arguments.length <= 1) {\n        if (value instanceof Promise) value.suppressUnhandledRejections();\n        return this._then(\n            undefined, returner, undefined, {value: value}, undefined);\n    } else {\n        var _value = arguments[1];\n        if (_value instanceof Promise) _value.suppressUnhandledRejections();\n        var handler = function() {return _value;};\n        return this.caught(value, handler);\n    }\n};\n};\n\nvar synchronous_inspection = function(Promise) {\nfunction PromiseInspection(promise) {\n    if (promise !== undefined) {\n        promise = promise._target();\n        this._bitField = promise._bitField;\n        this._settledValueField = promise._isFateSealed()\n            ? promise._settledValue() : undefined;\n    }\n    else {\n        this._bitField = 0;\n        this._settledValueField = undefined;\n    }\n}\n\nPromiseInspection.prototype._settledValue = function() {\n    return this._settledValueField;\n};\n\nvar value = PromiseInspection.prototype.value = function () {\n    if (!this.isFulfilled()) {\n        throw new TypeError(\"cannot get fulfillment value of a non-fulfilled promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar reason = PromiseInspection.prototype.error =\nPromiseInspection.prototype.reason = function () {\n    if (!this.isRejected()) {\n        throw new TypeError(\"cannot get rejection reason of a non-rejected promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar isFulfilled = PromiseInspection.prototype.isFulfilled = function() {\n    return (this._bitField & 33554432) !== 0;\n};\n\nvar isRejected = PromiseInspection.prototype.isRejected = function () {\n    return (this._bitField & 16777216) !== 0;\n};\n\nvar isPending = PromiseInspection.prototype.isPending = function () {\n    return (this._bitField & 50397184) === 0;\n};\n\nvar isResolved = PromiseInspection.prototype.isResolved = function () {\n    return (this._bitField & 50331648) !== 0;\n};\n\nPromiseInspection.prototype.isCancelled = function() {\n    return (this._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.__isCancelled = function() {\n    return (this._bitField & 65536) === 65536;\n};\n\nPromise.prototype._isCancelled = function() {\n    return this._target().__isCancelled();\n};\n\nPromise.prototype.isCancelled = function() {\n    return (this._target()._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.isPending = function() {\n    return isPending.call(this._target());\n};\n\nPromise.prototype.isRejected = function() {\n    return isRejected.call(this._target());\n};\n\nPromise.prototype.isFulfilled = function() {\n    return isFulfilled.call(this._target());\n};\n\nPromise.prototype.isResolved = function() {\n    return isResolved.call(this._target());\n};\n\nPromise.prototype.value = function() {\n    return value.call(this._target());\n};\n\nPromise.prototype.reason = function() {\n    var target = this._target();\n    target._unsetRejectionIsUnhandled();\n    return reason.call(target);\n};\n\nPromise.prototype._value = function() {\n    return this._settledValue();\n};\n\nPromise.prototype._reason = function() {\n    this._unsetRejectionIsUnhandled();\n    return this._settledValue();\n};\n\nPromise.PromiseInspection = PromiseInspection;\n};\n\nvar join =\nfunction(Promise, PromiseArray, tryConvertToPromise, INTERNAL, async,\n         getDomain) {\nvar util$$1 = util;\nvar canEvaluate = util$$1.canEvaluate;\nvar tryCatch = util$$1.tryCatch;\nvar errorObj = util$$1.errorObj;\nvar reject;\n\n{\nif (canEvaluate) {\n    var thenCallback = function(i) {\n        return new Function(\"value\", \"holder\", \"                             \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = value;                                           \\n\\\n            holder.checkFulfillment(this);                                   \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var promiseSetter = function(i) {\n        return new Function(\"promise\", \"holder\", \"                           \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = promise;                                         \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var generateHolderClass = function(total) {\n        var props = new Array(total);\n        for (var i = 0; i < props.length; ++i) {\n            props[i] = \"this.p\" + (i+1);\n        }\n        var assignment = props.join(\" = \") + \" = null;\";\n        var cancellationCode= \"var promise;\\n\" + props.map(function(prop) {\n            return \"                                                         \\n\\\n                promise = \" + prop + \";                                      \\n\\\n                if (promise instanceof Promise) {                            \\n\\\n                    promise.cancel();                                        \\n\\\n                }                                                            \\n\\\n            \";\n        }).join(\"\\n\");\n        var passedArguments = props.join(\", \");\n        var name = \"Holder$\" + total;\n\n\n        var code = \"return function(tryCatch, errorObj, Promise, async) {    \\n\\\n            'use strict';                                                    \\n\\\n            function [TheName](fn) {                                         \\n\\\n                [TheProperties]                                              \\n\\\n                this.fn = fn;                                                \\n\\\n                this.asyncNeeded = true;                                     \\n\\\n                this.now = 0;                                                \\n\\\n            }                                                                \\n\\\n                                                                             \\n\\\n            [TheName].prototype._callFunction = function(promise) {          \\n\\\n                promise._pushContext();                                      \\n\\\n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \\n\\\n                promise._popContext();                                       \\n\\\n                if (ret === errorObj) {                                      \\n\\\n                    promise._rejectCallback(ret.e, false);                   \\n\\\n                } else {                                                     \\n\\\n                    promise._resolveCallback(ret);                           \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype.checkFulfillment = function(promise) {       \\n\\\n                var now = ++this.now;                                        \\n\\\n                if (now === [TheTotal]) {                                    \\n\\\n                    if (this.asyncNeeded) {                                  \\n\\\n                        async.invoke(this._callFunction, this, promise);     \\n\\\n                    } else {                                                 \\n\\\n                        this._callFunction(promise);                         \\n\\\n                    }                                                        \\n\\\n                                                                             \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype._resultCancelled = function() {              \\n\\\n                [CancellationCode]                                           \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            return [TheName];                                                \\n\\\n        }(tryCatch, errorObj, Promise, async);                               \\n\\\n        \";\n\n        code = code.replace(/\\[TheName\\]/g, name)\n            .replace(/\\[TheTotal\\]/g, total)\n            .replace(/\\[ThePassedArguments\\]/g, passedArguments)\n            .replace(/\\[TheProperties\\]/g, assignment)\n            .replace(/\\[CancellationCode\\]/g, cancellationCode);\n\n        return new Function(\"tryCatch\", \"errorObj\", \"Promise\", \"async\", code)\n                           (tryCatch, errorObj, Promise, async);\n    };\n\n    var holderClasses = [];\n    var thenCallbacks = [];\n    var promiseSetters = [];\n\n    for (var i = 0; i < 8; ++i) {\n        holderClasses.push(generateHolderClass(i + 1));\n        thenCallbacks.push(thenCallback(i + 1));\n        promiseSetters.push(promiseSetter(i + 1));\n    }\n\n    reject = function (reason) {\n        this._reject(reason);\n    };\n}}\n\nPromise.join = function () {\n    var last = arguments.length - 1;\n    var fn;\n    if (last > 0 && typeof arguments[last] === \"function\") {\n        fn = arguments[last];\n        {\n            if (last <= 8 && canEvaluate) {\n                var ret = new Promise(INTERNAL);\n                ret._captureStackTrace();\n                var HolderClass = holderClasses[last - 1];\n                var holder = new HolderClass(fn);\n                var callbacks = thenCallbacks;\n\n                for (var i = 0; i < last; ++i) {\n                    var maybePromise = tryConvertToPromise(arguments[i], ret);\n                    if (maybePromise instanceof Promise) {\n                        maybePromise = maybePromise._target();\n                        var bitField = maybePromise._bitField;\n                        if (((bitField & 50397184) === 0)) {\n                            maybePromise._then(callbacks[i], reject,\n                                               undefined, ret, holder);\n                            promiseSetters[i](maybePromise, holder);\n                            holder.asyncNeeded = false;\n                        } else if (((bitField & 33554432) !== 0)) {\n                            callbacks[i].call(ret,\n                                              maybePromise._value(), holder);\n                        } else if (((bitField & 16777216) !== 0)) {\n                            ret._reject(maybePromise._reason());\n                        } else {\n                            ret._cancel();\n                        }\n                    } else {\n                        callbacks[i].call(ret, maybePromise, holder);\n                    }\n                }\n\n                if (!ret._isFateSealed()) {\n                    if (holder.asyncNeeded) {\n                        var domain = getDomain();\n                        if (domain !== null) {\n                            holder.fn = util$$1.domainBind(domain, holder.fn);\n                        }\n                    }\n                    ret._setAsyncGuaranteed();\n                    ret._setOnCancel(holder);\n                }\n                return ret;\n            }\n        }\n    }\n    var $_len = arguments.length;var args = new Array($_len); for(var $_i = 0; $_i < $_len; ++$_i) {args[$_i] = arguments[$_i];}    if (fn) args.pop();\n    var ret = new PromiseArray(args).promise();\n    return fn !== undefined ? ret.spread(fn) : ret;\n};\n\n};\n\nvar map = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util$$1 = util;\nvar tryCatch = util$$1.tryCatch;\nvar errorObj = util$$1.errorObj;\nvar async = Promise._async;\n\nfunction MappingPromiseArray(promises, fn, limit, _filter) {\n    this.constructor$(promises);\n    this._promise._captureStackTrace();\n    var domain = getDomain();\n    this._callback = domain === null ? fn : util$$1.domainBind(domain, fn);\n    this._preservedValues = _filter === INTERNAL\n        ? new Array(this.length())\n        : null;\n    this._limit = limit;\n    this._inFlight = 0;\n    this._queue = [];\n    async.invoke(this._asyncInit, this, undefined);\n}\nutil$$1.inherits(MappingPromiseArray, PromiseArray);\n\nMappingPromiseArray.prototype._asyncInit = function() {\n    this._init$(undefined, -2);\n};\n\nMappingPromiseArray.prototype._init = function () {};\n\nMappingPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var values = this._values;\n    var length = this.length();\n    var preservedValues = this._preservedValues;\n    var limit = this._limit;\n\n    if (index < 0) {\n        index = (index * -1) - 1;\n        values[index] = value;\n        if (limit >= 1) {\n            this._inFlight--;\n            this._drainQueue();\n            if (this._isResolved()) return true;\n        }\n    } else {\n        if (limit >= 1 && this._inFlight >= limit) {\n            values[index] = value;\n            this._queue.push(index);\n            return false;\n        }\n        if (preservedValues !== null) preservedValues[index] = value;\n\n        var promise = this._promise;\n        var callback = this._callback;\n        var receiver = promise._boundValue();\n        promise._pushContext();\n        var ret = tryCatch(callback).call(receiver, value, index, length);\n        var promiseCreated = promise._popContext();\n        debug.checkForgottenReturns(\n            ret,\n            promiseCreated,\n            preservedValues !== null ? \"Promise.filter\" : \"Promise.map\",\n            promise\n        );\n        if (ret === errorObj) {\n            this._reject(ret.e);\n            return true;\n        }\n\n        var maybePromise = tryConvertToPromise(ret, this._promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            var bitField = maybePromise._bitField;\n            if (((bitField & 50397184) === 0)) {\n                if (limit >= 1) this._inFlight++;\n                values[index] = maybePromise;\n                maybePromise._proxy(this, (index + 1) * -1);\n                return false;\n            } else if (((bitField & 33554432) !== 0)) {\n                ret = maybePromise._value();\n            } else if (((bitField & 16777216) !== 0)) {\n                this._reject(maybePromise._reason());\n                return true;\n            } else {\n                this._cancel();\n                return true;\n            }\n        }\n        values[index] = ret;\n    }\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= length) {\n        if (preservedValues !== null) {\n            this._filter(values, preservedValues);\n        } else {\n            this._resolve(values);\n        }\n        return true;\n    }\n    return false;\n};\n\nMappingPromiseArray.prototype._drainQueue = function () {\n    var queue = this._queue;\n    var limit = this._limit;\n    var values = this._values;\n    while (queue.length > 0 && this._inFlight < limit) {\n        if (this._isResolved()) return;\n        var index = queue.pop();\n        this._promiseFulfilled(values[index], index);\n    }\n};\n\nMappingPromiseArray.prototype._filter = function (booleans, values) {\n    var len = values.length;\n    var ret = new Array(len);\n    var j = 0;\n    for (var i = 0; i < len; ++i) {\n        if (booleans[i]) ret[j++] = values[i];\n    }\n    ret.length = j;\n    this._resolve(ret);\n};\n\nMappingPromiseArray.prototype.preservedValues = function () {\n    return this._preservedValues;\n};\n\nfunction map(promises, fn, options, _filter) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util$$1.classString(fn));\n    }\n\n    var limit = 0;\n    if (options !== undefined) {\n        if (typeof options === \"object\" && options !== null) {\n            if (typeof options.concurrency !== \"number\") {\n                return Promise.reject(\n                    new TypeError(\"'concurrency' must be a number but it is \" +\n                                    util$$1.classString(options.concurrency)));\n            }\n            limit = options.concurrency;\n        } else {\n            return Promise.reject(new TypeError(\n                            \"options argument must be an object but it is \" +\n                             util$$1.classString(options)));\n        }\n    }\n    limit = typeof limit === \"number\" &&\n        isFinite(limit) && limit >= 1 ? limit : 0;\n    return new MappingPromiseArray(promises, fn, limit, _filter).promise();\n}\n\nPromise.prototype.map = function (fn, options) {\n    return map(this, fn, options, null);\n};\n\nPromise.map = function (promises, fn, options, _filter) {\n    return map(promises, fn, options, _filter);\n};\n\n\n};\n\nvar cr = Object.create;\nif (cr) {\n    var callerCache = cr(null);\n    var getterCache = cr(null);\n    callerCache[\" size\"] = getterCache[\" size\"] = 0;\n}\n\nvar call_get = function(Promise) {\nvar util$$1 = util;\nvar canEvaluate = util$$1.canEvaluate;\nvar isIdentifier = util$$1.isIdentifier;\n\nvar getMethodCaller;\nvar getGetter;\n{\nvar makeMethodCaller = function (methodName) {\n    return new Function(\"ensureMethod\", \"                                    \\n\\\n        return function(obj) {                                               \\n\\\n            'use strict'                                                     \\n\\\n            var len = this.length;                                           \\n\\\n            ensureMethod(obj, 'methodName');                                 \\n\\\n            switch(len) {                                                    \\n\\\n                case 1: return obj.methodName(this[0]);                      \\n\\\n                case 2: return obj.methodName(this[0], this[1]);             \\n\\\n                case 3: return obj.methodName(this[0], this[1], this[2]);    \\n\\\n                case 0: return obj.methodName();                             \\n\\\n                default:                                                     \\n\\\n                    return obj.methodName.apply(obj, this);                  \\n\\\n            }                                                                \\n\\\n        };                                                                   \\n\\\n        \".replace(/methodName/g, methodName))(ensureMethod);\n};\n\nvar makeGetter = function (propertyName) {\n    return new Function(\"obj\", \"                                             \\n\\\n        'use strict';                                                        \\n\\\n        return obj.propertyName;                                             \\n\\\n        \".replace(\"propertyName\", propertyName));\n};\n\nvar getCompiled = function(name, compiler, cache) {\n    var ret = cache[name];\n    if (typeof ret !== \"function\") {\n        if (!isIdentifier(name)) {\n            return null;\n        }\n        ret = compiler(name);\n        cache[name] = ret;\n        cache[\" size\"]++;\n        if (cache[\" size\"] > 512) {\n            var keys = Object.keys(cache);\n            for (var i = 0; i < 256; ++i) delete cache[keys[i]];\n            cache[\" size\"] = keys.length - 256;\n        }\n    }\n    return ret;\n};\n\ngetMethodCaller = function(name) {\n    return getCompiled(name, makeMethodCaller, callerCache);\n};\n\ngetGetter = function(name) {\n    return getCompiled(name, makeGetter, getterCache);\n};\n}\n\nfunction ensureMethod(obj, methodName) {\n    var fn;\n    if (obj != null) fn = obj[methodName];\n    if (typeof fn !== \"function\") {\n        var message = \"Object \" + util$$1.classString(obj) + \" has no method '\" +\n            util$$1.toString(methodName) + \"'\";\n        throw new Promise.TypeError(message);\n    }\n    return fn;\n}\n\nfunction caller(obj) {\n    var methodName = this.pop();\n    var fn = ensureMethod(obj, methodName);\n    return fn.apply(obj, this);\n}\nPromise.prototype.call = function (methodName) {\n    var $_len = arguments.length;var args = new Array(Math.max($_len - 1, 0)); for(var $_i = 1; $_i < $_len; ++$_i) {args[$_i - 1] = arguments[$_i];}    {\n        if (canEvaluate) {\n            var maybeCaller = getMethodCaller(methodName);\n            if (maybeCaller !== null) {\n                return this._then(\n                    maybeCaller, undefined, undefined, args, undefined);\n            }\n        }\n    }\n    args.push(methodName);\n    return this._then(caller, undefined, undefined, args, undefined);\n};\n\nfunction namedGetter(obj) {\n    return obj[this];\n}\nfunction indexedGetter(obj) {\n    var index = +this;\n    if (index < 0) index = Math.max(0, index + obj.length);\n    return obj[index];\n}\nPromise.prototype.get = function (propertyName) {\n    var isIndex = (typeof propertyName === \"number\");\n    var getter;\n    if (!isIndex) {\n        if (canEvaluate) {\n            var maybeGetter = getGetter(propertyName);\n            getter = maybeGetter !== null ? maybeGetter : namedGetter;\n        } else {\n            getter = namedGetter;\n        }\n    } else {\n        getter = indexedGetter;\n    }\n    return this._then(getter, undefined, undefined, propertyName, undefined);\n};\n};\n\nvar using = function (Promise, apiRejection, tryConvertToPromise,\n    createContext, INTERNAL, debug) {\n    var util$$1 = util;\n    var TypeError = errors.TypeError;\n    var inherits = util.inherits;\n    var errorObj = util$$1.errorObj;\n    var tryCatch = util$$1.tryCatch;\n    var NULL = {};\n\n    function thrower(e) {\n        setTimeout(function(){throw e;}, 0);\n    }\n\n    function castPreservingDisposable(thenable) {\n        var maybePromise = tryConvertToPromise(thenable);\n        if (maybePromise !== thenable &&\n            typeof thenable._isDisposable === \"function\" &&\n            typeof thenable._getDisposer === \"function\" &&\n            thenable._isDisposable()) {\n            maybePromise._setDisposable(thenable._getDisposer());\n        }\n        return maybePromise;\n    }\n    function dispose(resources, inspection) {\n        var i = 0;\n        var len = resources.length;\n        var ret = new Promise(INTERNAL);\n        function iterator() {\n            if (i >= len) return ret._fulfill();\n            var maybePromise = castPreservingDisposable(resources[i++]);\n            if (maybePromise instanceof Promise &&\n                maybePromise._isDisposable()) {\n                try {\n                    maybePromise = tryConvertToPromise(\n                        maybePromise._getDisposer().tryDispose(inspection),\n                        resources.promise);\n                } catch (e) {\n                    return thrower(e);\n                }\n                if (maybePromise instanceof Promise) {\n                    return maybePromise._then(iterator, thrower,\n                                              null, null, null);\n                }\n            }\n            iterator();\n        }\n        iterator();\n        return ret;\n    }\n\n    function Disposer(data, promise, context) {\n        this._data = data;\n        this._promise = promise;\n        this._context = context;\n    }\n\n    Disposer.prototype.data = function () {\n        return this._data;\n    };\n\n    Disposer.prototype.promise = function () {\n        return this._promise;\n    };\n\n    Disposer.prototype.resource = function () {\n        if (this.promise().isFulfilled()) {\n            return this.promise().value();\n        }\n        return NULL;\n    };\n\n    Disposer.prototype.tryDispose = function(inspection) {\n        var resource = this.resource();\n        var context = this._context;\n        if (context !== undefined) context._pushContext();\n        var ret = resource !== NULL\n            ? this.doDispose(resource, inspection) : null;\n        if (context !== undefined) context._popContext();\n        this._promise._unsetDisposable();\n        this._data = null;\n        return ret;\n    };\n\n    Disposer.isDisposer = function (d) {\n        return (d != null &&\n                typeof d.resource === \"function\" &&\n                typeof d.tryDispose === \"function\");\n    };\n\n    function FunctionDisposer(fn, promise, context) {\n        this.constructor$(fn, promise, context);\n    }\n    inherits(FunctionDisposer, Disposer);\n\n    FunctionDisposer.prototype.doDispose = function (resource, inspection) {\n        var fn = this.data();\n        return fn.call(resource, resource, inspection);\n    };\n\n    function maybeUnwrapDisposer(value) {\n        if (Disposer.isDisposer(value)) {\n            this.resources[this.index]._setDisposable(value);\n            return value.promise();\n        }\n        return value;\n    }\n\n    function ResourceList(length) {\n        this.length = length;\n        this.promise = null;\n        this[length-1] = null;\n    }\n\n    ResourceList.prototype._resultCancelled = function() {\n        var len = this.length;\n        for (var i = 0; i < len; ++i) {\n            var item = this[i];\n            if (item instanceof Promise) {\n                item.cancel();\n            }\n        }\n    };\n\n    Promise.using = function () {\n        var len = arguments.length;\n        if (len < 2) return apiRejection(\n                        \"you must pass at least 2 arguments to Promise.using\");\n        var fn = arguments[len - 1];\n        if (typeof fn !== \"function\") {\n            return apiRejection(\"expecting a function but got \" + util$$1.classString(fn));\n        }\n        var input;\n        var spreadArgs = true;\n        if (len === 2 && Array.isArray(arguments[0])) {\n            input = arguments[0];\n            len = input.length;\n            spreadArgs = false;\n        } else {\n            input = arguments;\n            len--;\n        }\n        var resources = new ResourceList(len);\n        for (var i = 0; i < len; ++i) {\n            var resource = input[i];\n            if (Disposer.isDisposer(resource)) {\n                var disposer = resource;\n                resource = resource.promise();\n                resource._setDisposable(disposer);\n            } else {\n                var maybePromise = tryConvertToPromise(resource);\n                if (maybePromise instanceof Promise) {\n                    resource =\n                        maybePromise._then(maybeUnwrapDisposer, null, null, {\n                            resources: resources,\n                            index: i\n                    }, undefined);\n                }\n            }\n            resources[i] = resource;\n        }\n\n        var reflectedResources = new Array(resources.length);\n        for (var i = 0; i < reflectedResources.length; ++i) {\n            reflectedResources[i] = Promise.resolve(resources[i]).reflect();\n        }\n\n        var resultPromise = Promise.all(reflectedResources)\n            .then(function(inspections) {\n                for (var i = 0; i < inspections.length; ++i) {\n                    var inspection = inspections[i];\n                    if (inspection.isRejected()) {\n                        errorObj.e = inspection.error();\n                        return errorObj;\n                    } else if (!inspection.isFulfilled()) {\n                        resultPromise.cancel();\n                        return;\n                    }\n                    inspections[i] = inspection.value();\n                }\n                promise._pushContext();\n\n                fn = tryCatch(fn);\n                var ret = spreadArgs\n                    ? fn.apply(undefined, inspections) : fn(inspections);\n                var promiseCreated = promise._popContext();\n                debug.checkForgottenReturns(\n                    ret, promiseCreated, \"Promise.using\", promise);\n                return ret;\n            });\n\n        var promise = resultPromise.lastly(function() {\n            var inspection = new Promise.PromiseInspection(resultPromise);\n            return dispose(resources, inspection);\n        });\n        resources.promise = promise;\n        promise._setOnCancel(resources);\n        return promise;\n    };\n\n    Promise.prototype._setDisposable = function (disposer) {\n        this._bitField = this._bitField | 131072;\n        this._disposer = disposer;\n    };\n\n    Promise.prototype._isDisposable = function () {\n        return (this._bitField & 131072) > 0;\n    };\n\n    Promise.prototype._getDisposer = function () {\n        return this._disposer;\n    };\n\n    Promise.prototype._unsetDisposable = function () {\n        this._bitField = this._bitField & (~131072);\n        this._disposer = undefined;\n    };\n\n    Promise.prototype.disposer = function (fn) {\n        if (typeof fn === \"function\") {\n            return new FunctionDisposer(fn, this, createContext());\n        }\n        throw new TypeError();\n    };\n\n};\n\nvar timers = function(Promise, INTERNAL, debug) {\nvar util$$1 = util;\nvar TimeoutError = Promise.TimeoutError;\n\nfunction HandleWrapper(handle)  {\n    this.handle = handle;\n}\n\nHandleWrapper.prototype._resultCancelled = function() {\n    clearTimeout(this.handle);\n};\n\nvar afterValue = function(value) { return delay(+this).thenReturn(value); };\nvar delay = Promise.delay = function (ms, value) {\n    var ret;\n    var handle;\n    if (value !== undefined) {\n        ret = Promise.resolve(value)\n                ._then(afterValue, null, null, ms, undefined);\n        if (debug.cancellation() && value instanceof Promise) {\n            ret._setOnCancel(value);\n        }\n    } else {\n        ret = new Promise(INTERNAL);\n        handle = setTimeout(function() { ret._fulfill(); }, +ms);\n        if (debug.cancellation()) {\n            ret._setOnCancel(new HandleWrapper(handle));\n        }\n        ret._captureStackTrace();\n    }\n    ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.prototype.delay = function (ms) {\n    return delay(ms, this);\n};\n\nvar afterTimeout = function (promise, message, parent) {\n    var err;\n    if (typeof message !== \"string\") {\n        if (message instanceof Error) {\n            err = message;\n        } else {\n            err = new TimeoutError(\"operation timed out\");\n        }\n    } else {\n        err = new TimeoutError(message);\n    }\n    util$$1.markAsOriginatingFromRejection(err);\n    promise._attachExtraTrace(err);\n    promise._reject(err);\n\n    if (parent != null) {\n        parent.cancel();\n    }\n};\n\nfunction successClear(value) {\n    clearTimeout(this.handle);\n    return value;\n}\n\nfunction failureClear(reason) {\n    clearTimeout(this.handle);\n    throw reason;\n}\n\nPromise.prototype.timeout = function (ms, message) {\n    ms = +ms;\n    var ret, parent;\n\n    var handleWrapper = new HandleWrapper(setTimeout(function timeoutTimeout() {\n        if (ret.isPending()) {\n            afterTimeout(ret, message, parent);\n        }\n    }, ms));\n\n    if (debug.cancellation()) {\n        parent = this.then();\n        ret = parent._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n        ret._setOnCancel(handleWrapper);\n    } else {\n        ret = this._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n    }\n\n    return ret;\n};\n\n};\n\nvar generators = function(Promise,\n                          apiRejection,\n                          INTERNAL,\n                          tryConvertToPromise,\n                          Proxyable,\n                          debug) {\nvar errors$$1 = errors;\nvar TypeError = errors$$1.TypeError;\nvar util$$1 = util;\nvar errorObj = util$$1.errorObj;\nvar tryCatch = util$$1.tryCatch;\nvar yieldHandlers = [];\n\nfunction promiseFromYieldHandler(value, yieldHandlers, traceParent) {\n    for (var i = 0; i < yieldHandlers.length; ++i) {\n        traceParent._pushContext();\n        var result = tryCatch(yieldHandlers[i])(value);\n        traceParent._popContext();\n        if (result === errorObj) {\n            traceParent._pushContext();\n            var ret = Promise.reject(errorObj.e);\n            traceParent._popContext();\n            return ret;\n        }\n        var maybePromise = tryConvertToPromise(result, traceParent);\n        if (maybePromise instanceof Promise) return maybePromise;\n    }\n    return null;\n}\n\nfunction PromiseSpawn(generatorFunction, receiver, yieldHandler, stack) {\n    if (debug.cancellation()) {\n        var internal = new Promise(INTERNAL);\n        var _finallyPromise = this._finallyPromise = new Promise(INTERNAL);\n        this._promise = internal.lastly(function() {\n            return _finallyPromise;\n        });\n        internal._captureStackTrace();\n        internal._setOnCancel(this);\n    } else {\n        var promise = this._promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n    }\n    this._stack = stack;\n    this._generatorFunction = generatorFunction;\n    this._receiver = receiver;\n    this._generator = undefined;\n    this._yieldHandlers = typeof yieldHandler === \"function\"\n        ? [yieldHandler].concat(yieldHandlers)\n        : yieldHandlers;\n    this._yieldedPromise = null;\n    this._cancellationPhase = false;\n}\nutil$$1.inherits(PromiseSpawn, Proxyable);\n\nPromiseSpawn.prototype._isResolved = function() {\n    return this._promise === null;\n};\n\nPromiseSpawn.prototype._cleanup = function() {\n    this._promise = this._generator = null;\n    if (debug.cancellation() && this._finallyPromise !== null) {\n        this._finallyPromise._fulfill();\n        this._finallyPromise = null;\n    }\n};\n\nPromiseSpawn.prototype._promiseCancelled = function() {\n    if (this._isResolved()) return;\n    var implementsReturn = typeof this._generator[\"return\"] !== \"undefined\";\n\n    var result;\n    if (!implementsReturn) {\n        var reason = new Promise.CancellationError(\n            \"generator .return() sentinel\");\n        Promise.coroutine.returnSentinel = reason;\n        this._promise._attachExtraTrace(reason);\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"throw\"]).call(this._generator,\n                                                         reason);\n        this._promise._popContext();\n    } else {\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"return\"]).call(this._generator,\n                                                          undefined);\n        this._promise._popContext();\n    }\n    this._cancellationPhase = true;\n    this._yieldedPromise = null;\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseFulfilled = function(value) {\n    this._yieldedPromise = null;\n    this._promise._pushContext();\n    var result = tryCatch(this._generator.next).call(this._generator, value);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseRejected = function(reason) {\n    this._yieldedPromise = null;\n    this._promise._attachExtraTrace(reason);\n    this._promise._pushContext();\n    var result = tryCatch(this._generator[\"throw\"])\n        .call(this._generator, reason);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._resultCancelled = function() {\n    if (this._yieldedPromise instanceof Promise) {\n        var promise = this._yieldedPromise;\n        this._yieldedPromise = null;\n        promise.cancel();\n    }\n};\n\nPromiseSpawn.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseSpawn.prototype._run = function () {\n    this._generator = this._generatorFunction.call(this._receiver);\n    this._receiver =\n        this._generatorFunction = undefined;\n    this._promiseFulfilled(undefined);\n};\n\nPromiseSpawn.prototype._continue = function (result) {\n    var promise = this._promise;\n    if (result === errorObj) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._rejectCallback(result.e, false);\n        }\n    }\n\n    var value = result.value;\n    if (result.done === true) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._resolveCallback(value);\n        }\n    } else {\n        var maybePromise = tryConvertToPromise(value, this._promise);\n        if (!(maybePromise instanceof Promise)) {\n            maybePromise =\n                promiseFromYieldHandler(maybePromise,\n                                        this._yieldHandlers,\n                                        this._promise);\n            if (maybePromise === null) {\n                this._promiseRejected(\n                    new TypeError(\n                        \"A value %s was yielded that could not be treated as a promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\\u000a\".replace(\"%s\", String(value)) +\n                        \"From coroutine:\\u000a\" +\n                        this._stack.split(\"\\n\").slice(1, -7).join(\"\\n\")\n                    )\n                );\n                return;\n            }\n        }\n        maybePromise = maybePromise._target();\n        var bitField = maybePromise._bitField;\n        if (((bitField & 50397184) === 0)) {\n            this._yieldedPromise = maybePromise;\n            maybePromise._proxy(this, null);\n        } else if (((bitField & 33554432) !== 0)) {\n            Promise._async.invoke(\n                this._promiseFulfilled, this, maybePromise._value()\n            );\n        } else if (((bitField & 16777216) !== 0)) {\n            Promise._async.invoke(\n                this._promiseRejected, this, maybePromise._reason()\n            );\n        } else {\n            this._promiseCancelled();\n        }\n    }\n};\n\nPromise.coroutine = function (generatorFunction, options) {\n    if (typeof generatorFunction !== \"function\") {\n        throw new TypeError(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var yieldHandler = Object(options).yieldHandler;\n    var PromiseSpawn$ = PromiseSpawn;\n    var stack = new Error().stack;\n    return function () {\n        var generator = generatorFunction.apply(this, arguments);\n        var spawn = new PromiseSpawn$(undefined, undefined, yieldHandler,\n                                      stack);\n        var ret = spawn.promise();\n        spawn._generator = generator;\n        spawn._promiseFulfilled(undefined);\n        return ret;\n    };\n};\n\nPromise.coroutine.addYieldHandler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util$$1.classString(fn));\n    }\n    yieldHandlers.push(fn);\n};\n\nPromise.spawn = function (generatorFunction) {\n    debug.deprecated(\"Promise.spawn()\", \"Promise.coroutine()\");\n    if (typeof generatorFunction !== \"function\") {\n        return apiRejection(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var spawn = new PromiseSpawn(generatorFunction, this);\n    var ret = spawn.promise();\n    spawn._run(Promise.spawn);\n    return ret;\n};\n};\n\nvar nodeify = function(Promise) {\nvar util$$1 = util;\nvar async = Promise._async;\nvar tryCatch = util$$1.tryCatch;\nvar errorObj = util$$1.errorObj;\n\nfunction spreadAdapter(val, nodeback) {\n    var promise = this;\n    if (!util$$1.isArray(val)) return successAdapter.call(promise, val, nodeback);\n    var ret =\n        tryCatch(nodeback).apply(promise._boundValue(), [null].concat(val));\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nfunction successAdapter(val, nodeback) {\n    var promise = this;\n    var receiver = promise._boundValue();\n    var ret = val === undefined\n        ? tryCatch(nodeback).call(receiver, null)\n        : tryCatch(nodeback).call(receiver, null, val);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\nfunction errorAdapter(reason, nodeback) {\n    var promise = this;\n    if (!reason) {\n        var newReason = new Error(reason + \"\");\n        newReason.cause = reason;\n        reason = newReason;\n    }\n    var ret = tryCatch(nodeback).call(promise._boundValue(), reason);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nPromise.prototype.asCallback = Promise.prototype.nodeify = function (nodeback,\n                                                                     options) {\n    if (typeof nodeback == \"function\") {\n        var adapter = successAdapter;\n        if (options !== undefined && Object(options).spread) {\n            adapter = spreadAdapter;\n        }\n        this._then(\n            adapter,\n            errorAdapter,\n            undefined,\n            this,\n            nodeback\n        );\n    }\n    return this;\n};\n};\n\nvar promisify = function(Promise, INTERNAL) {\nvar THIS = {};\nvar util$$1 = util;\nvar nodebackForPromise = nodeback;\nvar withAppended = util$$1.withAppended;\nvar maybeWrapAsError = util$$1.maybeWrapAsError;\nvar canEvaluate = util$$1.canEvaluate;\nvar TypeError = errors.TypeError;\nvar defaultSuffix = \"Async\";\nvar defaultPromisified = {__isPromisified__: true};\nvar noCopyProps = [\n    \"arity\",    \"length\",\n    \"name\",\n    \"arguments\",\n    \"caller\",\n    \"callee\",\n    \"prototype\",\n    \"__isPromisified__\"\n];\nvar noCopyPropsPattern = new RegExp(\"^(?:\" + noCopyProps.join(\"|\") + \")$\");\n\nvar defaultFilter = function(name) {\n    return util$$1.isIdentifier(name) &&\n        name.charAt(0) !== \"_\" &&\n        name !== \"constructor\";\n};\n\nfunction propsFilter(key) {\n    return !noCopyPropsPattern.test(key);\n}\n\nfunction isPromisified(fn) {\n    try {\n        return fn.__isPromisified__ === true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n\nfunction hasPromisified(obj, key, suffix) {\n    var val = util$$1.getDataPropertyOrDefault(obj, key + suffix,\n                                            defaultPromisified);\n    return val ? isPromisified(val) : false;\n}\nfunction checkValid(ret, suffix, suffixRegexp) {\n    for (var i = 0; i < ret.length; i += 2) {\n        var key = ret[i];\n        if (suffixRegexp.test(key)) {\n            var keyWithoutAsyncSuffix = key.replace(suffixRegexp, \"\");\n            for (var j = 0; j < ret.length; j += 2) {\n                if (ret[j] === keyWithoutAsyncSuffix) {\n                    throw new TypeError(\"Cannot promisify an API that has normal methods with '%s'-suffix\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\"\n                        .replace(\"%s\", suffix));\n                }\n            }\n        }\n    }\n}\n\nfunction promisifiableMethods(obj, suffix, suffixRegexp, filter) {\n    var keys = util$$1.inheritedDataKeys(obj);\n    var ret = [];\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var value = obj[key];\n        var passesDefaultFilter = filter === defaultFilter\n            ? true : defaultFilter(key, value, obj);\n        if (typeof value === \"function\" &&\n            !isPromisified(value) &&\n            !hasPromisified(obj, key, suffix) &&\n            filter(key, value, obj, passesDefaultFilter)) {\n            ret.push(key, value);\n        }\n    }\n    checkValid(ret, suffix, suffixRegexp);\n    return ret;\n}\n\nvar escapeIdentRegex = function(str) {\n    return str.replace(/([$])/, \"\\\\$\");\n};\n\nvar makeNodePromisifiedEval;\n{\nvar switchCaseArgumentOrder = function(likelyArgumentCount) {\n    var ret = [likelyArgumentCount];\n    var min = Math.max(0, likelyArgumentCount - 1 - 3);\n    for(var i = likelyArgumentCount - 1; i >= min; --i) {\n        ret.push(i);\n    }\n    for(var i = likelyArgumentCount + 1; i <= 3; ++i) {\n        ret.push(i);\n    }\n    return ret;\n};\n\nvar argumentSequence = function(argumentCount) {\n    return util$$1.filledRange(argumentCount, \"_arg\", \"\");\n};\n\nvar parameterDeclaration = function(parameterCount) {\n    return util$$1.filledRange(\n        Math.max(parameterCount, 3), \"_arg\", \"\");\n};\n\nvar parameterCount = function(fn) {\n    if (typeof fn.length === \"number\") {\n        return Math.max(Math.min(fn.length, 1023 + 1), 0);\n    }\n    return 0;\n};\n\nmakeNodePromisifiedEval =\nfunction(callback, receiver, originalName, fn, _, multiArgs) {\n    var newParameterCount = Math.max(0, parameterCount(fn) - 1);\n    var argumentOrder = switchCaseArgumentOrder(newParameterCount);\n    var shouldProxyThis = typeof callback === \"string\" || receiver === THIS;\n\n    function generateCallForArgumentCount(count) {\n        var args = argumentSequence(count).join(\", \");\n        var comma = count > 0 ? \", \" : \"\";\n        var ret;\n        if (shouldProxyThis) {\n            ret = \"ret = callback.call(this, {{args}}, nodeback); break;\\n\";\n        } else {\n            ret = receiver === undefined\n                ? \"ret = callback({{args}}, nodeback); break;\\n\"\n                : \"ret = callback.call(receiver, {{args}}, nodeback); break;\\n\";\n        }\n        return ret.replace(\"{{args}}\", args).replace(\", \", comma);\n    }\n\n    function generateArgumentSwitchCase() {\n        var ret = \"\";\n        for (var i = 0; i < argumentOrder.length; ++i) {\n            ret += \"case \" + argumentOrder[i] +\":\" +\n                generateCallForArgumentCount(argumentOrder[i]);\n        }\n\n        ret += \"                                                             \\n\\\n        default:                                                             \\n\\\n            var args = new Array(len + 1);                                   \\n\\\n            var i = 0;                                                       \\n\\\n            for (var i = 0; i < len; ++i) {                                  \\n\\\n               args[i] = arguments[i];                                       \\n\\\n            }                                                                \\n\\\n            args[i] = nodeback;                                              \\n\\\n            [CodeForCall]                                                    \\n\\\n            break;                                                           \\n\\\n        \".replace(\"[CodeForCall]\", (shouldProxyThis\n                                ? \"ret = callback.apply(this, args);\\n\"\n                                : \"ret = callback.apply(receiver, args);\\n\"));\n        return ret;\n    }\n\n    var getFunctionCode = typeof callback === \"string\"\n                                ? (\"this != null ? this['\"+callback+\"'] : fn\")\n                                : \"fn\";\n    var body = \"'use strict';                                                \\n\\\n        var ret = function (Parameters) {                                    \\n\\\n            'use strict';                                                    \\n\\\n            var len = arguments.length;                                      \\n\\\n            var promise = new Promise(INTERNAL);                             \\n\\\n            promise._captureStackTrace();                                    \\n\\\n            var nodeback = nodebackForPromise(promise, \" + multiArgs + \");   \\n\\\n            var ret;                                                         \\n\\\n            var callback = tryCatch([GetFunctionCode]);                      \\n\\\n            switch(len) {                                                    \\n\\\n                [CodeForSwitchCase]                                          \\n\\\n            }                                                                \\n\\\n            if (ret === errorObj) {                                          \\n\\\n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\\n\\\n            }                                                                \\n\\\n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \\n\\\n            return promise;                                                  \\n\\\n        };                                                                   \\n\\\n        notEnumerableProp(ret, '__isPromisified__', true);                   \\n\\\n        return ret;                                                          \\n\\\n    \".replace(\"[CodeForSwitchCase]\", generateArgumentSwitchCase())\n        .replace(\"[GetFunctionCode]\", getFunctionCode);\n    body = body.replace(\"Parameters\", parameterDeclaration(newParameterCount));\n    return new Function(\"Promise\",\n                        \"fn\",\n                        \"receiver\",\n                        \"withAppended\",\n                        \"maybeWrapAsError\",\n                        \"nodebackForPromise\",\n                        \"tryCatch\",\n                        \"errorObj\",\n                        \"notEnumerableProp\",\n                        \"INTERNAL\",\n                        body)(\n                    Promise,\n                    fn,\n                    receiver,\n                    withAppended,\n                    maybeWrapAsError,\n                    nodebackForPromise,\n                    util$$1.tryCatch,\n                    util$$1.errorObj,\n                    util$$1.notEnumerableProp,\n                    INTERNAL);\n};\n}\n\nfunction makeNodePromisifiedClosure(callback, receiver, _, fn, __, multiArgs) {\n    var defaultThis = (function() {return this;})();\n    var method = callback;\n    if (typeof method === \"string\") {\n        callback = fn;\n    }\n    function promisified() {\n        var _receiver = receiver;\n        if (receiver === THIS) _receiver = this;\n        var promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n        var cb = typeof method === \"string\" && this !== defaultThis\n            ? this[method] : callback;\n        var fn = nodebackForPromise(promise, multiArgs);\n        try {\n            cb.apply(_receiver, withAppended(arguments, fn));\n        } catch(e) {\n            promise._rejectCallback(maybeWrapAsError(e), true, true);\n        }\n        if (!promise._isFateSealed()) promise._setAsyncGuaranteed();\n        return promise;\n    }\n    util$$1.notEnumerableProp(promisified, \"__isPromisified__\", true);\n    return promisified;\n}\n\nvar makeNodePromisified = canEvaluate\n    ? makeNodePromisifiedEval\n    : makeNodePromisifiedClosure;\n\nfunction promisifyAll(obj, suffix, filter, promisifier, multiArgs) {\n    var suffixRegexp = new RegExp(escapeIdentRegex(suffix) + \"$\");\n    var methods =\n        promisifiableMethods(obj, suffix, suffixRegexp, filter);\n\n    for (var i = 0, len = methods.length; i < len; i+= 2) {\n        var key = methods[i];\n        var fn = methods[i+1];\n        var promisifiedKey = key + suffix;\n        if (promisifier === makeNodePromisified) {\n            obj[promisifiedKey] =\n                makeNodePromisified(key, THIS, key, fn, suffix, multiArgs);\n        } else {\n            var promisified = promisifier(fn, function() {\n                return makeNodePromisified(key, THIS, key,\n                                           fn, suffix, multiArgs);\n            });\n            util$$1.notEnumerableProp(promisified, \"__isPromisified__\", true);\n            obj[promisifiedKey] = promisified;\n        }\n    }\n    util$$1.toFastProperties(obj);\n    return obj;\n}\n\nfunction promisify(callback, receiver, multiArgs) {\n    return makeNodePromisified(callback, receiver, undefined,\n                                callback, null, multiArgs);\n}\n\nPromise.promisify = function (fn, options) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util$$1.classString(fn));\n    }\n    if (isPromisified(fn)) {\n        return fn;\n    }\n    options = Object(options);\n    var receiver = options.context === undefined ? THIS : options.context;\n    var multiArgs = !!options.multiArgs;\n    var ret = promisify(fn, receiver, multiArgs);\n    util$$1.copyDescriptors(fn, ret, propsFilter);\n    return ret;\n};\n\nPromise.promisifyAll = function (target, options) {\n    if (typeof target !== \"function\" && typeof target !== \"object\") {\n        throw new TypeError(\"the target of promisifyAll must be an object or a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    options = Object(options);\n    var multiArgs = !!options.multiArgs;\n    var suffix = options.suffix;\n    if (typeof suffix !== \"string\") suffix = defaultSuffix;\n    var filter = options.filter;\n    if (typeof filter !== \"function\") filter = defaultFilter;\n    var promisifier = options.promisifier;\n    if (typeof promisifier !== \"function\") promisifier = makeNodePromisified;\n\n    if (!util$$1.isIdentifier(suffix)) {\n        throw new RangeError(\"suffix must be a valid identifier\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n\n    var keys = util$$1.inheritedDataKeys(target);\n    for (var i = 0; i < keys.length; ++i) {\n        var value = target[keys[i]];\n        if (keys[i] !== \"constructor\" &&\n            util$$1.isClass(value)) {\n            promisifyAll(value.prototype, suffix, filter, promisifier,\n                multiArgs);\n            promisifyAll(value, suffix, filter, promisifier, multiArgs);\n        }\n    }\n\n    return promisifyAll(target, suffix, filter, promisifier, multiArgs);\n};\n};\n\nvar props = function(\n    Promise, PromiseArray, tryConvertToPromise, apiRejection) {\nvar util$$1 = util;\nvar isObject = util$$1.isObject;\nvar es5$$1 = es5;\nvar Es6Map;\nif (typeof Map === \"function\") Es6Map = Map;\n\nvar mapToEntries = (function() {\n    var index = 0;\n    var size = 0;\n\n    function extractEntry(value, key) {\n        this[index] = value;\n        this[index + size] = key;\n        index++;\n    }\n\n    return function mapToEntries(map) {\n        size = map.size;\n        index = 0;\n        var ret = new Array(map.size * 2);\n        map.forEach(extractEntry, ret);\n        return ret;\n    };\n})();\n\nvar entriesToMap = function(entries) {\n    var ret = new Es6Map();\n    var length = entries.length / 2 | 0;\n    for (var i = 0; i < length; ++i) {\n        var key = entries[length + i];\n        var value = entries[i];\n        ret.set(key, value);\n    }\n    return ret;\n};\n\nfunction PropertiesPromiseArray(obj) {\n    var isMap = false;\n    var entries;\n    if (Es6Map !== undefined && obj instanceof Es6Map) {\n        entries = mapToEntries(obj);\n        isMap = true;\n    } else {\n        var keys = es5$$1.keys(obj);\n        var len = keys.length;\n        entries = new Array(len * 2);\n        for (var i = 0; i < len; ++i) {\n            var key = keys[i];\n            entries[i] = obj[key];\n            entries[i + len] = key;\n        }\n    }\n    this.constructor$(entries);\n    this._isMap = isMap;\n    this._init$(undefined, isMap ? -6 : -3);\n}\nutil$$1.inherits(PropertiesPromiseArray, PromiseArray);\n\nPropertiesPromiseArray.prototype._init = function () {};\n\nPropertiesPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        var val;\n        if (this._isMap) {\n            val = entriesToMap(this._values);\n        } else {\n            val = {};\n            var keyOffset = this.length();\n            for (var i = 0, len = this.length(); i < len; ++i) {\n                val[this._values[i + keyOffset]] = this._values[i];\n            }\n        }\n        this._resolve(val);\n        return true;\n    }\n    return false;\n};\n\nPropertiesPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nPropertiesPromiseArray.prototype.getActualLength = function (len) {\n    return len >> 1;\n};\n\nfunction props(promises) {\n    var ret;\n    var castValue = tryConvertToPromise(promises);\n\n    if (!isObject(castValue)) {\n        return apiRejection(\"cannot await properties of a non-object\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    } else if (castValue instanceof Promise) {\n        ret = castValue._then(\n            Promise.props, undefined, undefined, undefined, undefined);\n    } else {\n        ret = new PropertiesPromiseArray(castValue).promise();\n    }\n\n    if (castValue instanceof Promise) {\n        ret._propagateFrom(castValue, 2);\n    }\n    return ret;\n}\n\nPromise.prototype.props = function () {\n    return props(this);\n};\n\nPromise.props = function (promises) {\n    return props(promises);\n};\n};\n\nvar race = function(\n    Promise, INTERNAL, tryConvertToPromise, apiRejection) {\nvar util$$1 = util;\n\nvar raceLater = function (promise) {\n    return promise.then(function(array) {\n        return race(array, promise);\n    });\n};\n\nfunction race(promises, parent) {\n    var maybePromise = tryConvertToPromise(promises);\n\n    if (maybePromise instanceof Promise) {\n        return raceLater(maybePromise);\n    } else {\n        promises = util$$1.asArray(promises);\n        if (promises === null)\n            return apiRejection(\"expecting an array or an iterable object but got \" + util$$1.classString(promises));\n    }\n\n    var ret = new Promise(INTERNAL);\n    if (parent !== undefined) {\n        ret._propagateFrom(parent, 3);\n    }\n    var fulfill = ret._fulfill;\n    var reject = ret._reject;\n    for (var i = 0, len = promises.length; i < len; ++i) {\n        var val = promises[i];\n\n        if (val === undefined && !(i in promises)) {\n            continue;\n        }\n\n        Promise.cast(val)._then(fulfill, reject, undefined, ret, null);\n    }\n    return ret;\n}\n\nPromise.race = function (promises) {\n    return race(promises, undefined);\n};\n\nPromise.prototype.race = function () {\n    return race(this, undefined);\n};\n\n};\n\nvar reduce = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util$$1 = util;\nvar tryCatch = util$$1.tryCatch;\n\nfunction ReductionPromiseArray(promises, fn, initialValue, _each) {\n    this.constructor$(promises);\n    var domain = getDomain();\n    this._fn = domain === null ? fn : util$$1.domainBind(domain, fn);\n    if (initialValue !== undefined) {\n        initialValue = Promise.resolve(initialValue);\n        initialValue._attachCancellationCallback(this);\n    }\n    this._initialValue = initialValue;\n    this._currentCancellable = null;\n    if(_each === INTERNAL) {\n        this._eachValues = Array(this._length);\n    } else if (_each === 0) {\n        this._eachValues = null;\n    } else {\n        this._eachValues = undefined;\n    }\n    this._promise._captureStackTrace();\n    this._init$(undefined, -5);\n}\nutil$$1.inherits(ReductionPromiseArray, PromiseArray);\n\nReductionPromiseArray.prototype._gotAccum = function(accum) {\n    if (this._eachValues !== undefined && \n        this._eachValues !== null && \n        accum !== INTERNAL) {\n        this._eachValues.push(accum);\n    }\n};\n\nReductionPromiseArray.prototype._eachComplete = function(value) {\n    if (this._eachValues !== null) {\n        this._eachValues.push(value);\n    }\n    return this._eachValues;\n};\n\nReductionPromiseArray.prototype._init = function() {};\n\nReductionPromiseArray.prototype._resolveEmptyArray = function() {\n    this._resolve(this._eachValues !== undefined ? this._eachValues\n                                                 : this._initialValue);\n};\n\nReductionPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nReductionPromiseArray.prototype._resolve = function(value) {\n    this._promise._resolveCallback(value);\n    this._values = null;\n};\n\nReductionPromiseArray.prototype._resultCancelled = function(sender) {\n    if (sender === this._initialValue) return this._cancel();\n    if (this._isResolved()) return;\n    this._resultCancelled$();\n    if (this._currentCancellable instanceof Promise) {\n        this._currentCancellable.cancel();\n    }\n    if (this._initialValue instanceof Promise) {\n        this._initialValue.cancel();\n    }\n};\n\nReductionPromiseArray.prototype._iterate = function (values) {\n    this._values = values;\n    var value;\n    var i;\n    var length = values.length;\n    if (this._initialValue !== undefined) {\n        value = this._initialValue;\n        i = 0;\n    } else {\n        value = Promise.resolve(values[0]);\n        i = 1;\n    }\n\n    this._currentCancellable = value;\n\n    if (!value.isRejected()) {\n        for (; i < length; ++i) {\n            var ctx = {\n                accum: null,\n                value: values[i],\n                index: i,\n                length: length,\n                array: this\n            };\n            value = value._then(gotAccum, undefined, undefined, ctx, undefined);\n        }\n    }\n\n    if (this._eachValues !== undefined) {\n        value = value\n            ._then(this._eachComplete, undefined, undefined, this, undefined);\n    }\n    value._then(completed, completed, undefined, value, this);\n};\n\nPromise.prototype.reduce = function (fn, initialValue) {\n    return reduce(this, fn, initialValue, null);\n};\n\nPromise.reduce = function (promises, fn, initialValue, _each) {\n    return reduce(promises, fn, initialValue, _each);\n};\n\nfunction completed(valueOrReason, array) {\n    if (this.isFulfilled()) {\n        array._resolve(valueOrReason);\n    } else {\n        array._reject(valueOrReason);\n    }\n}\n\nfunction reduce(promises, fn, initialValue, _each) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util$$1.classString(fn));\n    }\n    var array = new ReductionPromiseArray(promises, fn, initialValue, _each);\n    return array.promise();\n}\n\nfunction gotAccum(accum) {\n    this.accum = accum;\n    this.array._gotAccum(accum);\n    var value = tryConvertToPromise(this.value, this.array._promise);\n    if (value instanceof Promise) {\n        this.array._currentCancellable = value;\n        return value._then(gotValue, undefined, undefined, this, undefined);\n    } else {\n        return gotValue.call(this, value);\n    }\n}\n\nfunction gotValue(value) {\n    var array = this.array;\n    var promise = array._promise;\n    var fn = tryCatch(array._fn);\n    promise._pushContext();\n    var ret;\n    if (array._eachValues !== undefined) {\n        ret = fn.call(promise._boundValue(), value, this.index, this.length);\n    } else {\n        ret = fn.call(promise._boundValue(),\n                              this.accum, value, this.index, this.length);\n    }\n    if (ret instanceof Promise) {\n        array._currentCancellable = ret;\n    }\n    var promiseCreated = promise._popContext();\n    debug.checkForgottenReturns(\n        ret,\n        promiseCreated,\n        array._eachValues !== undefined ? \"Promise.each\" : \"Promise.reduce\",\n        promise\n    );\n    return ret;\n}\n};\n\nvar settle =\n    function(Promise, PromiseArray, debug) {\nvar PromiseInspection = Promise.PromiseInspection;\nvar util$$1 = util;\n\nfunction SettledPromiseArray(values) {\n    this.constructor$(values);\n}\nutil$$1.inherits(SettledPromiseArray, PromiseArray);\n\nSettledPromiseArray.prototype._promiseResolved = function (index, inspection) {\n    this._values[index] = inspection;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nSettledPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 33554432;\n    ret._settledValueField = value;\n    return this._promiseResolved(index, ret);\n};\nSettledPromiseArray.prototype._promiseRejected = function (reason, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 16777216;\n    ret._settledValueField = reason;\n    return this._promiseResolved(index, ret);\n};\n\nPromise.settle = function (promises) {\n    debug.deprecated(\".settle()\", \".reflect()\");\n    return new SettledPromiseArray(promises).promise();\n};\n\nPromise.prototype.settle = function () {\n    return Promise.settle(this);\n};\n};\n\nvar some =\nfunction(Promise, PromiseArray, apiRejection) {\nvar util$$1 = util;\nvar RangeError = errors.RangeError;\nvar AggregateError = errors.AggregateError;\nvar isArray = util$$1.isArray;\nvar CANCELLATION = {};\n\n\nfunction SomePromiseArray(values) {\n    this.constructor$(values);\n    this._howMany = 0;\n    this._unwrap = false;\n    this._initialized = false;\n}\nutil$$1.inherits(SomePromiseArray, PromiseArray);\n\nSomePromiseArray.prototype._init = function () {\n    if (!this._initialized) {\n        return;\n    }\n    if (this._howMany === 0) {\n        this._resolve([]);\n        return;\n    }\n    this._init$(undefined, -5);\n    var isArrayResolved = isArray(this._values);\n    if (!this._isResolved() &&\n        isArrayResolved &&\n        this._howMany > this._canPossiblyFulfill()) {\n        this._reject(this._getRangeError(this.length()));\n    }\n};\n\nSomePromiseArray.prototype.init = function () {\n    this._initialized = true;\n    this._init();\n};\n\nSomePromiseArray.prototype.setUnwrap = function () {\n    this._unwrap = true;\n};\n\nSomePromiseArray.prototype.howMany = function () {\n    return this._howMany;\n};\n\nSomePromiseArray.prototype.setHowMany = function (count) {\n    this._howMany = count;\n};\n\nSomePromiseArray.prototype._promiseFulfilled = function (value) {\n    this._addFulfilled(value);\n    if (this._fulfilled() === this.howMany()) {\n        this._values.length = this.howMany();\n        if (this.howMany() === 1 && this._unwrap) {\n            this._resolve(this._values[0]);\n        } else {\n            this._resolve(this._values);\n        }\n        return true;\n    }\n    return false;\n\n};\nSomePromiseArray.prototype._promiseRejected = function (reason) {\n    this._addRejected(reason);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._promiseCancelled = function () {\n    if (this._values instanceof Promise || this._values == null) {\n        return this._cancel();\n    }\n    this._addRejected(CANCELLATION);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._checkOutcome = function() {\n    if (this.howMany() > this._canPossiblyFulfill()) {\n        var e = new AggregateError();\n        for (var i = this.length(); i < this._values.length; ++i) {\n            if (this._values[i] !== CANCELLATION) {\n                e.push(this._values[i]);\n            }\n        }\n        if (e.length > 0) {\n            this._reject(e);\n        } else {\n            this._cancel();\n        }\n        return true;\n    }\n    return false;\n};\n\nSomePromiseArray.prototype._fulfilled = function () {\n    return this._totalResolved;\n};\n\nSomePromiseArray.prototype._rejected = function () {\n    return this._values.length - this.length();\n};\n\nSomePromiseArray.prototype._addRejected = function (reason) {\n    this._values.push(reason);\n};\n\nSomePromiseArray.prototype._addFulfilled = function (value) {\n    this._values[this._totalResolved++] = value;\n};\n\nSomePromiseArray.prototype._canPossiblyFulfill = function () {\n    return this.length() - this._rejected();\n};\n\nSomePromiseArray.prototype._getRangeError = function (count) {\n    var message = \"Input array must contain at least \" +\n            this._howMany + \" items but contains only \" + count + \" items\";\n    return new RangeError(message);\n};\n\nSomePromiseArray.prototype._resolveEmptyArray = function () {\n    this._reject(this._getRangeError(0));\n};\n\nfunction some(promises, howMany) {\n    if ((howMany | 0) !== howMany || howMany < 0) {\n        return apiRejection(\"expecting a positive integer\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(howMany);\n    ret.init();\n    return promise;\n}\n\nPromise.some = function (promises, howMany) {\n    return some(promises, howMany);\n};\n\nPromise.prototype.some = function (howMany) {\n    return some(this, howMany);\n};\n\nPromise._SomePromiseArray = SomePromiseArray;\n};\n\nvar filter = function(Promise, INTERNAL) {\nvar PromiseMap = Promise.map;\n\nPromise.prototype.filter = function (fn, options) {\n    return PromiseMap(this, fn, options, INTERNAL);\n};\n\nPromise.filter = function (promises, fn, options) {\n    return PromiseMap(promises, fn, options, INTERNAL);\n};\n};\n\nvar each = function(Promise, INTERNAL) {\nvar PromiseReduce = Promise.reduce;\nvar PromiseAll = Promise.all;\n\nfunction promiseAllThis() {\n    return PromiseAll(this);\n}\n\nfunction PromiseMapSeries(promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, INTERNAL);\n}\n\nPromise.prototype.each = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, this, undefined);\n};\n\nPromise.prototype.mapSeries = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, INTERNAL);\n};\n\nPromise.each = function (promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, promises, undefined);\n};\n\nPromise.mapSeries = PromiseMapSeries;\n};\n\nvar any = function(Promise) {\nvar SomePromiseArray = Promise._SomePromiseArray;\nfunction any(promises) {\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(1);\n    ret.setUnwrap();\n    ret.init();\n    return promise;\n}\n\nPromise.any = function (promises) {\n    return any(promises);\n};\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n};\n\nvar promise = createCommonjsModule(function (module) {\nmodule.exports = function() {\nvar makeSelfResolutionError = function () {\n    return new TypeError(\"circular promise resolution chain\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar reflectHandler = function() {\n    return new Promise.PromiseInspection(this._target());\n};\nvar apiRejection = function(msg) {\n    return Promise.reject(new TypeError(msg));\n};\nfunction Proxyable() {}\nvar UNDEFINED_BINDING = {};\nvar util$$1 = util;\n\nvar getDomain;\nif (util$$1.isNode) {\n    getDomain = function() {\n        var ret = process.domain;\n        if (ret === undefined) ret = null;\n        return ret;\n    };\n} else {\n    getDomain = function() {\n        return null;\n    };\n}\nutil$$1.notEnumerableProp(Promise, \"_getDomain\", getDomain);\n\nvar es5$$1 = es5;\nvar Async = async;\nvar async$$1 = new Async();\nes5$$1.defineProperty(Promise, \"_async\", {value: async$$1});\nvar errors$$1 = errors;\nvar TypeError = Promise.TypeError = errors$$1.TypeError;\nPromise.RangeError = errors$$1.RangeError;\nvar CancellationError = Promise.CancellationError = errors$$1.CancellationError;\nPromise.TimeoutError = errors$$1.TimeoutError;\nPromise.OperationalError = errors$$1.OperationalError;\nPromise.RejectionError = errors$$1.OperationalError;\nPromise.AggregateError = errors$$1.AggregateError;\nvar INTERNAL = function(){};\nvar APPLY = {};\nvar NEXT_FILTER = {};\nvar tryConvertToPromise = thenables(Promise, INTERNAL);\nvar PromiseArray =\n    promise_array(Promise, INTERNAL,\n                               tryConvertToPromise, apiRejection, Proxyable);\nvar Context = context(Promise);\n /*jshint unused:false*/\nvar createContext = Context.create;\nvar debug = debuggability(Promise, Context);\nvar CapturedTrace = debug.CapturedTrace;\nvar PassThroughHandlerContext =\n    _finally(Promise, tryConvertToPromise, NEXT_FILTER);\nvar catchFilter = catch_filter(NEXT_FILTER);\nvar nodebackForPromise = nodeback;\nvar errorObj = util$$1.errorObj;\nvar tryCatch = util$$1.tryCatch;\nfunction check(self, executor) {\n    if (self == null || self.constructor !== Promise) {\n        throw new TypeError(\"the promise constructor cannot be invoked directly\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (typeof executor !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util$$1.classString(executor));\n    }\n\n}\n\nfunction Promise(executor) {\n    if (executor !== INTERNAL) {\n        check(this, executor);\n    }\n    this._bitField = 0;\n    this._fulfillmentHandler0 = undefined;\n    this._rejectionHandler0 = undefined;\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._resolveFromExecutor(executor);\n    this._promiseCreated();\n    this._fireEvent(\"promiseCreated\", this);\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.caught = Promise.prototype[\"catch\"] = function (fn) {\n    var len = arguments.length;\n    if (len > 1) {\n        var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util$$1.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return apiRejection(\"Catch statement predicate: \" +\n                    \"expecting an object but got \" + util$$1.classString(item));\n            }\n        }\n        catchInstances.length = j;\n        fn = arguments[i];\n        return this.then(undefined, catchFilter(catchInstances, fn, this));\n    }\n    return this.then(undefined, fn);\n};\n\nPromise.prototype.reflect = function () {\n    return this._then(reflectHandler,\n        reflectHandler, undefined, this, undefined);\n};\n\nPromise.prototype.then = function (didFulfill, didReject) {\n    if (debug.warnings() && arguments.length > 0 &&\n        typeof didFulfill !== \"function\" &&\n        typeof didReject !== \"function\") {\n        var msg = \".then() only accepts functions but was passed: \" +\n                util$$1.classString(didFulfill);\n        if (arguments.length > 1) {\n            msg += \", \" + util$$1.classString(didReject);\n        }\n        this._warn(msg);\n    }\n    return this._then(didFulfill, didReject, undefined, undefined, undefined);\n};\n\nPromise.prototype.done = function (didFulfill, didReject) {\n    var promise =\n        this._then(didFulfill, didReject, undefined, undefined, undefined);\n    promise._setIsFinal();\n};\n\nPromise.prototype.spread = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util$$1.classString(fn));\n    }\n    return this.all()._then(fn, undefined, undefined, APPLY, undefined);\n};\n\nPromise.prototype.toJSON = function () {\n    var ret = {\n        isFulfilled: false,\n        isRejected: false,\n        fulfillmentValue: undefined,\n        rejectionReason: undefined\n    };\n    if (this.isFulfilled()) {\n        ret.fulfillmentValue = this.value();\n        ret.isFulfilled = true;\n    } else if (this.isRejected()) {\n        ret.rejectionReason = this.reason();\n        ret.isRejected = true;\n    }\n    return ret;\n};\n\nPromise.prototype.all = function () {\n    if (arguments.length > 0) {\n        this._warn(\".all() was passed arguments but it does not take any\");\n    }\n    return new PromiseArray(this).promise();\n};\n\nPromise.prototype.error = function (fn) {\n    return this.caught(util$$1.originatesFromRejection, fn);\n};\n\nPromise.getNewLibraryCopy = module.exports;\n\nPromise.is = function (val) {\n    return val instanceof Promise;\n};\n\nPromise.fromNode = Promise.fromCallback = function(fn) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    var multiArgs = arguments.length > 1 ? !!Object(arguments[1]).multiArgs\n                                         : false;\n    var result = tryCatch(fn)(nodebackForPromise(ret, multiArgs));\n    if (result === errorObj) {\n        ret._rejectCallback(result.e, true);\n    }\n    if (!ret._isFateSealed()) ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.all = function (promises) {\n    return new PromiseArray(promises).promise();\n};\n\nPromise.cast = function (obj) {\n    var ret = tryConvertToPromise(obj);\n    if (!(ret instanceof Promise)) {\n        ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._setFulfilled();\n        ret._rejectionHandler0 = obj;\n    }\n    return ret;\n};\n\nPromise.resolve = Promise.fulfilled = Promise.cast;\n\nPromise.reject = Promise.rejected = function (reason) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._rejectCallback(reason, true);\n    return ret;\n};\n\nPromise.setScheduler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util$$1.classString(fn));\n    }\n    return async$$1.setScheduler(fn);\n};\n\nPromise.prototype._then = function (\n    didFulfill,\n    didReject,\n    _,    receiver,\n    internalData\n) {\n    var haveInternalData = internalData !== undefined;\n    var promise = haveInternalData ? internalData : new Promise(INTERNAL);\n    var target = this._target();\n    var bitField = target._bitField;\n\n    if (!haveInternalData) {\n        promise._propagateFrom(this, 3);\n        promise._captureStackTrace();\n        if (receiver === undefined &&\n            ((this._bitField & 2097152) !== 0)) {\n            if (!((bitField & 50397184) === 0)) {\n                receiver = this._boundValue();\n            } else {\n                receiver = target === this ? undefined : this._boundTo;\n            }\n        }\n        this._fireEvent(\"promiseChained\", this, promise);\n    }\n\n    var domain = getDomain();\n    if (!((bitField & 50397184) === 0)) {\n        var handler, value, settler = target._settlePromiseCtx;\n        if (((bitField & 33554432) !== 0)) {\n            value = target._rejectionHandler0;\n            handler = didFulfill;\n        } else if (((bitField & 16777216) !== 0)) {\n            value = target._fulfillmentHandler0;\n            handler = didReject;\n            target._unsetRejectionIsUnhandled();\n        } else {\n            settler = target._settlePromiseLateCancellationObserver;\n            value = new CancellationError(\"late cancellation observer\");\n            target._attachExtraTrace(value);\n            handler = didReject;\n        }\n\n        async$$1.invoke(settler, target, {\n            handler: domain === null ? handler\n                : (typeof handler === \"function\" &&\n                    util$$1.domainBind(domain, handler)),\n            promise: promise,\n            receiver: receiver,\n            value: value\n        });\n    } else {\n        target._addCallbacks(didFulfill, didReject, promise, receiver, domain);\n    }\n\n    return promise;\n};\n\nPromise.prototype._length = function () {\n    return this._bitField & 65535;\n};\n\nPromise.prototype._isFateSealed = function () {\n    return (this._bitField & 117506048) !== 0;\n};\n\nPromise.prototype._isFollowing = function () {\n    return (this._bitField & 67108864) === 67108864;\n};\n\nPromise.prototype._setLength = function (len) {\n    this._bitField = (this._bitField & -65536) |\n        (len & 65535);\n};\n\nPromise.prototype._setFulfilled = function () {\n    this._bitField = this._bitField | 33554432;\n    this._fireEvent(\"promiseFulfilled\", this);\n};\n\nPromise.prototype._setRejected = function () {\n    this._bitField = this._bitField | 16777216;\n    this._fireEvent(\"promiseRejected\", this);\n};\n\nPromise.prototype._setFollowing = function () {\n    this._bitField = this._bitField | 67108864;\n    this._fireEvent(\"promiseResolved\", this);\n};\n\nPromise.prototype._setIsFinal = function () {\n    this._bitField = this._bitField | 4194304;\n};\n\nPromise.prototype._isFinal = function () {\n    return (this._bitField & 4194304) > 0;\n};\n\nPromise.prototype._unsetCancelled = function() {\n    this._bitField = this._bitField & (~65536);\n};\n\nPromise.prototype._setCancelled = function() {\n    this._bitField = this._bitField | 65536;\n    this._fireEvent(\"promiseCancelled\", this);\n};\n\nPromise.prototype._setWillBeCancelled = function() {\n    this._bitField = this._bitField | 8388608;\n};\n\nPromise.prototype._setAsyncGuaranteed = function() {\n    if (async$$1.hasCustomScheduler()) return;\n    this._bitField = this._bitField | 134217728;\n};\n\nPromise.prototype._receiverAt = function (index) {\n    var ret = index === 0 ? this._receiver0 : this[\n            index * 4 - 4 + 3];\n    if (ret === UNDEFINED_BINDING) {\n        return undefined;\n    } else if (ret === undefined && this._isBound()) {\n        return this._boundValue();\n    }\n    return ret;\n};\n\nPromise.prototype._promiseAt = function (index) {\n    return this[\n            index * 4 - 4 + 2];\n};\n\nPromise.prototype._fulfillmentHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 0];\n};\n\nPromise.prototype._rejectionHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 1];\n};\n\nPromise.prototype._boundValue = function() {};\n\nPromise.prototype._migrateCallback0 = function (follower) {\n    var bitField = follower._bitField;\n    var fulfill = follower._fulfillmentHandler0;\n    var reject = follower._rejectionHandler0;\n    var promise = follower._promise0;\n    var receiver = follower._receiverAt(0);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._migrateCallbackAt = function (follower, index) {\n    var fulfill = follower._fulfillmentHandlerAt(index);\n    var reject = follower._rejectionHandlerAt(index);\n    var promise = follower._promiseAt(index);\n    var receiver = follower._receiverAt(index);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._addCallbacks = function (\n    fulfill,\n    reject,\n    promise,\n    receiver,\n    domain\n) {\n    var index = this._length();\n\n    if (index >= 65535 - 4) {\n        index = 0;\n        this._setLength(0);\n    }\n\n    if (index === 0) {\n        this._promise0 = promise;\n        this._receiver0 = receiver;\n        if (typeof fulfill === \"function\") {\n            this._fulfillmentHandler0 =\n                domain === null ? fulfill : util$$1.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this._rejectionHandler0 =\n                domain === null ? reject : util$$1.domainBind(domain, reject);\n        }\n    } else {\n        var base = index * 4 - 4;\n        this[base + 2] = promise;\n        this[base + 3] = receiver;\n        if (typeof fulfill === \"function\") {\n            this[base + 0] =\n                domain === null ? fulfill : util$$1.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this[base + 1] =\n                domain === null ? reject : util$$1.domainBind(domain, reject);\n        }\n    }\n    this._setLength(index + 1);\n    return index;\n};\n\nPromise.prototype._proxy = function (proxyable, arg) {\n    this._addCallbacks(undefined, undefined, arg, proxyable, null);\n};\n\nPromise.prototype._resolveCallback = function(value, shouldBind) {\n    if (((this._bitField & 117506048) !== 0)) return;\n    if (value === this)\n        return this._rejectCallback(makeSelfResolutionError(), false);\n    var maybePromise = tryConvertToPromise(value, this);\n    if (!(maybePromise instanceof Promise)) return this._fulfill(value);\n\n    if (shouldBind) this._propagateFrom(maybePromise, 2);\n\n    var promise = maybePromise._target();\n\n    if (promise === this) {\n        this._reject(makeSelfResolutionError());\n        return;\n    }\n\n    var bitField = promise._bitField;\n    if (((bitField & 50397184) === 0)) {\n        var len = this._length();\n        if (len > 0) promise._migrateCallback0(this);\n        for (var i = 1; i < len; ++i) {\n            promise._migrateCallbackAt(this, i);\n        }\n        this._setFollowing();\n        this._setLength(0);\n        this._setFollowee(promise);\n    } else if (((bitField & 33554432) !== 0)) {\n        this._fulfill(promise._value());\n    } else if (((bitField & 16777216) !== 0)) {\n        this._reject(promise._reason());\n    } else {\n        var reason = new CancellationError(\"late cancellation observer\");\n        promise._attachExtraTrace(reason);\n        this._reject(reason);\n    }\n};\n\nPromise.prototype._rejectCallback =\nfunction(reason, synchronous, ignoreNonErrorWarnings) {\n    var trace = util$$1.ensureErrorObject(reason);\n    var hasStack = trace === reason;\n    if (!hasStack && !ignoreNonErrorWarnings && debug.warnings()) {\n        var message = \"a promise was rejected with a non-error: \" +\n            util$$1.classString(reason);\n        this._warn(message, true);\n    }\n    this._attachExtraTrace(trace, synchronous ? hasStack : false);\n    this._reject(reason);\n};\n\nPromise.prototype._resolveFromExecutor = function (executor) {\n    if (executor === INTERNAL) return;\n    var promise = this;\n    this._captureStackTrace();\n    this._pushContext();\n    var synchronous = true;\n    var r = this._execute(executor, function(value) {\n        promise._resolveCallback(value);\n    }, function (reason) {\n        promise._rejectCallback(reason, synchronous);\n    });\n    synchronous = false;\n    this._popContext();\n\n    if (r !== undefined) {\n        promise._rejectCallback(r, true);\n    }\n};\n\nPromise.prototype._settlePromiseFromHandler = function (\n    handler, receiver, value, promise\n) {\n    var bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n    promise._pushContext();\n    var x;\n    if (receiver === APPLY) {\n        if (!value || typeof value.length !== \"number\") {\n            x = errorObj;\n            x.e = new TypeError(\"cannot .spread() a non-array: \" +\n                                    util$$1.classString(value));\n        } else {\n            x = tryCatch(handler).apply(this._boundValue(), value);\n        }\n    } else {\n        x = tryCatch(handler).call(receiver, value);\n    }\n    var promiseCreated = promise._popContext();\n    bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n\n    if (x === NEXT_FILTER) {\n        promise._reject(value);\n    } else if (x === errorObj) {\n        promise._rejectCallback(x.e, false);\n    } else {\n        debug.checkForgottenReturns(x, promiseCreated, \"\",  promise, this);\n        promise._resolveCallback(x);\n    }\n};\n\nPromise.prototype._target = function() {\n    var ret = this;\n    while (ret._isFollowing()) ret = ret._followee();\n    return ret;\n};\n\nPromise.prototype._followee = function() {\n    return this._rejectionHandler0;\n};\n\nPromise.prototype._setFollowee = function(promise) {\n    this._rejectionHandler0 = promise;\n};\n\nPromise.prototype._settlePromise = function(promise, handler, receiver, value) {\n    var isPromise = promise instanceof Promise;\n    var bitField = this._bitField;\n    var asyncGuaranteed = ((bitField & 134217728) !== 0);\n    if (((bitField & 65536) !== 0)) {\n        if (isPromise) promise._invokeInternalOnCancel();\n\n        if (receiver instanceof PassThroughHandlerContext &&\n            receiver.isFinallyHandler()) {\n            receiver.cancelPromise = promise;\n            if (tryCatch(handler).call(receiver, value) === errorObj) {\n                promise._reject(errorObj.e);\n            }\n        } else if (handler === reflectHandler) {\n            promise._fulfill(reflectHandler.call(receiver));\n        } else if (receiver instanceof Proxyable) {\n            receiver._promiseCancelled(promise);\n        } else if (isPromise || promise instanceof PromiseArray) {\n            promise._cancel();\n        } else {\n            receiver.cancel();\n        }\n    } else if (typeof handler === \"function\") {\n        if (!isPromise) {\n            handler.call(receiver, value, promise);\n        } else {\n            if (asyncGuaranteed) promise._setAsyncGuaranteed();\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (receiver instanceof Proxyable) {\n        if (!receiver._isResolved()) {\n            if (((bitField & 33554432) !== 0)) {\n                receiver._promiseFulfilled(value, promise);\n            } else {\n                receiver._promiseRejected(value, promise);\n            }\n        }\n    } else if (isPromise) {\n        if (asyncGuaranteed) promise._setAsyncGuaranteed();\n        if (((bitField & 33554432) !== 0)) {\n            promise._fulfill(value);\n        } else {\n            promise._reject(value);\n        }\n    }\n};\n\nPromise.prototype._settlePromiseLateCancellationObserver = function(ctx) {\n    var handler = ctx.handler;\n    var promise = ctx.promise;\n    var receiver = ctx.receiver;\n    var value = ctx.value;\n    if (typeof handler === \"function\") {\n        if (!(promise instanceof Promise)) {\n            handler.call(receiver, value, promise);\n        } else {\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (promise instanceof Promise) {\n        promise._reject(value);\n    }\n};\n\nPromise.prototype._settlePromiseCtx = function(ctx) {\n    this._settlePromise(ctx.promise, ctx.handler, ctx.receiver, ctx.value);\n};\n\nPromise.prototype._settlePromise0 = function(handler, value, bitField) {\n    var promise = this._promise0;\n    var receiver = this._receiverAt(0);\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._settlePromise(promise, handler, receiver, value);\n};\n\nPromise.prototype._clearCallbackDataAtIndex = function(index) {\n    var base = index * 4 - 4;\n    this[base + 2] =\n    this[base + 3] =\n    this[base + 0] =\n    this[base + 1] = undefined;\n};\n\nPromise.prototype._fulfill = function (value) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    if (value === this) {\n        var err = makeSelfResolutionError();\n        this._attachExtraTrace(err);\n        return this._reject(err);\n    }\n    this._setFulfilled();\n    this._rejectionHandler0 = value;\n\n    if ((bitField & 65535) > 0) {\n        if (((bitField & 134217728) !== 0)) {\n            this._settlePromises();\n        } else {\n            async$$1.settlePromises(this);\n        }\n        this._dereferenceTrace();\n    }\n};\n\nPromise.prototype._reject = function (reason) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    this._setRejected();\n    this._fulfillmentHandler0 = reason;\n\n    if (this._isFinal()) {\n        return async$$1.fatalError(reason, util$$1.isNode);\n    }\n\n    if ((bitField & 65535) > 0) {\n        async$$1.settlePromises(this);\n    } else {\n        this._ensurePossibleRejectionHandled();\n    }\n};\n\nPromise.prototype._fulfillPromises = function (len, value) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._fulfillmentHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, value);\n    }\n};\n\nPromise.prototype._rejectPromises = function (len, reason) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._rejectionHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, reason);\n    }\n};\n\nPromise.prototype._settlePromises = function () {\n    var bitField = this._bitField;\n    var len = (bitField & 65535);\n\n    if (len > 0) {\n        if (((bitField & 16842752) !== 0)) {\n            var reason = this._fulfillmentHandler0;\n            this._settlePromise0(this._rejectionHandler0, reason, bitField);\n            this._rejectPromises(len, reason);\n        } else {\n            var value = this._rejectionHandler0;\n            this._settlePromise0(this._fulfillmentHandler0, value, bitField);\n            this._fulfillPromises(len, value);\n        }\n        this._setLength(0);\n    }\n    this._clearCancellationData();\n};\n\nPromise.prototype._settledValue = function() {\n    var bitField = this._bitField;\n    if (((bitField & 33554432) !== 0)) {\n        return this._rejectionHandler0;\n    } else if (((bitField & 16777216) !== 0)) {\n        return this._fulfillmentHandler0;\n    }\n};\n\nfunction deferResolve(v) {this.promise._resolveCallback(v);}\nfunction deferReject(v) {this.promise._rejectCallback(v, false);}\n\nPromise.defer = Promise.pending = function() {\n    debug.deprecated(\"Promise.defer\", \"new Promise\");\n    var promise = new Promise(INTERNAL);\n    return {\n        promise: promise,\n        resolve: deferResolve,\n        reject: deferReject\n    };\n};\n\nutil$$1.notEnumerableProp(Promise,\n                       \"_makeSelfResolutionError\",\n                       makeSelfResolutionError);\n\nmethod(Promise, INTERNAL, tryConvertToPromise, apiRejection,\n    debug);\nbind(Promise, INTERNAL, tryConvertToPromise, debug);\ncancel(Promise, PromiseArray, apiRejection, debug);\ndirect_resolve(Promise);\nsynchronous_inspection(Promise);\njoin(\n    Promise, PromiseArray, tryConvertToPromise, INTERNAL, async$$1, getDomain);\nPromise.Promise = Promise;\nPromise.version = \"3.5.3\";\nmap(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\ncall_get(Promise);\nusing(Promise, apiRejection, tryConvertToPromise, createContext, INTERNAL, debug);\ntimers(Promise, INTERNAL, debug);\ngenerators(Promise, apiRejection, INTERNAL, tryConvertToPromise, Proxyable, debug);\nnodeify(Promise);\npromisify(Promise, INTERNAL);\nprops(Promise, PromiseArray, tryConvertToPromise, apiRejection);\nrace(Promise, INTERNAL, tryConvertToPromise, apiRejection);\nreduce(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\nsettle(Promise, PromiseArray, debug);\nsome(Promise, PromiseArray, apiRejection);\nfilter(Promise, INTERNAL);\neach(Promise, INTERNAL);\nany(Promise);\n                                                         \n    util$$1.toFastProperties(Promise);                                          \n    util$$1.toFastProperties(Promise.prototype);                                \n    function fillTypes(value) {                                              \n        var p = new Promise(INTERNAL);                                       \n        p._fulfillmentHandler0 = value;                                      \n        p._rejectionHandler0 = value;                                        \n        p._promise0 = value;                                                 \n        p._receiver0 = value;                                                \n    }                                                                        \n    // Complete slack tracking, opt out of field-type tracking and           \n    // stabilize map                                                         \n    fillTypes({a: 1});                                                       \n    fillTypes({b: 2});                                                       \n    fillTypes({c: 3});                                                       \n    fillTypes(1);                                                            \n    fillTypes(function(){});                                                 \n    fillTypes(undefined);                                                    \n    fillTypes(false);                                                        \n    fillTypes(new Promise(INTERNAL));                                        \n    debug.setBounds(Async.firstLineError, util$$1.lastLineError);               \n    return Promise;                                                          \n\n};\n});\n\nvar old;\nif (typeof Promise !== \"undefined\") old = Promise;\nfunction noConflict() {\n    try { if (Promise === bluebird) Promise = old; }\n    catch (e) {}\n    return bluebird;\n}\nvar bluebird = promise();\nbluebird.noConflict = noConflict;\n\n/*!\n * PatternFly Elements: PfeNavigation 1.0.0-prerelease.19\n * @license\n * Copyright 2019 Red Hat, Inc.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n*/\n\nif (!(\"path\" in Event.prototype)) {\n  Object.defineProperty(Event.prototype, \"path\", {\n    get: function() {\n      var path = [];\n      var currentElem = this.target;\n      while (currentElem) {\n        path.push(currentElem);\n        currentElem = currentElem.parentElement;\n      }\n      if (path.indexOf(window) === -1 && path.indexOf(document) === -1)\n        path.push(document);\n      if (path.indexOf(window) === -1)\n        path.push(window);\n      return path;\n    }\n  });\n}\n\nclass PfeNavigationItem extends PFElement {\n  static get version() {\n    return \"1.0.0-prerelease.19\";\n  }\n\n  get html() {\n    return `<style>:host{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}::slotted([slot=tray][hidden]),:host([hidden]:not([pfe-icon=menu])){display:none;visibility:hidden}::slotted([slot=trigger]){--pfe-theme--link--text-decoration:none;--pfe-theme--link--text-decoration--hover:none;--pfe-theme--link--text-decoration--focus:none;--pfe-broadcasted--color--text:var(--pfe-navigation--Color, #fff);--pfe-broadcasted--color--ui-link:var(--pfe-navigation--Color, #fff);--pfe-broadcasted--color--ui-link--hover:var(--pfe-navigation--Color, #fff);--pfe-broadcasted--color--ui-link--visited:var(--pfe-navigation--Color, #fff);--pfe-broadcasted--color--ui-link--focus:var(--pfe-navigation--Color, #fff);--pfe-theme--font-size--alpha:var(--pfe-navigation--FontSize, 14px);--pfe-theme--font-weight--alpha:var(--pfe-navigation--FontWeight, 14px);--pfe-theme--font-size--beta:var(--pfe-navigation--FontSize, 14px);--pfe-theme--font-weight--beta:var(--pfe-navigation--FontWeight, 14px);--pfe-theme--font-size--gamma:var(--pfe-navigation--FontSize, 14px);--pfe-theme--font-weight--gamma:var(--pfe-navigation--FontWeight, 14px);font-family:Overpass,Overpass,Helvetica,helvetica,arial,sans-serif;font-family:var(--pfe-theme--font-family, \"Overpass\", Overpass, Helvetica, helvetica, arial, sans-serif);font-size:14px;font-size:var(--pfe-navigation--FontSize,14px);font-weight:14px;font-weight:var(--pfe-navigation--FontWeight,14px);color:#fff;color:var(--pfe-navigation--Color,#fff);margin:0}@media screen and (max-width:1199px){:host([is_nested]) ::slotted([slot=trigger]){--pfe-navigation--Color:var(--pfe-theme--color--text, #333)}}::slotted([slot=tray]){--pfe-navigation--Color:var(--pfe-theme--color--text, #333);--pfe-navigation--FontWeight:var(--pfe-theme--color--text, #333);-webkit-transition:all cubic-bezier(.465,.183,.153,.946);transition:all cubic-bezier(.465,.183,.153,.946);-webkit-transition:all var(--pfe-theme--animation-timing,cubic-bezier(.465,.183,.153,.946));transition:all var(--pfe-theme--animation-timing,cubic-bezier(.465,.183,.153,.946));-webkit-box-sizing:border-box;box-sizing:border-box}:host([pfe-icon=menu][hidden]) ::slotted([slot=tray]){display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;visibility:visible}:host(:not([pfe-icon=menu]):not([is_nested])) ::slotted([slot=tray]),:host([is_nested][parent_hidden]) ::slotted([slot=tray]),:host([pfe-icon=menu]:not([hidden])) ::slotted([slot=tray]){position:absolute;top:100%;left:0;background-color:#fff;background-color:var(--pfe-theme--color--surface--lightest,#fff);color:var(--pfe-navigation--Color);padding:var(--pfe-navigation__tray--Padding);width:100%;max-height:calc(100vh - 84px);max-height:calc(100vh - var(--pfe-navigation--Height,84px));overflow-x:hidden;overflow-y:scroll}@media screen and (max-width:1199px){:host([is_nested]:not([parent_hidden])) ::slotted([slot=tray]){--pfe-navigation--Padding:calc(var(--pfe-navigation--Padding--vertical) / 2) var(--pfe-navigation--Padding--horizontal);position:relative;display:block;width:100%;padding:calc(var(--pfe-navigation--Padding--vertical)/ 2) var(--pfe-navigation--Padding--horizontal)}}@media screen and (max-width:1199px) and (min-width:576px){:host([is_nested]:not([parent_hidden])) ::slotted([slot=tray]){padding:var(--pfe-navigation--Padding)}}.pfe-navigation-item__trigger{--pfe-navigation--Color:var(--pfe-theme--color--text--on-dark, #fff);border-top:4px solid var(--pfe-navigation--BorderTopColor);border-top:var(--pfe-theme--surface--border-width--heavy,4px) var(--pfe-theme--surface--border-style,solid) var(--pfe-navigation--BorderTopColor);border-right:1px dashed var(--pfe-navigation--BorderColor);border-right:var(--pfe-theme--surface--border-width,1px) dashed var(--pfe-navigation--BorderColor);border-bottom:1px dashed var(--pfe-navigation--BorderColor);border-bottom:var(--pfe-theme--surface--border-width,1px) dashed var(--pfe-navigation--BorderColor);border-left:1px dashed var(--pfe-navigation--BorderColor);border-left:var(--pfe-theme--surface--border-width,1px) dashed var(--pfe-navigation--BorderColor);position:relative;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;--pfe-theme--link--text-decoration:none;--pfe-theme--link--text-decoration--hover:none;--pfe-theme--link--text-decoration--focus:none;text-align:center;white-space:nowrap;margin-bottom:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all cubic-bezier(.465,.183,.153,.946);transition:all cubic-bezier(.465,.183,.153,.946);-webkit-transition:all var(--pfe-theme--animation-timing,cubic-bezier(.465,.183,.153,.946));transition:all var(--pfe-theme--animation-timing,cubic-bezier(.465,.183,.153,.946));margin:0;outline:0;background-color:var(--pfe-navigation--BackgroundColor);padding:calc(16px / 2) 16px;padding:calc(var(--pfe-theme--container-padding,16px)/ 2) var(--pfe-theme--container-padding,16px)}.pfe-navigation-item__trigger:hover{cursor:pointer}.pfe-navigation-item__trigger :host([aria-current=location]),.pfe-navigation-item__trigger:hover{--pfe-navigation--BorderTopColor:var(--pfe-theme--color--surface--accent, #fe460d)}.pfe-navigation-item__trigger:focus{--pfe-navigation--BorderTopColor:var(--pfe-theme--color--surface--accent, #fe460d);--pfe-navigation--BorderColor:var(--pfe-theme--color--surface--lightest, #fff)}.pfe-navigation-item__trigger:focus:not(:focus-visible){outline:0}.expanded .pfe-navigation-item__trigger,.pfe-navigation-item__trigger[aria-expanded=true]{--pfe-navigation--Color:var(--pfe-theme--color--text, #333);--pfe-navigation--BackgroundColor:var(--pfe-theme--color--surface--lightest, #fff);--pfe-navigation--BorderTopColor:var(--pfe-theme--color--surface--accent, #fe460d)}@media screen and (max-width:1199px){:host([is_nested]) .pfe-navigation-item__trigger:hover{border-left:4px solid var(--pfe-navigation--BorderLeftColor--focus);border-left:var(--pfe-theme--surface--border-width--heavy,4px) var(--pfe-theme--surface--border-style,solid) var(--pfe-navigation--BorderLeftColor--focus)}:host([is_nested]) .pfe-navigation-item__trigger[aria-expanded=true],:host([is_nested].expanded) .pfe-navigation-item__trigger{position:relative;display:block;border-bottom:0}}@media screen and (min-width:1200px){:host([pfe-icon=menu]) .pfe-navigation-item__trigger{display:none}}:host([pfe-icon]) .pfe-navigation-item__trigger{--pfe-navigation__trigger--FontSize:14px}.pfe-navigation-item__trigger--icon{visibility:hidden}:host([has_tray]:not([pfe-icon]):not([is_nested])) [aria-expanded=false]:hover .pfe-navigation-item__trigger--icon{visibility:visible;border-top-color:var(--pfe-navigation--Color)}@media screen and (min-width:1200px){:host([has_tray]:not([pfe-icon])) [aria-expanded=false]:hover .pfe-navigation-item__trigger--icon{visibility:visible}}:host [aria-expanded=true] .pfe-navigation-item__trigger--icon{visibility:visible}:host(:not([pfe-icon])) .pfe-navigation-item__trigger--icon{border-style:solid;border-style:var(--pfe-theme--surface--border-style,solid);border-width:6px 6px 0;border-color:transparent;border-top-color:#606060;border-top-color:var(--pfe-theme--color--feedback--default,#606060);-webkit-transform:rotate(0);transform:rotate(0);position:absolute;bottom:16px;bottom:var(--pfe-theme--container-spacer,16px)}@media screen and (max-width:1199px){:host([is_nested]) [aria-expanded=false] .pfe-navigation-item__trigger--icon{visibility:visible;content:\"\";position:absolute;top:calc((16px * .75) + .55em);top:calc((var(--pfe-theme--container-spacer,16px) * .75) + .55em);display:block;border-style:solid;border-style:var(--pfe-theme--surface--border-style,solid);height:.4em;width:.4em;text-align:center;-webkit-transition:-webkit-transform .15s;transition:-webkit-transform .15s;transition:transform .15s;transition:transform .15s,-webkit-transform .15s;border-width:0 .1em .1em 0;-webkit-transform:rotate(45deg);transform:rotate(45deg);right:calc(16px * 1.5);right:calc(var(--pfe-theme--container-spacer,16px) * 1.5)}:host([is_nested]) [aria-expanded=true] .pfe-navigation-item__trigger--icon{visibility:visible;content:\"\";position:absolute;top:calc((16px * .75) + .55em);top:calc((var(--pfe-theme--container-spacer,16px) * .75) + .55em);display:block;border-style:solid;border-style:var(--pfe-theme--surface--border-style,solid);height:.4em;width:.4em;text-align:center;-webkit-transition:-webkit-transform .15s;transition:-webkit-transform .15s;transition:transform .15s;transition:transform .15s,-webkit-transform .15s;border-width:.1em .1em 0 0;border-bottom:0;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:calc(16px * 1.5);right:calc(var(--pfe-theme--container-spacer,16px) * 1.5)}:host([is_nested]:not([has_tray])) .pfe-navigation-item__trigger--icon{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}}:host([pfe-icon]) .pfe-navigation-item__trigger--icon{visibility:visible;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;background:var(--pfe-navigation--icon) no-repeat;background-size:contain;background-position:center;width:21px;height:21px;margin-bottom:calc(16px / 2);margin-bottom:calc(var(--pfe-theme--container-spacer,16px)/ 2)}:host(:not([pfe-icon],[is_nested])) [aria-expanded=false] .pfe-navigation-item__trigger--icon{visibility:hidden}@media screen and (max-width:1199px){:host([is_nested]) .pfe-navigation-item__tray{display:none;overflow:hidden;will-change:height;border-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%}:host([is_nested]) .pfe-navigation-item__tray[aria-expanded=true],:host([is_nested].expanded) .pfe-navigation-item__tray{display:block;position:relative;border-right:1px solid transparent;border-right:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) transparent;border-left:4px solid transparent;border-left:var(--pfe-theme--surface--border-width--heavy,4px) var(--pfe-theme--surface--border-style,solid) transparent;-webkit-box-shadow:0 5px 4px rgba(140,140,140,.35);box-shadow:0 5px 4px rgba(140,140,140,.35);-webkit-box-shadow:0 5px var(--pfe-theme--surface--border-width--heavy,4px) rgba(140,140,140,.35);box-shadow:0 5px var(--pfe-theme--surface--border-width--heavy,4px) rgba(140,140,140,.35);border-left-color:#06c;border-left-color:var(--pfe-theme--color--surface--lightest--link,#06c);background-color:#fff;background-color:var(--pfe-theme--color--surface--lightest,#fff);border-right-color:#d2d2d2;border-right-color:var(--pfe-theme--color--surface--border,#d2d2d2);border-bottom:1px solid #d2d2d2;border-bottom:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--surface--border,#d2d2d2)}}@media screen and (min-width:1200px){:host([pfe-icon=menu]) .pfe-navigation-item__tray{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1}}:host(.animating){-webkit-transition:-webkit-transform .3s cubic-bezier(.465,.183,.153,.946);transition:-webkit-transform .3s cubic-bezier(.465,.183,.153,.946);transition:transform .3s cubic-bezier(.465,.183,.153,.946);transition:transform .3s cubic-bezier(.465,.183,.153,.946),-webkit-transform .3s cubic-bezier(.465,.183,.153,.946);-webkit-transition:-webkit-transform .3s var(--pfe-theme--animation-timing,cubic-bezier(.465,.183,.153,.946));transition:-webkit-transform .3s var(--pfe-theme--animation-timing,cubic-bezier(.465,.183,.153,.946));transition:transform .3s var(--pfe-theme--animation-timing,cubic-bezier(.465,.183,.153,.946));transition:transform .3s var(--pfe-theme--animation-timing,cubic-bezier(.465,.183,.153,.946)),-webkit-transform .3s var(--pfe-theme--animation-timing,cubic-bezier(.465,.183,.153,.946))}@media screen and (max-width:1199px){:host([is_nested]){--pfe-navigation__trigger--FontSize:16px;--pfe-navigation--BackgroundColor:var(--pfe-theme--surface--lightest);--pfe-navigation--Color:var(--pfe-theme--surface--lightest--text);--pfe-navigation--main:transparent;--pfe-navigation--aux:var(--pfe-theme--color--surface--lightest--text, #333);--pfe-navigation--BorderLeft:var(--pfe-theme--surface--border-width--heavy, 4px) var(--pfe-theme--surface--border-style, solid) transparent;--pfe-navigation--BorderRight:var(--pfe-theme--surface--border-width, 1px) var(--pfe-theme--surface--border-style, solid) transparent;--pfe-navigation--BorderBottom:var(--pfe-theme--surface--border-width, 1px) var(--pfe-theme--surface--border-style, solid) var(--pfe-theme--color--surface--border, #d2d2d2);--pfe-navigation--BorderLeftColor--focus:var(--pfe-theme--color--surface--lightest--link, #06c)}:host([is_nested]) .pfe-navigation-item__trigger{margin:0;width:100%;height:auto;font-family:inherit;font-weight:700;font-weight:var(--pfe-theme--font-weight--bold,700);text-align:left;cursor:pointer;z-index:1;position:relative;font-size:calc(16px * 1.1);font-size:calc(var(--pfe-theme--font-size,16px) * 1.1);line-height:1.5;line-height:var(--pfe-theme--line-height,1.5);color:var(--pfe-navigation--aux);background-color:var(--pfe-navigation--main);border-left:var(--pfe-navigation--BorderLeft);border-right:var(--pfe-navigation--BorderRight);border-bottom:var(--pfe-navigation--BorderBottom);border-top:0;padding:16px 50px 16px calc(16px * 1.5);padding:var(--pfe-theme--container-spacer,16px) 50px var(--pfe-theme--container-spacer,16px) calc(var(--pfe-theme--container-spacer,16px) * 1.5);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-align:stretch;-webkit-align-items:stretch;-ms-flex-align:stretch;align-items:stretch}:host([is_nested]) .pfe-navigation-item__trigger:hover{outline:0;border-left-color:var(--pfe-navigation--BorderLeftColor--focus);z-index:2}:host([is_nested]) .pfe-navigation-item__trigger:focus{outline:0;z-index:2;text-decoration:underline;-webkit-text-decoration-color:#c6c6c6;text-decoration-color:#c6c6c6;-webkit-text-decoration-color:var(--pfe-theme--color--surface--border--darker,#c6c6c6);text-decoration-color:var(--pfe-theme--color--surface--border--darker,#c6c6c6)}:host([is_nested]) .pfe-navigation-item__trigger::-moz-focus-inner{border:0}:host([is_nested]) .pfe-navigation-item__trigger[aria-expanded=true]{--pfe-navigation--main:var(--pfe-theme--color--surface--lightest, #fff);--pfe-navigation--aux:var(--pfe-theme--color--surface--lightest--text, #333);--pfe-navigation--focus:var(--pfe-theme--color--surface--lightest--link, #06c);--pfe-navigation--BorderLeft:var(--pfe-theme--surface--border-width--heavy, 4px) var(--pfe-theme--surface--border-style, solid) var(--pfe-theme--color--surface--lightest--link, #06c);--pfe-navigation--BorderRight:var(--pfe-theme--surface--border-width, 1px) var(--pfe-theme--surface--border-style, solid) var(--pfe-theme--color--surface--border, #d2d2d2)}:host([is_nested][first]){border-top:1px solid #d2d2d2;border-top:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--surface--border,#d2d2d2)}:host([is_nested][last]) [aria-expanded=false]{border-bottom:1px solid #d2d2d2;border-bottom:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--surface--border,#d2d2d2)}}</style><div class=\"pfe-navigation-item__trigger\" aria-expanded=\"false\" tabindex=\"0\">\n    ${this.hasIcon ? `<span class=\"pfe-navigation-item__trigger--icon\"></span>` : \"\"}\n    <slot name=\"trigger\" class=\"pfe-navigation-item__trigger--slot\"></slot>\n    ${!this.hasIcon ? `<span class=\"pfe-navigation-item__trigger--icon\"></span>` : \"\"}\n</div>\n<div class=\"pfe-navigation-item__tray\">\n    <slot name=\"tray\"></slot>\n</div>`;\n  }\n\n  static get properties() {\n    return {\"icon\":{\"title\":\"Icon name\",\"type\":\"string\",\"enum\":[\"bento\",\"user\",\"globe\",\"search\",\"menu\"],\"prefixed\":true}};\n  }\n\n  static get slots() {\n    return {\"trigger\":{\"title\":\"Navigation trigger\",\"type\":\"array\",\"namedSlot\":true,\"items\":{\"title\":\"Item\",\"oneOf\":[{\"$ref\":\"raw\"}]}},\"tray\":{\"title\":\"Navigation tray\",\"type\":\"array\",\"namedSlot\":true,\"items\":{\"title\":\"Item\",\"oneOf\":[{\"$ref\":\"raw\"}]}}};\n  }\n  static get tag() {\n    return \"pfe-navigation-item\";\n  }\n\n  get templateUrl() {\n    return \"pfe-navigation-item.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-navigation-item.scss\";\n  }\n\n  get schemaUrl() {\n    return \"pfe-navigation-item.json\";\n  }\n\n  static get PfeType() {\n    return PFElement.PfeTypes.Container;\n  }\n\n  // Used in the template to determine where to print the icon\n  get hasIcon() {\n    return this.hasAttribute(\"pfe-icon\");\n  }\n\n  static get observedAttributes() {\n    return [\"pfe-icon\"];\n  }\n\n  get nested() {\n    return this.hasAttribute(\"is_nested\");\n  }\n\n  set nested(isNested) {\n    isNested = Boolean(isNested);\n\n    if (isNested) {\n      this.setAttribute(\"is_nested\", \"\");\n    } else {\n      this.removeAttribute(\"is_nested\");\n    }\n  }\n\n  get expanded() {\n    return this.classList.contains(\"expanded\");\n  }\n\n  set expanded(isExpanded) {\n    isExpanded = Boolean(isExpanded);\n\n    if (isExpanded) {\n      this.classList.add(\"expanded\");\n\n      if (this._trigger) {\n        this._trigger.setAttribute(\"aria-expanded\", true);\n      }\n\n      if (this.tray) {\n        this.tray.removeAttribute(\"hidden\");\n      }\n\n      if (this._tray) {\n        this._tray.setAttribute(\"aria-expanded\", true);\n      }\n    } else {\n      this.classList.remove(\"expanded\");\n\n      if (this._trigger) {\n        this._trigger.setAttribute(\"aria-expanded\", false);\n      }\n\n      if (this.tray) {\n        this.tray.setAttribute(\"hidden\", \"\");\n      }\n\n      if (this._tray) {\n        this._tray.setAttribute(\"aria-expanded\", false);\n      }\n    }\n  }\n\n  get visible() {\n    return !this.hasAttribute(\"hidden\");\n  }\n\n  set visible(isVisible) {\n    isVisible = Boolean(isVisible);\n\n    if (isVisible) {\n      this.removeAttribute(\"hidden\");\n    } else {\n      this.setAttribute(\"hidden\", \"\");\n    }\n  }\n\n  open(event) {\n    if (event) event.preventDefault();\n\n    this.dispatchEvent(\n      new CustomEvent(`${this.tag}:toggle`, {\n        detail: {\n          navigationItem: this,\n          action: \"open\"\n        },\n        bubbles: true,\n        composed: true\n      })\n    );\n  }\n\n  close(event) {\n    if (event) event.preventDefault();\n\n    this.dispatchEvent(\n      new CustomEvent(`${this.tag}:toggle`, {\n        detail: {\n          navigationItem: this,\n          action: \"close\"\n        },\n        bubbles: true,\n        composed: true\n      })\n    );\n  }\n\n  toggle(event) {\n    if (event) event.preventDefault();\n\n    this.dispatchEvent(\n      new CustomEvent(`${this.tag}:toggle`, {\n        detail: {\n          navigationItem: this\n        },\n        bubbles: true,\n        composed: true\n      })\n    );\n  }\n\n  constructor() {\n    super(PfeNavigationItem);\n\n    this.nested = false;\n    this.expanded = false;\n    this.trigger = null;\n    this.tray = null;\n    this.directLink = null;\n    this.linkUrl = null;\n\n    this._trigger = this.shadowRoot.querySelector(`.${this.tag}__trigger`);\n    this._tray = this.shadowRoot.querySelector(`.${this.tag}__tray`);\n    this._icon = this.shadowRoot.querySelector(`.${this.tag}__trigger--icon`);\n\n    // Externally accessible events\n    this.close = this.close.bind(this);\n    this.open = this.open.bind(this);\n    this.toggle = this.toggle.bind(this);\n    \n    this._init = this._init.bind(this);\n    this._keydownHandler = this._keydownHandler.bind(this);\n    this._suppressLink = this._suppressLink.bind(this);\n    this._navigateToUrl = this._navigateToUrl.bind(this);\n    this._directLinkHandler = this._directLinkHandler.bind(this);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    // If no slots have been assigned, assign it to the trigger slot\n    const unassigned = [...this.children].filter(child => !child.hasAttribute(\"slot\"));\n    unassigned.map(item => item.setAttribute(\"slot\", \"trigger\"));\n\n    // Get the LightDOM trigger & tray content\n    this.trigger = this.querySelector(`[slot=\"trigger\"]`);\n    this.tray = this.querySelector(`[slot=\"tray\"]`);\n\n    // Check for any nested navigation items\n    this.nestedItems = [];\n    \n    // If a light DOM tray exists, check for descendents\n    if (this.tray) {\n      this.nestedItems = this.nestedItems.concat([...this.tray.querySelectorAll(`${this.tag}`)]);\n      this.nestedItems = this.nestedItems.concat([...this.tray.querySelectorAll(\"slot\")].map(slot => {\n        return slot.assignedElements().map(node => {\n          return [...node.querySelectorAll(`${this.tag}`)];\n        });\n      }).flat(3));\n    }\n\n    this._init();\n\n    // Add a slotchange listener to the lightDOM trigger\n    this.trigger.addEventListener(\"slotchange\", this._init);\n  }\n\n  attributeChangedCallback(attr, oldValue, newValue) {\n    super.attributeChangedCallback(attr, oldValue, newValue);\n  }\n\n  disconnectedCallback() {\n    this.trigger.removeEventListener(\"slotchange\", this._init);\n\n    if (this.tray) {\n      this.removeEventListener(\"keydown\", this._keydownHandler);\n\n      this._trigger.removeEventListener(\"click\", this.toggle);\n      if (this.directLink) {\n        this.directLink.removeEventListener(\"click\", this._suppressLink);\n      }\n    } else {\n      this._trigger.removeEventListener(\"click\", this._navigateToUrl);\n      this._trigger.removeEventListener(\"keydown\", this._directLinkHandler);\n    }\n  }\n\n  _init() {\n    this.directLink = this.trigger.querySelector(\"a\");\n\n    // If there is a tray element, add click events\n    if (this.tray) {\n      // Toggle the navigation when the trigger is clicked\n      this._trigger.addEventListener(\"click\", this.toggle);\n      // Attaching to the parent element allows the exit key to work inside the tray too\n      this.addEventListener(\"keydown\", this._keydownHandler);\n\n      // Turn off the fallback link\n      if (this.directLink) {\n        this.directLink.setAttribute(\"tabindex\", \"-1\");\n        this.directLink.addEventListener(\"click\", this._suppressLink);\n      }\n    } else {\n      this.linkUrl = this.directLink ? this.directLink.href : \"#\";\n      this._trigger.addEventListener(\"click\", this._navigateToUrl);\n      this._trigger.addEventListener(\"keydown\", this._directLinkHandler);\n    }\n  }\n\n  _suppressLink(event) {\n    event.preventDefault();\n  }\n\n  _navigateToUrl(event) {\n    event.preventDefault();\n    window.location.href = this.linkUrl;\n  }\n\n  _directLinkHandler(event) {\n    switch (event.key) {\n      case \"Spacebar\":\n      case \"Enter\":\n      case \" \":\n        this._navigateToUrl(event);\n        break;\n      default:\n        return;\n    }\n  }\n\n  _keydownHandler(event) {\n    // @TODO need to add fallback key mappings for other browsers\n    switch (event.key) {\n      case \"Spacebar\":\n      case \"Enter\":\n      case \" \":\n        // Check that the event is on the trigger element\n        if (event && event.path && event.path[0] && event.path[0].classList.contains(`${this.tag}__trigger`)) {\n          this.toggle(event);\n        }\n        break;\n      case \"Esc\":\n      case \"Escape\":\n        this.close(event);\n        this.focus();\n        break;\n      default:\n        return;\n    }\n  }\n}\n\nclass PfeNavigationMain extends PFElement {\n  static get version() {\n    return \"1.0.0-prerelease.19\";\n  }\n\n  get html() {\n    return `<style>:host{display:block;height:100%}::slotted(*){margin:0;padding:0;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap}:host([show_content]) ::slotted(*){-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-align:stretch;-webkit-align-items:stretch;-ms-flex-align:stretch;align-items:stretch}::slotted(ul){list-style-type:none}:host([show_content]) ::slotted(ul){display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap}</style><slot></slot>`;\n  }\n\n  static get properties() {\n    return {\"sticky\":{\"title\":\"Sticky navigation\",\"type\":\"boolean\",\"default\":true,\"prefixed\":true},\"close-on-click\":{\"title\":\"Close navigation on click event\",\"type\":\"string\",\"enum\":[\"external\"],\"default\":\"external\",\"prefixed\":true}};\n  }\n\n  static get slots() {\n    return {\"skip\":{\"title\":\"Skip navigation\",\"type\":\"array\",\"namedSlot\":true,\"items\":{\"title\":\"Item\",\"oneOf\":[{\"$ref\":\"raw\"}]}},\"logo\":{\"title\":\"Logo\",\"type\":\"array\",\"namedSlot\":true,\"items\":{\"title\":\"Item\",\"oneOf\":[{\"$ref\":\"raw\"}]}},\"search\":{\"title\":\"Search\",\"type\":\"array\",\"namedSlot\":true,\"items\":{\"title\":\"Item\",\"oneOf\":[{\"$ref\":\"pfe-navigation-item\"}]}},\"mobile-search\":{\"title\":\"Mobile search functionality\",\"type\":\"array\",\"namedSlot\":true,\"items\":{\"title\":\"Item\",\"oneOf\":[{\"$ref\":\"raw\"}]}},\"main\":{\"title\":\"Main navigation\",\"type\":\"array\",\"namedSlot\":false,\"items\":{\"title\":\"Item\",\"oneOf\":[{\"$ref\":\"nav\"},{\"$ref\":\"raw\"}]}},\"language\":{\"title\":\"Language switcher\",\"type\":\"array\",\"namedSlot\":true,\"items\":{\"title\":\"Item\",\"oneOf\":[{\"$ref\":\"pfe-navigation-item\"}]}},\"mobile-language\":{\"title\":\"Mobile link to language page\",\"type\":\"array\",\"namedSlot\":true,\"items\":{\"title\":\"Item\",\"oneOf\":[{\"$ref\":\"a\"}]}},\"login\":{\"title\":\"Log in\",\"type\":\"array\",\"namedSlot\":true,\"items\":{\"title\":\"Item\",\"oneOf\":[{\"$ref\":\"pfe-navigation-item\"}]}},\"mobile-login\":{\"title\":\"Mobile link to log in page\",\"type\":\"array\",\"namedSlot\":true,\"items\":{\"title\":\"Item\",\"oneOf\":[{\"$ref\":\"a\"}]}},\"site-switcher\":{\"title\":\"Site switcher\",\"type\":\"array\",\"namedSlot\":true,\"items\":{\"title\":\"Item\",\"oneOf\":[{\"$ref\":\"pfe-navigation-item\"}]}}};\n  }\n  static get tag() {\n    return \"pfe-navigation-main\";\n  }\n\n  get templateUrl() {\n    return \"pfe-navigation-main.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-navigation-main.scss\";\n  }\n\n  static get PfeType() {\n    return PFElement.PfeTypes.Container;\n  }\n\n  static get observedAttributes() {\n    return [\"show_content\"];\n  }\n\n  constructor() {\n    super(PfeNavigationMain);\n\n    // Get all the nested navigation items\n    this.navItems = this.querySelectorAll(\"pfe-navigation-item\");\n    // Find the first nested element\n    this.first = this.navItems.item(0);\n    // Find the last nested element\n    this.last = this.navItems.item(this.navItems.length - 1);\n\n    this._init = this._init.bind(this);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this._init();\n\n    // Add a slotchange listener to the lightDOM trigger\n    this.addEventListener(\"slotchange\", this._init);\n  }\n\n  disconnectedCallback() {\n    this.removeEventListener(\"slotchange\", this._init);\n  }\n\n  _init() {\n    // Ensure the necessary a11y is set\n    this.setAttribute(\"role\", \"navigation\");\n    this.setAttribute(\"aria-label\", \"Main\");\n\n    // For each nested navigation item, tag it with context\n    this.navItems.forEach(item => {\n      item.nested = true;\n    });\n\n    // Tag the first and last navigation items for styling in mobile\n    if (this.first) this.first.setAttribute(\"first\", \"\");\n    if (this.last) this.last.setAttribute(\"last\", \"\");\n  }\n}\n\nclass PfeNavigation extends PFElement {\n  static get version() {\n    return \"1.0.0-prerelease.19\";\n  }\n\n  get html() {\n    return `<style>:host{--pfe-navigation--Padding--vertical:var(--pfe-theme--container-padding, 16px);--pfe-navigation--Padding--horizontal:var(--pfe-theme--container-padding, 16px);--pfe-navigation--Padding:0 var(--pfe-navigation--Padding--horizontal);--pfe-navigation--BackgroundColor:var(--pfe-theme--color--surface--darkest, #131313);--pfe-navigation--Color:var(--pfe-theme--color--surface--darkest--text, #fff);--pfe-navigation--BorderTopColor:transparent;--pfe-navigation--BorderColor:transparent;--pfe-navigation--Border:var(--pfe-theme--surface--border-width, 1px) var(--pfe-theme--surface--border-style, solid) var(--pfe-navigation--BorderColor);--pfe-navigation--MinHeight:72px;--pfe-navigation--icon:none;--pfe-navigation__overlay--BackgroundColor:var(--pfe-theme--overlay--BackgroundColor, rgba(37, 37, 37, 0.5));--pfe-navigation__trigger--FontWeight:100;--pfe-navigation__tray--Padding:var(--pfe-theme--container-padding, 16px);display:block;z-index:0;z-index:var(--pfe-theme--zindex--content,0);width:100%}@media print{:host{--pfe-navigation--Padding:calc(var(--pfe-navigation--Padding--vertical) / 2) var(--pfe-navigation--Padding--horizontal)}}@media screen and (min-width:576px){:host{--pfe-navigation--Padding--horizontal:calc(var(--pfe-theme--container-padding, 16px) * 2)}}@media screen and (min-width:992px){:host{--pfe-navigation--Padding--horizontal:calc(var(--pfe-theme--container-padding, 16px) / 2);--pfe-navigation__tray--Padding:calc(var(--pfe-theme--container-padding, 16px) * 2)}}@media screen and (min-width:1200px){:host{--pfe-navigation--Padding--horizontal:var(--pfe-theme--container-padding, 16px)}}:host(.sticky){position:-webkit-sticky;position:sticky;top:0;left:0;width:100vw;z-index:99;z-index:var(--pfe-theme--zindex--navigation,99)}::slotted([slot=logo]){margin:0;max-height:var(--pfe-navigation--MinHeight)}::slotted([slot=mobile-language]),::slotted([slot=mobile-login]){color:#06c;color:var(--pfe-broadcasted--color--ui-link,#06c);text-decoration:underline;-webkit-text-decoration:var(--pfe-broadcasted--link--text-decoration,underline);text-decoration:var(--pfe-broadcasted--link--text-decoration,underline)}::slotted([slot=mobile-menu--label]){font-family:Overpass,Overpass,Helvetica,helvetica,arial,sans-serif;font-family:var(--pfe-theme--font-family, \"Overpass\", Overpass, Helvetica, helvetica, arial, sans-serif);font-size:var(--pfe-navigation--FontSize);font-weight:var(--pfe-navigation--FontWeight);color:var(--pfe-navigation--Color);margin-bottom:0}::slotted([pfe-icon=bento]),[pfe-icon=bento]{--pfe-navigation--icon:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" width=\"19px\" height=\"19px\" viewBox=\"0 0 19 19\" xml:space=\"preserve\"><g stroke=\"none\" stroke-width=\"1\" fill=\"white\" fill-rule=\"evenodd\"><g><rect x=\"14\" y=\"14\" width=\"5\" height=\"5\"></rect><rect x=\"7\" y=\"14\" width=\"5\" height=\"5\"></rect><rect x=\"0\" y=\"14\" width=\"5\" height=\"5\"></rect><rect x=\"14\" y=\"7\" width=\"5\" height=\"5\"></rect><rect x=\"7\" y=\"7\" width=\"5\" height=\"5\"></rect><rect x=\"0\" y=\"7\" width=\"5\" height=\"5\"></rect><rect x=\"14\" y=\"0\" width=\"5\" height=\"5\"></rect><rect x=\"7\" y=\"0\" width=\"5\" height=\"5\"></rect><rect x=\"0\" y=\"0\" width=\"5\" height=\"5\"></rect></g></g></svg>')}::slotted([pfe-icon=bento].expanded),[pfe-icon=bento].expanded{--pfe-navigation--icon:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" width=\"19px\" height=\"19px\" viewBox=\"0 0 19 19\" xml:space=\"preserve\"><g stroke=\"none\" stroke-width=\"1\" fill=\"black\" fill-rule=\"evenodd\"><g><rect x=\"14\" y=\"14\" width=\"5\" height=\"5\"></rect><rect x=\"7\" y=\"14\" width=\"5\" height=\"5\"></rect><rect x=\"0\" y=\"14\" width=\"5\" height=\"5\"></rect><rect x=\"14\" y=\"7\" width=\"5\" height=\"5\"></rect><rect x=\"7\" y=\"7\" width=\"5\" height=\"5\"></rect><rect x=\"0\" y=\"7\" width=\"5\" height=\"5\"></rect><rect x=\"14\" y=\"0\" width=\"5\" height=\"5\"></rect><rect x=\"7\" y=\"0\" width=\"5\" height=\"5\"></rect><rect x=\"0\" y=\"0\" width=\"5\" height=\"5\"></rect></g></g></svg>')}::slotted([pfe-icon=user]),[pfe-icon=user]{--pfe-navigation--icon:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" width=\"21px\" height=\"20px\" viewBox=\"0 -1 21 20\" xml:space=\"preserve\"><g stroke=\"white\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" stroke-linecap=\"round\"><g><path d=\"M0,19 C0,13.75 4.25,9.5 9.5,9.5 C14.75,9.5 19,13.75 19,19\"></path><circle cx=\"9.5\" cy=\"4.75\" r=\"4.75\"></circle></g></g></svg>')}::slotted([pfe-icon=user].expanded),[pfe-icon=user].expanded{--pfe-navigation--icon:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" width=\"21px\" height=\"20px\" viewBox=\"0 -1 21 20\" xml:space=\"preserve\"><g stroke=\"black\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" stroke-linecap=\"round\"><g><path d=\"M0,19 C0,13.75 4.25,9.5 9.5,9.5 C14.75,9.5 19,13.75 19,19\"></path><circle cx=\"9.5\" cy=\"4.75\" r=\"4.75\"></circle></g></g></svg>')}::slotted([pfe-icon=globe]),[pfe-icon=globe]{--pfe-navigation--icon:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" width=\"21px\" height=\"21px\" viewBox=\"-1 -1 21 21\" xml:space=\"preserve\"><g stroke=\"white\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g><circle cx=\"9.5\" cy=\"9.5\" r=\"9.5\"></circle><ellipse cx=\"9.5\" cy=\"9.5\" rx=\"4.75\" ry=\"9.5\"></ellipse><path d=\"M9.5,0 L9.5,19\"></path><path d=\"M1,14 L18,14\"></path><path d=\"M0,9.5 L19,9.5\"></path><path d=\"M1,5 L18,5\"></path></g></g></svg>')}::slotted([pfe-icon=globe].expanded),[pfe-icon=globe].expanded{--pfe-navigation--icon:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" width=\"21px\" height=\"21px\" viewBox=\"-1 -1 21 21\" xml:space=\"preserve\"><g stroke=\"black\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g><circle cx=\"9.5\" cy=\"9.5\" r=\"9.5\"></circle><ellipse cx=\"9.5\" cy=\"9.5\" rx=\"4.75\" ry=\"9.5\"></ellipse><path d=\"M9.5,0 L9.5,19\"></path><path d=\"M1,14 L18,14\"></path><path d=\"M0,9.5 L19,9.5\"></path><path d=\"M1,5 L18,5\"></path></g></g></svg>')}::slotted([pfe-icon=search]),[pfe-icon=search]{--pfe-navigation--icon:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" width=\"20px\" height=\"20px\" viewBox=\"-1 -1 21 21\" xml:space=\"preserve\"><g stroke=\"white\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g><path d=\"M12,13 L18,19\" stroke-linecap=\"round\"></path><ellipse cx=\"7\" cy=\"7.5\" rx=\"7\" ry=\"7.5\"></ellipse></g></g></svg>')}::slotted([pfe-icon=search].expanded),[pfe-icon=search].expanded{--pfe-navigation--icon:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" width=\"20px\" height=\"20px\" viewBox=\"-1 -1 21 21\" xml:space=\"preserve\"><g stroke=\"black\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g><path d=\"M12,13 L18,19\" stroke-linecap=\"round\"></path><ellipse cx=\"7\" cy=\"7.5\" rx=\"7\" ry=\"7.5\"></ellipse></g></g></svg>')}::slotted([pfe-icon=menu]),[pfe-icon=menu]{--pfe-navigation--icon:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" width=\"23px\" height=\"18px\" viewBox=\"0 0 23 18\" xml:space=\"preserve\"><g stroke=\"white\" stroke-width=\"1\" fill=\"white\" fill-rule=\"evenodd\"><g><rect x=\"0.5\" y=\"14.5\" width=\"22\" height=\"3\"></rect><rect x=\"0.5\" y=\"7.5\" width=\"22\" height=\"3\"></rect><rect x=\"0.5\" y=\"0.5\" width=\"22\" height=\"3\"></rect></g></g></svg>')}::slotted([pfe-icon=menu].expanded),[pfe-icon=menu].expanded{--pfe-navigation--icon:url('data:image/svg+xml;utf8,<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"32\" height=\"32\" viewBox=\"-11 11 22 23\"><path fill=\"black\" d=\"M30 16.669v-1.331c0-0.363-0.131-0.675-0.394-0.938s-0.575-0.394-0.938-0.394h-10.669v-10.65c0-0.362-0.131-0.675-0.394-0.938s-0.575-0.394-0.938-0.394h-1.331c-0.363 0-0.675 0.131-0.938 0.394s-0.394 0.575-0.394 0.938v10.644h-10.675c-0.362 0-0.675 0.131-0.938 0.394s-0.394 0.575-0.394 0.938v1.331c0 0.363 0.131 0.675 0.394 0.938s0.575 0.394 0.938 0.394h10.669v10.644c0 0.363 0.131 0.675 0.394 0.938 0.262 0.262 0.575 0.394 0.938 0.394h1.331c0.363 0 0.675-0.131 0.938-0.394s0.394-0.575 0.394-0.938v-10.637h10.669c0.363 0 0.675-0.131 0.938-0.394 0.269-0.262 0.4-0.575 0.4-0.938z\" transform=\"rotate(45)\"/></svg>')}.pfe-navigation__wrapper{position:relative;z-index:99;z-index:var(--pfe-theme--navigation,99);background-color:#131313;background-color:var(--pfe-navigation--BackgroundColor);color:var(--pfe-navigation--Color);min-height:var(--pfe-navigation--MinHeight)}.pfe-navigation__container{margin:0 auto;padding:0 var(--pfe-navigation--Padding--horizontal);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-align:stretch;-webkit-align-items:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}@media screen and (min-width:768px){.pfe-navigation__container{--pfe-navigation--Width:calc(768px - calc(var(--pfe-navigation--Padding--horizontal) * 2));width:calc(768px - 2rem);width:var(--pfe-navigation--Width)}}@media screen and (min-width:992px){.pfe-navigation__container{--pfe-navigation--Width:calc(992px - calc(var(--pfe-navigation--Padding--horizontal) * 2));width:calc(992px - 2rem);width:var(--pfe-navigation--Width)}}@media screen and (min-width:1200px){.pfe-navigation__container{--pfe-navigation--Width:calc(1200px - calc(var(--pfe-navigation--Padding--horizontal) * 2));width:calc(1200px - 2rem);width:var(--pfe-navigation--Width)}}@media (min-width:992px){.pfe-navigation__container{padding:0}}.pfe-navigation__overlay{display:block;background-color:rgba(37,37,37,.5);background-color:var(--pfe-navigation__overlay--BackgroundColor,rgba(37,37,37,.5));position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:98;z-index:var(--pfe-theme--zindex--overlay,98)}.pfe-navigation__overlay[hidden]{display:none}.pfe-navigation__logo{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-top:var(--pfe-navigation--Padding--vertical);padding-right:16px;padding-right:var(--pfe-theme--container-padding,16px);padding-bottom:var(--pfe-navigation--Padding--vertical)}.pfe-navigation__skip{position:absolute;overflow:hidden;clip:rect(0,0,0,0);height:1px;width:1px;margin:-1px;padding:0;border:0}.pfe-navigation__main{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}@media (min-width:1200px){.pfe-navigation__main{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-align:stretch;-webkit-align-items:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}}.pfe-navigation__main--mobile{display:grid;grid-gap:16px;grid-gap:var(--pfe-theme--container-spacer,16px);height:100%}@media (min-width:992px){.pfe-navigation__main--mobile-search{display:none}}.pfe-navigation__main--mobile--columns{display:grid;grid-gap:16px;grid-gap:var(--pfe-theme--container-spacer,16px);grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}@media (min-width:768px){.pfe-navigation__main--mobile--columns{display:none}}.pfe-navigation__main--mobile--item[pfe-icon=user]{--pfe-navigation--icon:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" width=\"21px\" height=\"20px\" viewBox=\"0 -1 21 20\" xml:space=\"preserve\"><g stroke=\"royalblue\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" stroke-linecap=\"round\"><g><path d=\"M0,19 C0,13.75 4.25,9.5 9.5,9.5 C14.75,9.5 19,13.75 19,19\"></path><circle cx=\"9.5\" cy=\"4.75\" r=\"4.75\"></circle></g></g></svg>')}.pfe-navigation__main--mobile--item[pfe-icon=globe]{--pfe-navigation--icon:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" width=\"21px\" height=\"21px\" viewBox=\"-1 -1 21 21\" xml:space=\"preserve\"><g stroke=\"royalblue\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\"><g><circle cx=\"9.5\" cy=\"9.5\" r=\"9.5\"></circle><ellipse cx=\"9.5\" cy=\"9.5\" rx=\"4.75\" ry=\"9.5\"></ellipse><path d=\"M9.5,0 L9.5,19\"></path><path d=\"M1,14 L18,14\"></path><path d=\"M0,9.5 L19,9.5\"></path><path d=\"M1,5 L18,5\"></path></g></g></svg>')}.pfe-navigation__main--icon{display:inline-block;background:var(--pfe-navigation--icon) no-repeat;background-size:contain;background-position:center;width:1em;height:1em;margin-right:calc(16px / 2);margin-right:calc(var(--pfe-theme--container-spacer,16px)/ 2)}.pfe-navigation__utility{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-align:stretch;-webkit-align-items:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}</style><div class=\"pfe-navigation__wrapper\">\n  <div class=\"pfe-navigation__container\">\n    <div class=\"pfe-navigation__logo\">\n      <slot name=\"logo\"></slot>\n    </div>\n    <div class=\"pfe-navigation__skip\">\n      <slot name=\"skip\"></slot>\n    </div>\n    <div class=\"pfe-navigation__main\">\n      <pfe-navigation-item pfe-icon=\"menu\">\n        <span slot=\"trigger\">\n          <slot name=\"mobile-menu--label\" class=\"pfe-navigation__main--menu-label\"></slot>\n        </span>\n        <div slot=\"tray\" hidden>\n          <div class=\"pfe-navigation__main--mobile\">\n            <slot name=\"mobile-search\" class=\"pfe-navigation__main--mobile-search\"></slot>\n            <slot></slot>\n            <div class=\"pfe-navigation__main--mobile--columns\">\n              <span class=\"pfe-navigation__main--mobile--item\" pfe-icon=\"user\">\n                <span class=\"pfe-navigation__main--icon\"></span>\n                <slot name=\"mobile-login\"></slot>\n              </span>\n              <span class=\"pfe-navigation__main--mobile--item\" pfe-icon=\"globe\">\n                <span class=\"pfe-navigation__main--icon\"></span>\n                <slot name=\"mobile-language\"></slot>\n              </span>\n            </div>\n          </div>\n        </div>\n      </pfe-navigation-item>\n    </div>\n    <div class=\"pfe-navigation__utility\">\n      <slot name=\"language\"></slot>\n      <slot name=\"search\"></slot>\n      <slot name=\"login\"></slot>\n      <slot name=\"site-switcher\"></slot>\n    </div>\n  </div>\n  <div class=\"pfe-navigation__end\" hidden tabindex=\"-1\"></div>\n</div>\n<div class=\"pfe-navigation__overlay\" hidden></div>`;\n  }\n\n  static get properties() {\n    return {\"sticky\":{\"title\":\"Sticky navigation\",\"type\":\"boolean\",\"default\":true,\"prefixed\":true},\"close-on-click\":{\"title\":\"Close navigation on click event\",\"type\":\"string\",\"enum\":[\"external\"],\"default\":\"external\",\"prefixed\":true}};\n  }\n\n  static get slots() {\n    return {\"skip\":{\"title\":\"Skip navigation\",\"type\":\"array\",\"namedSlot\":true,\"items\":{\"title\":\"Item\",\"oneOf\":[{\"$ref\":\"raw\"}]}},\"logo\":{\"title\":\"Logo\",\"type\":\"array\",\"namedSlot\":true,\"items\":{\"title\":\"Item\",\"oneOf\":[{\"$ref\":\"raw\"}]}},\"search\":{\"title\":\"Search\",\"type\":\"array\",\"namedSlot\":true,\"items\":{\"title\":\"Item\",\"oneOf\":[{\"$ref\":\"pfe-navigation-item\"}]}},\"mobile-search\":{\"title\":\"Mobile search functionality\",\"type\":\"array\",\"namedSlot\":true,\"items\":{\"title\":\"Item\",\"oneOf\":[{\"$ref\":\"raw\"}]}},\"main\":{\"title\":\"Main navigation\",\"type\":\"array\",\"namedSlot\":false,\"items\":{\"title\":\"Item\",\"oneOf\":[{\"$ref\":\"nav\"},{\"$ref\":\"raw\"}]}},\"language\":{\"title\":\"Language switcher\",\"type\":\"array\",\"namedSlot\":true,\"items\":{\"title\":\"Item\",\"oneOf\":[{\"$ref\":\"pfe-navigation-item\"}]}},\"mobile-language\":{\"title\":\"Mobile link to language page\",\"type\":\"array\",\"namedSlot\":true,\"items\":{\"title\":\"Item\",\"oneOf\":[{\"$ref\":\"a\"}]}},\"login\":{\"title\":\"Log in\",\"type\":\"array\",\"namedSlot\":true,\"items\":{\"title\":\"Item\",\"oneOf\":[{\"$ref\":\"pfe-navigation-item\"}]}},\"mobile-login\":{\"title\":\"Mobile link to log in page\",\"type\":\"array\",\"namedSlot\":true,\"items\":{\"title\":\"Item\",\"oneOf\":[{\"$ref\":\"a\"}]}},\"site-switcher\":{\"title\":\"Site switcher\",\"type\":\"array\",\"namedSlot\":true,\"items\":{\"title\":\"Item\",\"oneOf\":[{\"$ref\":\"pfe-navigation-item\"}]}}};\n  }\n  static get tag() {\n    return \"pfe-navigation\";\n  }\n\n  get templateUrl() {\n    return \"pfe-navigation.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-navigation.scss\";\n  }\n\n  get schemaUrl() {\n    return \"pfe-navigation.json\";\n  }\n\n  closeAllNavigationItems() {\n    this.dispatchEvent(\n      new CustomEvent(\"pfe-navigation-item:toggle\", {\n        detail: {\n          action: \"close\"\n        },\n        bubbles: true,\n        composed: true\n      })\n    );\n  }\n\n  get overlay() {\n    return !this._overlay.hasAttribute(\"hidden\");\n  }\n\n  set overlay(state) {\n    if (state) {\n      // Add the overlay to the page\n      this._overlay.removeAttribute(\"hidden\");\n      // This prevents background scroll while nav is open\n      document.body.style.overflow = \"hidden\";\n    } else {\n      // Remove the overlay from the page\n      this._overlay.setAttribute(\"hidden\", \"\");\n      // Allow background to scroll again\n      document.body.style.overflow = \"auto\";\n\n    }\n  }\n\n  constructor() {\n    super(PfeNavigation);\n\n    // Attach functions for use below\n    this._init = this._init.bind(this);\n    this._setVisibility = this._setVisibility.bind(this);\n\n    // -- handlers\n    this._toggledHandler = this._toggledHandler.bind(this);\n    this._closeAllNavigationItems = this._closeAllNavigationItems.bind(this);\n    this._observerHandler = this._observerHandler.bind(this);\n    this._resizeHandler = this._resizeHandler.bind(this);\n    this._stickyHandler = this._stickyHandler.bind(this);\n    this.closeAllNavigationItems = this.closeAllNavigationItems.bind(this);\n    this._outsideListener = this._outsideListener.bind(this);\n    this._observer = new MutationObserver(this._observerHandler);\n\n    // Capture shadow elements\n    this._overlay = this.shadowRoot.querySelector(\".pfe-navigation__overlay\");\n    this._menuItem = this.shadowRoot.querySelector(\"pfe-navigation-item[pfe-icon='menu']\");\n\n    // Initialize active navigation item to empty array\n    this._activeNavigationItems = [];\n    // Set the state of this element to false until initialized\n    this.initialized = false;\n    this.overlay = false;\n    // Initial position of this element from the top of the screen\n    this.top = this.getBoundingClientRect().top || 0;\n\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    // If this element contains light DOM, initialize it\n    if (this.children.length) {\n      // If only one value exists in the array, it starts at that size and goes up\n      this.breakpoints = {\n        main: [0, 1200], // visible from 0 - 1200px\n        search: [768],   // visible from 768px +\n        \"mobile-search\": [0, 767],\n        language: [768],\n        \"mobile-language\": [0, 767],\n        login: [768],\n        \"mobile-login\": [0, 767]\n      };\n\n      // Kick off the initialization of the light DOM elements\n      this.initialized = this._init();\n\n      // Listen for the toggled event on the navigation children\n      this.addEventListener(\"pfe-navigation-item:toggle\", this._toggledHandler);\n\n      // Watch for screen resizing\n      window.addEventListener(\"resize\", this._resizeHandler);\n    } else {\n      console.error(\"This component does not have any light DOM children.  Please check documentation for requirements.\");\n    }\n  }\n\n  disconnectedCallback() {\n    // Remove the custom listener for the toggled event\n    this.removeEventListener(\"pfe-navigation-item:toggle\", this._toggledHandler);\n\n    // Remove the scroll, resize, and outside click event listeners\n    window.removeEventListener(\"resize\", this._resizeHandler);\n    window.removeEventListener(\"scroll\", this._stickyHandler);\n    document.removeEventListener(\"click\", this._outsideListener);\n\n    this._observer.disconnect();\n  }\n\n  _observerHandler(mutationsList) {\n    // Reset the state to false, rerun the initializer\n    this.initialized = false;\n    this.initialized = this._init();\n  }\n\n  _resizeHandler(event) {\n    // Set the visibility of items\n    this._setVisibility(this.offsetWidth);\n    \n    // Check what the active item is\n    this._activeNavigationItems.forEach(item => {\n      // If the item is open but not visible, update it to hidden\n      if (item.expanded && !item.visible) {\n        item.expanded = false;\n        this._activeNavigationItems = this._activeNavigationItems.filter(i => i !== item);\n      } else if (item.expanded && item.parent && item.parent.visible) {\n        item.parent.expanded = true; // Ensure the parent is open\n        // If the parent item doesn't exist in the active array, add it\n        if (!this._activeNavigationItems.includes(item.parent)) {\n          this._activeNavigationItems.push(item.parent);\n        }\n      }\n    });\n\n    this.overlay = this._activeNavigationItems.length > 0;\n  }\n\n  _closeAllNavigationItems() {\n    // Close any open navigation items\n    this._activeNavigationItems = this._activeNavigationItems.filter(item => {\n      item.expanded = false;\n      return false;\n    });\n\n    this.overlay = this._activeNavigationItems.length > 0;\n  }\n\n  _toggledHandler(event) {\n    let close = event && event.detail ? event.detail.action === \"close\" : false;\n    let newItem = event && event.detail ? event.detail.navigationItem : null;\n    let currentItems = this._activeNavigationItems;\n\n    // Check if the new item shares a parent with the current one and that the parent is visible\n    let openSibling = currentItems.filter(item => newItem && newItem.parent && newItem.parent === item.parent && newItem.parent.visible);\n    let hasOpenParent = newItem && newItem.parent && newItem.parent.visible && currentItems.includes(newItem.parent);\n    let isOpen = currentItems.includes(newItem);\n\n    // If the action is specifically to close the item or there is a new item and it isn't visibly nested\n    if (close || (!newItem && currentItems.length > 0) || (newItem && newItem.visible && !hasOpenParent)) {\n      // Close the items in the array and remove them\n      currentItems.map(item => {\n        item.expanded = false;\n      });\n      this._activeNavigationItems = [];\n    }\n    // If there is a new item and it isn't visibly nested\n    else if (newItem && newItem.visible && hasOpenParent && openSibling.length > 0) {\n      // Close the items in the array and remove them\n      this._activeNavigationItems = currentItems.filter(item => {\n        if (item !== newItem.parent) {\n          item.expanded = false;\n        } else {\n          return item;\n        }\n      });\n    }\n\n    // If the clicked item is open, close itself\n    if (isOpen) {\n      newItem.expanded = false;\n      // Remove this item from the active items\n      this._activeNavigationItems = currentItems.filter(item => item !== newItem);\n    }\n    // If there are no open items and it's a visible element\n    else if(newItem && !isOpen && !close) {\n      // Open that item and add it to the active array\n      newItem.expanded = true;\n      this._activeNavigationItems.push(newItem);\n    } else {\n      this._closeAllNavigationItems();\n    }\n\n    // The overlay is open if any active items exist\n    this.overlay = (this._activeNavigationItems.length > 0);\n    \n    return;\n  }\n\n  _stickyHandler() {\n    if(window.pageYOffset >= this.top) {\n      this.classList.add(\"sticky\");\n    } else {\n      this.classList.remove(\"sticky\");\n    }\n  }\n\n  _outsideListener(event) {\n    if ((event.target !== this && event.target.closest(\"pfe-navigation\") === null) || event.path.length > 0 && event.path[0] === this._overlay) {\n      this._closeAllNavigationItems();\n    }\n  }\n\n  _setVisibility(width) {\n    Object.entries(this.breakpoints).map(item => {\n      let label = item[0];\n      let bps = item[1];\n      let start = bps[0];\n      let end = bps[1];\n      let isVisible = false;\n\n      // If the slot exists, set attribute based on supported breakpoints\n      if (this.slots[label] && this.slots[label].nodes.length > 0) {\n        if (width > start && (!end || (end && width < end))) {\n          isVisible = true;\n        }\n\n        this.slots[label].nodes.forEach(node => {\n          if (label !== \"main\") {\n            node.visible = isVisible;\n          } else {\n            isVisible ? node.removeAttribute(\"show_content\") : node.setAttribute(\"show_content\", \"\");\n            this._menuItem.visible = isVisible;\n            node.navItems.forEach(item => isVisible ? item.removeAttribute(\"parent_hidden\") : item.setAttribute(\"parent_hidden\", \"\"));\n          }\n        });\n      }\n    });\n  }\n\n  _init() {\n    if(!this.initialized) {\n      // @IE11 This is necessary so the script doesn't become non-responsive\n      if (window.ShadyCSS) {\n        this._observer.disconnect();\n      }\n\n      // Connect the shadow menu with the main component\n      let mainNav = this.querySelector(\"pfe-navigation-main\");\n      if (mainNav && mainNav.navItems) {\n        mainNav.navItems.forEach(item => {\n          item.parent = this._menuItem;\n        });\n      }\n  \n      // Start by setting the visibility of the slots\n      this._setVisibility(this.offsetWidth);\n\n      // If the nav is set to sticky, inject the height of the nav to the next element in the DOM\n      if(this.hasAttribute(\"pfe-sticky\") && this.getAttribute(\"pfe-sticky\") != \"false\") {\n        // Run the sticky check on first page load\n        this._stickyHandler();\n\n        // Attach the scroll event to the window\n        window.addEventListener(\"scroll\", this._stickyHandler);\n      }\n\n      // Listen for clicks outside the navigation element\n      if(this.hasAttribute(\"pfe-close-on-click\") && this.getAttribute(\"pfe-close-on-click\") === \"external\") {\n        document.addEventListener(\"click\", this._outsideListener);\n      }\n\n      // @IE11 This is necessary so the script doesn't become non-responsive\n      if (window.ShadyCSS) {\n        setTimeout(() => {\n          this._observer.observe(this, {\n            childList: true,\n            subtree: true,\n            characterData: true\n          });\n        }, 0);\n      }\n    }\n\n    return true;\n  }\n}\n\nPFElement.create(PfeNavigationItem);\nPFElement.create(PfeNavigationMain);\nPFElement.create(PfeNavigation);\n\nexport default PfeNavigation;\n//# sourceMappingURL=pfe-navigation.js.map\n"],"names":["commonjsGlobal","window","global","self","createCommonjsModule","fn","module","exports","es5","isES5","undefined","this","freeze","Object","defineProperty","getDescriptor","getOwnPropertyDescriptor","keys","names","getOwnPropertyNames","getPrototypeOf","isArray","Array","propertyIsWritable","obj","prop","descriptor","writable","set","has","hasOwnProperty","str","toString","proto","constructor","prototype","ObjectKeys","o","ret","key","call","push","e","desc","value","es5_1","es5_2","es5_3","es5_4","es5_5","es5_6","es5_7","es5_8","es5_9","canEvaluate","navigator","errorObj","tryCatchTarget","globalObject","tryCatcher","target","apply","arguments","tryCatch","inherits","Child","Parent","hasProp","T","propertyName","constructor$","charAt","length","isPrimitive","val","isObject","maybeWrapAsError","maybeError","Error","safeToString","withAppended","appendee","i","len","getDataPropertyOrDefault","defaultValue","get","notEnumerableProp","name","configurable","enumerable","thrower","r","inheritedDataKeys","excludedPrototypes","Function","isExcludedProto","getKeys","visitedKeys","create","enumeration","thisAssignmentPattern","isClass","hasMethods","hasMethodsOtherThanConstructor","hasThisAssignmentAndStaticMethods","test","toFastProperties","rident","isIdentifier","filledRange","count","prefix","suffix","isError","message","markAsOriginatingFromRejection","ignore","originatesFromRejection","OperationalError","canAttachTrace","ensureErrorObject","err","classString","copyDescriptors","from","to","filter","asArray","v","Symbol","iterator","ArrayFrom","itResult","it","next","isNode","process","toLowerCase","hasEnvVariables","env","getNativePromise","Promise","promise","domainBind","cb","bind","hasDevTools","chrome","loadTimes","version","isRecentNode","versions","node","split","map","Number","lastLineError","util","schedule","noAsyncScheduler","NativePromise","MutationObserver","GlobalSetImmediate","setImmediate","ProcessNextTick","nextTick","resolve","nativePromise","then","standalone","cordova","setTimeout","div","document","createElement","opts","attributes","toggleScheduled","div2","classList","toggle","observe","disconnect","schedule_1","arrayMove","src","srcIndex","dst","dstIndex","j","Queue","capacity","_capacity","_length","_front","_willBeOverCapacity","size","_pushOne","arg","_checkCapacity","receiver","wrapMask","shift","front","_resizeTo","oldCapacity","queue","firstLineError","Async","_customScheduler","_isTickUsed","_lateQueue","_normalQueue","_haveDrainedQueues","_trampolineEnabled","drainQueues","_drainQueues","_schedule","AsyncInvokeLater","_queueTick","AsyncInvoke","AsyncSettlePromises","_drainQueue","queue$$1","_drainQueueStep","_settlePromises","setScheduler","prev","hasCustomScheduler","enableTrampoline","disableTrampolineIfNecessary","haveItemsQueued","fatalError","stderr","write","stack","exit","throwLater","invokeLater","invoke","settlePromises","_reset","async","firstLineError_1","Objectfreeze","inherits$1","notEnumerableProp$1","_TypeError","_RangeError","subError","nameProperty","defaultMessage","SubError","captureStackTrace","Warning","CancellationError","TimeoutError","AggregateError","TypeError","RangeError","methods","level","cause","indent","join","lines","errorTypes","RejectionError","errors","thenables","INTERNAL","util$$1","context","doGetThen","getThen","_pushContext","reject","_popContext","isAnyBluebirdPromise","_then","_fulfill","_reject","x","_captureStackTrace","synchronous","result","_resolveCallback","reason","_rejectCallback","doThenable","promise_array","tryConvertToPromise","apiRejection","Proxyable","PromiseArray","values","_promise","_propagateFrom","_setOnCancel","_values","_totalResolved","_init","init","_","resolveValueIfEmpty","bitField","_target","_bitField","_setAsyncGuaranteed","_reason","_cancel","_value","_iterate","_resolveEmptyArray","_resolve","Map","toResolutionValue","getActualLength","shouldCopyValues","isResolved","maybePromise","suppressUnhandledRejections","_proxy","_promiseFulfilled","_promiseRejected","_promiseCancelled","_isResolved","_isCancellable","index","_resultCancelled","cancel","longStackTraces","contextStack","Context","_trace","CapturedTrace","peekContext","lastIndex","_promiseCreated","_peekContext","trace","pop","deactivateLongStackTraces","activateLongStackTraces","Promise_pushContext","Promise_popContext","Promise_PeekContext","Promise_peekContext","Promise_promiseCreated","ctx","debuggability","unhandledRejectionHandled","possiblyUnhandledRejection","printWarning","getDomain","_getDomain","_async","es5$$1","bluebirdFramePattern","nodeFramePattern","parseLinePattern","stackFramePattern","formatStack","indentStackFrames","debugging","warnings","wForgottenReturn","_ensurePossibleRejectionHandled","_setRejectionIsUnhandled","_notifyUnhandledRejection","_notifyUnhandledRejectionIsHandled","fireRejectionEvent","_setReturnedNonUndefined","_returnedNonUndefined","_isRejectionUnhandled","_settledValue","_setUnhandledRejectionIsNotified","_unsetUnhandledRejectionIsNotified","_isUnhandledRejectionNotified","_unsetRejectionIsUnhandled","_warn","shouldUseOwnTrace","warn","onPossiblyUnhandledRejection","domain","onUnhandledRejectionHandled","disableLongStackTraces","config","longStackTracesIsSupported","Promise_captureStackTrace","Promise_attachExtraTrace","_attachExtraTrace","Promise_dereferenceTrace","_dereferenceTrace","longStackTracesCaptureStackTrace","longStackTracesAttachExtraTrace","longStackTracesDereferenceTrace","hasLongStackTraces","fireDomEvent","CustomEvent","event","dispatchEvent","eventData","detail","cancelable","domEvent","Event","createEvent","initCustomEvent","fireGlobalEvent","emit","methodName","method","slice","generatePromiseLifecycleEventObject","eventToObjectGenerator","promiseCreated","promiseFulfilled","promiseRejected","promiseResolved","promiseCancelled","promiseChained","child","warning","unhandledRejection","rejectionHandled","activeFireEvent","globalEventFired","domEventFired","defaultFireEvent","cancellationExecute","executor","onCancel","_attachCancellationCallback","cancellationAttachCancellationCallback","previousOnCancel","_onCancel","cancellationOnCancel","_onCancelField","cancellationSetOnCancel","cancellationClearCancellationData","_cancellationParent","cancellationPropagateFrom","parent","flags","branchesRemainingToCancel","_branchesRemainingToCancel","_isBound","_setBoundTo","_boundTo","warningsOption","cancellation","_clearCancellationData","_execute","propagateFromFunction","monitoring","_fireEvent","handler","boundValueFunction","isFulfilled","error","ignoreSelf","_parent","attachExtraTrace","__stackCleaned__","parsed","parseStackAndMessage","formatAndLogError","cleanStack","line","isTraceLine","isInternalFrame","shouldIgnore","replace","stackFramesAsArray","title","isSoft","console","String","log","localHandler","localEventFired","formatNonError","JSON","stringify","substr","maxChars","snip","parseLineInfoRegex","parseLineInfo","matches","match","fileName","parseInt","_promisesCreated","uncycle","nodes","stackToIndex","cycleEdgeNode","currentChildLength","stacks","current","currentLastIndex","currentLastLine","commonRootMeetPoint","removeCommonRoots","splice","removeDuplicateOrEmptyJumps","reconstructStack","v8stackFramePattern","v8stackFormatter","stackTraceLimit","ignoreUntil","hasStackAfterThrow","indexOf","isTTY","color","checkForgottenReturns","returnValue","handlerLine","creatorLine","traceLines","lineMatches","firstUserLine","msg","setBounds","firstFileName","lastFileName","firstStackLines","lastStackLines","firstIndex","info","deprecated","replacement","catch_filter","NEXT_FILTER","instances","boundTo","_boundValue","predicateLoop","item","matchesPredicate","_finally","catchFilter","PassThroughHandlerContext","type","called","cancelPromise","FinallyHandlerCancelReaction","finallyHandler","checkCancel","succeed","fail","reasonOrValue","isFinallyHandler","_isCancelled","isPending","isRejected","_passThrough","success","lastly","tap","tapCatch","handlerOrPredicate","catchInstances","maybeWrapAsError$1","OperationalError$1","isUntypedError","rErrorKey","wrapAsOperationalError","nodebackForPromise","multiArgs","wrapped","$_len","args","Math","max","$_i","nodeback","debug","_resolveFromSyncValue","attempt","calledBind","rejectThis","targetRejected","promiseRejectionQueued","bindingPromise","bindingResolved","thisArg","bindingRejected","_cancelBy","_isFollowing","_followee","_cancelBranched","_setWillBeCancelled","_branchHasCancelled","_enoughBranchesHaveCancelled","canceller","_invokeOnCancel","_setCancelled","_cancelPromises","_unsetOnCancel","isCancellable","isCancelled","_doInvokeOnCancel","onCancelCallback","internalOnly","_invokeInternalOnCancel","direct_resolve","returner","thenReturn","thenThrow","catchThrow","caught","catchReturn","synchronous_inspection","PromiseInspection","_settledValueField","_isFateSealed","__isCancelled","thenCallback","promiseSetter","generateHolderClass","total","props","assignment","cancellationCode","passedArguments","code","holderClasses","thenCallbacks","promiseSetters","last","holder","HolderClass","callbacks","asyncNeeded","spread","MappingPromiseArray","promises","limit","_filter","_callback","_preservedValues","_limit","_inFlight","_queue","_asyncInit","options","concurrency","isFinite","_init$","preservedValues","callback","booleans","cr","callerCache","getterCache","call_get","getMethodCaller","getGetter","makeMethodCaller","ensureMethod","makeGetter","getCompiled","compiler","cache","caller","namedGetter","indexedGetter","maybeCaller","getter","maybeGetter","using","createContext","NULL","dispose","resources","inspection","thenable","_isDisposable","_getDisposer","_setDisposable","castPreservingDisposable","tryDispose","Disposer","data","_data","_context","FunctionDisposer","maybeUnwrapDisposer","isDisposer","ResourceList","resource","doDispose","_unsetDisposable","d","input","spreadArgs","disposer","reflectedResources","reflect","resultPromise","all","inspections","_disposer","timers","HandleWrapper","handle","clearTimeout","afterValue","delay","ms","successClear","failureClear","timeout","handleWrapper","afterTimeout","generators","yieldHandlers","PromiseSpawn","generatorFunction","yieldHandler","internal","_finallyPromise","_stack","_generatorFunction","_receiver","_generator","_yieldHandlers","concat","_yieldedPromise","_cancellationPhase","_cleanup","coroutine","returnSentinel","_continue","_run","done","traceParent","promiseFromYieldHandler","PromiseSpawn$","generator","spawn","addYieldHandler","nodeify","spreadAdapter","successAdapter","errorAdapter","newReason","asCallback","adapter","promisify","THIS","defaultPromisified","__isPromisified__","noCopyPropsPattern","RegExp","defaultFilter","propsFilter","isPromisified","hasPromisified","promisifiableMethods","suffixRegexp","passesDefaultFilter","keyWithoutAsyncSuffix","checkValid","escapeIdentRegex","argumentSequence","argumentCount","makeNodePromisified","originalName","newParameterCount","min","parameterCount","argumentOrder","likelyArgumentCount","switchCaseArgumentOrder","shouldProxyThis","getFunctionCode","body","comma","generateArgumentSwitchCase","parameterDeclaration","__","defaultThis","promisified","promisifyAll","promisifier","promisifiedKey","Es6Map","mapToEntries","extractEntry","forEach","PropertiesPromiseArray","entries","isMap","_isMap","castValue","entriesToMap","keyOffset","race","raceLater","array","fulfill","cast","reduce","ReductionPromiseArray","initialValue","_each","_fn","_initialValue","_currentCancellable","_eachValues","completed","valueOrReason","gotAccum","accum","_gotAccum","gotValue","_eachComplete","sender","_resultCancelled$","settle","SettledPromiseArray","_promiseResolved","some","CANCELLATION","SomePromiseArray","_howMany","_unwrap","_initialized","howMany","setHowMany","isArrayResolved","_canPossiblyFulfill","_getRangeError","setUnwrap","_addFulfilled","_fulfilled","_addRejected","_checkOutcome","_rejected","_SomePromiseArray","PromiseMap","each","PromiseReduce","PromiseAll","promiseAllThis","mapSeries","any","makeSelfResolutionError","reflectHandler","UNDEFINED_BINDING","async$$1","errors$$1","APPLY","check","_fulfillmentHandler0","_rejectionHandler0","_promise0","_receiver0","_resolveFromExecutor","deferResolve","deferReject","fillTypes","p","didFulfill","didReject","_setIsFinal","toJSON","fulfillmentValue","rejectionReason","getNewLibraryCopy","is","fromNode","fromCallback","_setFulfilled","fulfilled","rejected","internalData","haveInternalData","settler","_settlePromiseCtx","_settlePromiseLateCancellationObserver","_addCallbacks","_setLength","_setRejected","_setFollowing","_isFinal","_unsetCancelled","_receiverAt","_promiseAt","_fulfillmentHandlerAt","_rejectionHandlerAt","_migrateCallback0","follower","_migrateCallbackAt","base","proxyable","shouldBind","_setFollowee","ignoreNonErrorWarnings","hasStack","_settlePromiseFromHandler","_settlePromise","isPromise","asyncGuaranteed","_settlePromise0","_clearCallbackDataAtIndex","_fulfillPromises","_rejectPromises","defer","pending","a","b","c","old","noConflict","bluebird","path","currentElem","parentElement","PfeNavigationItem","PFElement","html","hasIcon","properties","icon","enum","prefixed","slots","trigger","namedSlot","items","oneOf","$ref","tray","tag","templateUrl","styleUrl","schemaUrl","PfeType","PfeTypes","Container","hasAttribute","observedAttributes","nested","isNested","Boolean","setAttribute","removeAttribute","expanded","contains","isExpanded","add","_trigger","_tray","remove","visible","isVisible","[object Object]","preventDefault","navigationItem","action","bubbles","composed","super","directLink","linkUrl","shadowRoot","querySelector","_icon","close","open","_keydownHandler","_suppressLink","_navigateToUrl","_directLinkHandler","connectedCallback","children","nestedItems","querySelectorAll","slot","assignedElements","flat","addEventListener","attr","oldValue","newValue","attributeChangedCallback","removeEventListener","href","location","focus","PfeNavigationMain","sticky","default","close-on-click","skip","logo","search","mobile-search","main","language","mobile-language","login","mobile-login","site-switcher","navItems","first","PfeNavigation","overlay","_overlay","state","style","overflow","_setVisibility","_toggledHandler","_closeAllNavigationItems","_observerHandler","_resizeHandler","_stickyHandler","closeAllNavigationItems","_outsideListener","_observer","_menuItem","_activeNavigationItems","initialized","top","getBoundingClientRect","breakpoints","mutationsList","offsetWidth","includes","newItem","currentItems","openSibling","hasOpenParent","isOpen","pageYOffset","closest","width","label","bps","start","end","ShadyCSS","mainNav","getAttribute","childList","subtree","characterData"],"mappings":"2FAGA,IAAIA,EAAmC,oBAAXC,OAAyBA,OAA2B,oBAAXC,OAAyBA,OAAyB,oBAATC,KAAuBA,KAAO,GAE5I,SAASC,EAAqBC,EAAIC,GACjC,OAAiCD,EAA1BC,EAAS,CAAEC,QAAS,IAAiBD,EAAOC,SAAUD,EAAOC,QAGrE,IAAIC,EAAMJ,EAAqB,SAAUE,GACzC,IAAIG,EAAQ,WACR,YAAgBC,IAATC,KADC,GAIZ,GAAIF,EACAH,EAAOC,QAAU,CACbK,OAAQC,OAAOD,OACfE,eAAgBD,OAAOC,eACvBC,cAAeF,OAAOG,yBACtBC,KAAMJ,OAAOI,KACbC,MAAOL,OAAOM,oBACdC,eAAgBP,OAAOO,eACvBC,QAASC,MAAMD,QACfZ,MAAOA,EACPc,mBAAoB,SAASC,EAAKC,GAC9B,IAAIC,EAAab,OAAOG,yBAAyBQ,EAAKC,GACtD,QAAWC,IAAcA,EAAWC,WAAYD,EAAWE,WAGhE,CACH,IAAIC,EAAM,GAAGC,eACTC,EAAM,GAAGC,SACTC,EAAQ,GAAGC,YAAYC,UAEvBC,EAAa,SAAUC,GACvB,IAAIC,EAAM,GACV,IAAK,IAAIC,KAAOF,EACRR,EAAIW,KAAKH,EAAGE,IACZD,EAAIG,KAAKF,GAGjB,OAAOD,GAkCXhC,EAAOC,QAAU,CACbc,QAVe,SAAUG,GACzB,IACI,MAAyB,mBAAlBO,EAAIS,KAAKhB,GAEpB,MAAMkB,GACF,OAAO,IAMXzB,KAAMmB,EACNlB,MAAOkB,EACPtB,eA/BuB,SAAUuB,EAAGE,EAAKI,GAEzC,OADAN,EAAEE,GAAOI,EAAKC,MACPP,GA8BPtB,cApCsB,SAASsB,EAAGE,GAClC,MAAO,CAACK,MAAOP,EAAEE,KAoCjB3B,OA5Be,SAAUY,GACzB,OAAOA,GA4BPJ,eAzBuB,SAAUI,GACjC,IACI,OAAOX,OAAOW,GAAKU,YAAYC,UAEnC,MAAOO,GACH,OAAOT,IAqBXxB,MAAOA,EACPc,mBAAoB,WAChB,OAAO,OAKfsB,EAAQrC,EAAII,OACZkC,EAAQtC,EAAIM,eACZiC,EAAQvC,EAAIO,cACZiC,EAAQxC,EAAIS,KACZgC,EAAQzC,EAAIU,MACZgC,EAAQ1C,EAAIY,eACZ+B,EAAQ3C,EAAIa,QACZ+B,EAAQ5C,EAAIC,MACZ4C,EAAQ7C,EAAIe,mBAEZ+B,EAAkC,oBAAbC,UAErBC,EAAW,CAACd,EAAG,IACfe,EACAC,EAA+B,oBAATvD,KAAuBA,KAC3B,oBAAXF,OAAyBA,YACN,IAAnBD,EAAiCA,OACrBU,IAAnBV,EAA+BA,EAAiB,KAEpD,SAAS2D,IACL,IACI,IAAIC,EAASH,EAEb,OADAA,EAAiB,KACVG,EAAOC,MAAMlD,KAAMmD,WAC5B,MAAOpB,GAEL,OADAc,EAASd,EAAIA,EACNc,GAGf,SAASO,EAAS1D,GAEd,OADAoD,EAAiBpD,EACVsD,EAGX,IAAIK,EAAW,SAASC,EAAOC,GAC3B,IAAIC,EAAU,GAAGrC,eAEjB,SAASsC,IAGL,IAAK,IAAIC,KAFT1D,KAAKuB,YAAc+B,EACnBtD,KAAK2D,aAAeJ,EACKA,EAAO/B,UACxBgC,EAAQ3B,KAAK0B,EAAO/B,UAAWkC,IACgB,MAA/CA,EAAaE,OAAOF,EAAaG,OAAO,KAExC7D,KAAK0D,EAAe,KAAOH,EAAO/B,UAAUkC,IAMxD,OAFAD,EAAEjC,UAAY+B,EAAO/B,UACrB8B,EAAM9B,UAAY,IAAIiC,EACfH,EAAM9B,WAIjB,SAASsC,EAAYC,GACjB,OAAc,MAAPA,IAAuB,IAARA,IAAwB,IAARA,GACnB,iBAARA,GAAmC,iBAARA,EAI1C,SAASC,EAAS/B,GACd,MAAwB,mBAAVA,GACU,iBAAVA,GAAgC,OAAVA,EAGxC,SAASgC,EAAiBC,GACtB,OAAKJ,EAAYI,GAEV,IAAIC,MAAMC,EAAaF,IAFOA,EAKzC,SAASG,EAAapB,EAAQqB,GAC1B,IAEIC,EAFAC,EAAMvB,EAAOY,OACblC,EAAM,IAAIhB,MAAM6D,EAAM,GAE1B,IAAKD,EAAI,EAAGA,EAAIC,IAAOD,EACnB5C,EAAI4C,GAAKtB,EAAOsB,GAGpB,OADA5C,EAAI4C,GAAKD,EACF3C,EAGX,SAAS8C,EAAyB5D,EAAKe,EAAK8C,GACxC,IAAI7E,EAAIC,MASJ,MAAO,GAAGqB,eAAeU,KAAKhB,EAAKe,GAAOf,EAAIe,QAAO7B,EARrD,IAAIiC,EAAO9B,OAAOG,yBAAyBQ,EAAKe,GAEhD,OAAY,MAARI,EACmB,MAAZA,EAAK2C,KAA2B,MAAZ3C,EAAKf,IACtBe,EAAKC,MACLyC,OAHd,EAUR,SAASE,EAAkB/D,EAAKgE,EAAM5C,GAClC,GAAI6B,EAAYjD,GAAM,OAAOA,EAC7B,IAAIE,EAAa,CACbkB,MAAOA,EACP6C,cAAc,EACdC,YAAY,EACZ/D,UAAU,GAGd,OADAnB,EAAIM,eAAeU,EAAKgE,EAAM9D,GACvBF,EAGX,SAASmE,EAAQC,GACb,MAAMA,EAGV,IAAIC,EAAoB,WACpB,IAAIC,EAAqB,CACrBxE,MAAMa,UACNtB,OAAOsB,UACP4D,SAAS5D,WAGT6D,EAAkB,SAAStB,GAC3B,IAAK,IAAIQ,EAAI,EAAGA,EAAIY,EAAmBtB,SAAUU,EAC7C,GAAIY,EAAmBZ,KAAOR,EAC1B,OAAO,EAGf,OAAO,GAGX,GAAIlE,EAAIC,MAAO,CACX,IAAIwF,EAAUpF,OAAOM,oBACrB,OAAO,SAASK,GAGZ,IAFA,IAAIc,EAAM,GACN4D,EAAcrF,OAAOsF,OAAO,MAClB,MAAP3E,IAAgBwE,EAAgBxE,IAAM,CACzC,IAAIP,EACJ,IACIA,EAAOgF,EAAQzE,GACjB,MAAOkB,GACL,OAAOJ,EAEX,IAAK,IAAI4C,EAAI,EAAGA,EAAIjE,EAAKuD,SAAUU,EAAG,CAClC,IAAI3C,EAAMtB,EAAKiE,GACf,IAAIgB,EAAY3D,GAAhB,CACA2D,EAAY3D,IAAO,EACnB,IAAII,EAAO9B,OAAOG,yBAAyBQ,EAAKe,GACpC,MAARI,GAA4B,MAAZA,EAAK2C,KAA2B,MAAZ3C,EAAKf,KACzCU,EAAIG,KAAKF,IAGjBf,EAAMhB,EAAIY,eAAeI,GAE7B,OAAOc,GAGX,IAAI6B,EAAU,GAAGrC,eACjB,OAAO,SAASN,GACZ,GAAIwE,EAAgBxE,GAAM,MAAO,GACjC,IAAIc,EAAM,GAGV8D,EAAa,IAAK,IAAI7D,KAAOf,EACzB,GAAI2C,EAAQ3B,KAAKhB,EAAKe,GAClBD,EAAIG,KAAKF,OACN,CACH,IAAK,IAAI2C,EAAI,EAAGA,EAAIY,EAAmBtB,SAAUU,EAC7C,GAAIf,EAAQ3B,KAAKsD,EAAmBZ,GAAI3C,GACpC,SAAS6D,EAGjB9D,EAAIG,KAAKF,GAGjB,OAAOD,GA5DK,GAkEpB+D,EAAwB,sBAC5B,SAASC,EAAQjG,GACb,IACI,GAAkB,mBAAPA,EAAmB,CAC1B,IAAIY,EAAOT,EAAIU,MAAMb,EAAG8B,WAEpBoE,EAAa/F,EAAIC,OAASQ,EAAKuD,OAAS,EACxCgC,EAAiCvF,EAAKuD,OAAS,KAC7B,IAAhBvD,EAAKuD,QAA4B,gBAAZvD,EAAK,IAC5BwF,EACAJ,EAAsBK,KAAKrG,EAAK,KAAOG,EAAIU,MAAMb,GAAImE,OAAS,EAElE,GAAI+B,GAAcC,GACdC,EACA,OAAO,EAGf,OAAO,EACT,MAAO/D,GACL,OAAO,GAIf,SAASiE,EAAiBnF,GACtB,OAAOA,EAIX,IAAIoF,EAAS,wBACb,SAASC,EAAa9E,GAClB,OAAO6E,EAAOF,KAAK3E,GAGvB,SAAS+E,EAAYC,EAAOC,EAAQC,GAEhC,IADA,IAAI3E,EAAM,IAAIhB,MAAMyF,GACZ7B,EAAI,EAAGA,EAAI6B,IAAS7B,EACxB5C,EAAI4C,GAAK8B,EAAS9B,EAAI+B,EAE1B,OAAO3E,EAGX,SAASyC,EAAavD,GAClB,IACI,OAAOA,EAAM,GACf,MAAOkB,GACL,MAAO,8BAIf,SAASwE,EAAQ1F,GACb,OAAOA,aAAesD,OACT,OAARtD,GACiB,iBAARA,GACgB,iBAAhBA,EAAI2F,SACS,iBAAb3F,EAAIgE,KAGtB,SAAS4B,EAA+B1E,GACpC,IACI6C,EAAkB7C,EAAG,iBAAiB,GAE1C,MAAM2E,KAGV,SAASC,EAAwB5E,GAC7B,OAAS,MAALA,IACKA,aAAaoC,MAA8B,uBAAEyC,mBAC3B,IAAvB7E,EAAiB,eAGzB,SAAS8E,EAAehG,GACpB,OAAO0F,EAAQ1F,IAAQhB,EAAIe,mBAAmBC,EAAK,SAGvD,IAAIiG,EACM,UAAW,IAAI3C,MAOV,SAASlC,GACZ,OAAI4E,EAAe5E,GAAeA,EAC3B,IAAIkC,MAAMC,EAAanC,KAR3B,SAASA,GACZ,GAAI4E,EAAe5E,GAAQ,OAAOA,EAClC,IAAK,MAAM,IAAIkC,MAAMC,EAAanC,IAClC,MAAM8E,GAAM,OAAOA,IAU/B,SAASC,EAAYnG,GACjB,MAAO,GAAGQ,SAASQ,KAAKhB,GAG5B,SAASoG,EAAgBC,EAAMC,EAAIC,GAE/B,IADA,IAAI9G,EAAOT,EAAIU,MAAM2G,GACZ3C,EAAI,EAAGA,EAAIjE,EAAKuD,SAAUU,EAAG,CAClC,IAAI3C,EAAMtB,EAAKiE,GACf,GAAI6C,EAAOxF,GACP,IACI/B,EAAIM,eAAegH,EAAIvF,EAAK/B,EAAIO,cAAc8G,EAAMtF,IACtD,MAAO8E,MAKrB,IAAIW,EAAU,SAASC,GACnB,OAAIzH,EAAIa,QAAQ4G,GACLA,EAEJ,MAGX,GAAsB,oBAAXC,QAA0BA,OAAOC,SAAU,CAClD,IAAIC,EAAkC,mBAAf9G,MAAMuG,KAAsB,SAASI,GACxD,OAAO3G,MAAMuG,KAAKI,IAClB,SAASA,GAIT,IAHA,IAEII,EAFA/F,EAAM,GACNgG,EAAKL,EAAEC,OAAOC,cAERE,EAAWC,EAAGC,QAAY,MAChCjG,EAAIG,KAAK4F,EAASzF,OAEtB,OAAON,GAGX0F,EAAU,SAASC,GACf,OAAIzH,EAAIa,QAAQ4G,GACLA,EACK,MAALA,GAA2C,mBAAvBA,EAAEC,OAAOC,UAC7BC,EAAUH,GAEd,MAIf,IAAIO,EAA4B,oBAAZC,SAC2B,qBAAvCd,EAAYc,SAASC,cAEzBC,EAAqC,oBAAZF,cACF,IAAhBA,QAAQG,IAEnB,SAASA,EAAIrG,GACT,OAAOoG,EAAkBF,QAAQG,IAAIrG,QAAO7B,EAGhD,SAASmI,IACL,GAAuB,mBAAZC,QACP,IACI,IAAIC,EAAU,IAAID,QAAQ,cAC1B,GAAkC,qBAA9B,GAAG9G,SAASQ,KAAKuG,GACjB,OAAOD,QAEb,MAAOpG,KAIjB,SAASsG,EAAW7I,EAAM8I,GACtB,OAAO9I,EAAK+I,KAAKD,GAGrB,IAAI3G,EAAM,CACNgE,QAASA,EACTO,aAAcA,EACdhB,kBAAmBA,EACnBT,yBAA0BA,EAC1BO,QAASA,EACTtE,QAASb,EAAIa,QACb2G,QAASA,EACTzC,kBAAmBA,EACnBd,YAAaA,EACbE,SAAUA,EACVuC,QAASA,EACT5D,YAAaA,EACbE,SAAUA,EACVO,SAAUA,EACVC,SAAUA,EACVgB,aAAcA,EACdJ,iBAAkBA,EAClB+B,iBAAkBA,EAClBG,YAAaA,EACb9E,SAAU+C,EACVyC,eAAgBA,EAChBC,kBAAmBA,EACnBH,wBAAyBA,EACzBF,+BAAgCA,EAChCO,YAAaA,EACbC,gBAAiBA,EACjBuB,YAA+B,oBAAXC,QAA0BA,QACL,mBAArBA,OAAOC,UAC3Bb,OAAQA,EACRG,gBAAiBA,EACjBC,IAAKA,EACL1I,OAAQwD,EACRmF,iBAAkBA,EAClBG,WAAYA,GAGRM,EADRhH,EAAIiH,aAAejH,EAAIkG,SACfc,EAAUb,QAAQe,SAASC,KAAKC,MAAM,KAAKC,IAAIC,QAC5B,IAAfN,EAAQ,IAAYA,EAAQ,GAAK,IAAQA,EAAQ,GAAK,GAG9DhH,EAAIkG,QAAQlG,EAAIqE,iBAAiB8B,SAErC,IAAK,MAAM,IAAI3D,MAAW,MAAOpC,GAAIJ,EAAIuH,cAAgBnH,EACzD,IAAIoH,EAAOxH,EAEPyH,EACAC,EAAmB,WACnB,MAAM,IAAIlF,MAAM,mEAEhBmF,GAAgBH,EAAKjB,mBACzB,GAAIiB,EAAKtB,QAAsC,oBAArB0B,iBAAkC,CACxD,IAAIC,GAAqBnK,EAAeoK,aACpCC,GAAkB5B,QAAQ6B,SAC9BP,EAAWD,EAAKP,aACF,SAASlJ,GAAM8J,GAAmB3H,KAAKxC,EAAgBK,IACvD,SAASA,GAAMgK,GAAgB7H,KAAKiG,QAASpI,SACxD,GAA6B,mBAAlB4J,IAC0B,mBAA1BA,GAAcM,QAAwB,CACpD,IAAIC,GAAgBP,GAAcM,UAClCR,EAAW,SAAS1J,GAChBmK,GAAcC,KAAKpK,SAiCvB0J,EA/BoC,oBAArBG,kBACW,oBAAXjK,QACPA,OAAOsD,YACNtD,OAAOsD,UAAUmH,YAAczK,OAAO0K,SA2BhB,oBAAjBP,aACH,SAAU/J,GACjB+J,aAAa/J,IAEY,oBAAfuK,WACH,SAAUvK,GACjBuK,WAAWvK,EAAI,IAGR2J,EAnCA,WACP,IAAIa,EAAMC,SAASC,cAAc,OAC7BC,EAAO,CAACC,YAAY,GACpBC,GAAkB,EAClBC,EAAOL,SAASC,cAAc,OACzB,IAAIb,iBAAiB,WAC1BW,EAAIO,UAAUC,OAAO,OACrBH,GAAkB,IAEnBI,QAAQH,EAAMH,GAQjB,OAAO,SAAkB3K,GACrB,IAAIgC,EAAI,IAAI6H,iBAAiB,WACzB7H,EAAEkJ,aACFlL,MAEJgC,EAAEiJ,QAAQT,EAAKG,GAVXE,IACJA,GAAkB,EAClBC,EAAKC,UAAUC,OAAO,SAdnB,GAqCf,IAAIG,GAAazB,EAEjB,SAAS0B,GAAUC,EAAKC,EAAUC,EAAKC,EAAU1G,GAC7C,IAAK,IAAI2G,EAAI,EAAGA,EAAI3G,IAAO2G,EACvBF,EAAIE,EAAID,GAAYH,EAAII,EAAIH,GAC5BD,EAAII,EAAIH,QAAY,EAI5B,SAASI,GAAMC,GACXrL,KAAKsL,UAAYD,EACjBrL,KAAKuL,QAAU,EACfvL,KAAKwL,OAAS,EAGlBJ,GAAM5J,UAAUiK,oBAAsB,SAAUC,GAC5C,OAAO1L,KAAKsL,UAAYI,GAG5BN,GAAM5J,UAAUmK,SAAW,SAAUC,GACjC,IAAI/H,EAAS7D,KAAK6D,SAClB7D,KAAK6L,eAAehI,EAAS,GAE7B7D,KADSA,KAAKwL,OAAS3H,EAAW7D,KAAKsL,UAAY,GACzCM,EACV5L,KAAKuL,QAAU1H,EAAS,GAG5BuH,GAAM5J,UAAUM,KAAO,SAAUpC,EAAIoM,EAAUF,GAC3C,IAAI/H,EAAS7D,KAAK6D,SAAW,EAC7B,GAAI7D,KAAKyL,oBAAoB5H,GAIzB,OAHA7D,KAAK2L,SAASjM,GACdM,KAAK2L,SAASG,QACd9L,KAAK2L,SAASC,GAGlB,IAAIT,EAAInL,KAAKwL,OAAS3H,EAAS,EAC/B7D,KAAK6L,eAAehI,GACpB,IAAIkI,EAAW/L,KAAKsL,UAAY,EAChCtL,KAAMmL,EAAI,EAAKY,GAAYrM,EAC3BM,KAAMmL,EAAI,EAAKY,GAAYD,EAC3B9L,KAAMmL,EAAI,EAAKY,GAAYH,EAC3B5L,KAAKuL,QAAU1H,GAGnBuH,GAAM5J,UAAUwK,MAAQ,WACpB,IAAIC,EAAQjM,KAAKwL,OACb7J,EAAM3B,KAAKiM,GAKf,OAHAjM,KAAKiM,QAASlM,EACdC,KAAKwL,OAAUS,EAAQ,EAAMjM,KAAKsL,UAAY,EAC9CtL,KAAKuL,UACE5J,GAGXyJ,GAAM5J,UAAUqC,OAAS,WACrB,OAAO7D,KAAKuL,SAGhBH,GAAM5J,UAAUqK,eAAiB,SAAUH,GACnC1L,KAAKsL,UAAYI,GACjB1L,KAAKkM,UAAUlM,KAAKsL,WAAa,IAIzCF,GAAM5J,UAAU0K,UAAY,SAAUb,GAClC,IAAIc,EAAcnM,KAAKsL,UACvBtL,KAAKsL,UAAYD,EAIjBP,GAAU9K,KAAM,EAAGA,KAAMmM,EAHbnM,KAAKwL,OACJxL,KAAKuL,QACuBY,EAAc,IAI3D,IAAIC,GAAQhB,GAERiB,GACJ,IAAK,MAAM,IAAIlI,MAAW,MAAOpC,GAAIsK,GAAiBtK,EAKtD,SAASuK,KACLtM,KAAKuM,kBAAmB,EACxBvM,KAAKwM,aAAc,EACnBxM,KAAKyM,WAAa,IAAIL,GAAM,IAC5BpM,KAAK0M,aAAe,IAAIN,GAAM,IAC9BpM,KAAK2M,oBAAqB,EAC1B3M,KAAK4M,oBAAqB,EAC1B,IAAIpN,EAAOQ,KACXA,KAAK6M,YAAc,WACfrN,EAAKsN,gBAET9M,KAAK+M,UAAYlC,GAyDrB,SAASmC,GAAiBtN,EAAIoM,EAAUF,GACpC5L,KAAKyM,WAAW3K,KAAKpC,EAAIoM,EAAUF,GACnC5L,KAAKiN,aAGT,SAASC,GAAYxN,EAAIoM,EAAUF,GAC/B5L,KAAK0M,aAAa5K,KAAKpC,EAAIoM,EAAUF,GACrC5L,KAAKiN,aAGT,SAASE,GAAoB/E,GACzBpI,KAAK0M,aAAaf,SAASvD,GAC3BpI,KAAKiN,aAyCT,SAASG,GAAYC,GACjB,KAAOA,EAASxJ,SAAW,GACvByJ,GAAgBD,GAIxB,SAASC,GAAgBD,GACrB,IAAI3N,EAAK2N,EAASrB,QAClB,GAAkB,mBAAPtM,EACPA,EAAG6N,sBACA,CACH,IAAIzB,EAAWuB,EAASrB,QACpBJ,EAAMyB,EAASrB,QACnBtM,EAAGmC,KAAKiK,EAAUF,IAxH1BU,GAAM9K,UAAUgM,aAAe,SAAS9N,GACpC,IAAI+N,EAAOzN,KAAK+M,UAGhB,OAFA/M,KAAK+M,UAAYrN,EACjBM,KAAKuM,kBAAmB,EACjBkB,GAGXnB,GAAM9K,UAAUkM,mBAAqB,WACjC,OAAO1N,KAAKuM,kBAGhBD,GAAM9K,UAAUmM,iBAAmB,WAC/B3N,KAAK4M,oBAAqB,GAG9BN,GAAM9K,UAAUoM,6BAA+B,WACvCzE,EAAKX,cACLxI,KAAK4M,oBAAqB,IAIlCN,GAAM9K,UAAUqM,gBAAkB,WAC9B,OAAO7N,KAAKwM,aAAexM,KAAK2M,oBAIpCL,GAAM9K,UAAUsM,WAAa,SAAS/L,EAAG8F,GACjCA,GACAC,QAAQiG,OAAOC,MAAM,UAAYjM,aAAaoC,MAAQpC,EAAEkM,MAAQlM,GAC5D,MACJ+F,QAAQoG,KAAK,IAEblO,KAAKmO,WAAWpM,IAIxBuK,GAAM9K,UAAU2M,WAAa,SAASzO,EAAIkM,GAKtC,GAJyB,IAArBzI,UAAUU,SACV+H,EAAMlM,EACNA,EAAK,WAAc,MAAMkM,IAEH,oBAAf3B,WACPA,WAAW,WACPvK,EAAGkM,IACJ,QACA,IACH5L,KAAK+M,UAAU,WACXrN,EAAGkM,KAET,MAAO7J,GACL,MAAM,IAAIoC,MAAM,oEAmBnBgF,EAAKX,aAKN8D,GAAM9K,UAAU4M,YAAc,SAAU1O,EAAIoM,EAAUF,GAC9C5L,KAAK4M,mBACLI,GAAiBnL,KAAK7B,KAAMN,EAAIoM,EAAUF,GAE1C5L,KAAK+M,UAAU,WACX9C,WAAW,WACPvK,EAAGmC,KAAKiK,EAAUF,IACnB,QAKfU,GAAM9K,UAAU6M,OAAS,SAAU3O,EAAIoM,EAAUF,GACzC5L,KAAK4M,mBACLM,GAAYrL,KAAK7B,KAAMN,EAAIoM,EAAUF,GAErC5L,KAAK+M,UAAU,WACXrN,EAAGmC,KAAKiK,EAAUF,MAK9BU,GAAM9K,UAAU8M,eAAiB,SAASlG,GAClCpI,KAAK4M,mBACLO,GAAoBtL,KAAK7B,KAAMoI,GAE/BpI,KAAK+M,UAAU,WACX3E,EAAQmF,uBA/BpBjB,GAAM9K,UAAU4M,YAAcpB,GAC9BV,GAAM9K,UAAU6M,OAASnB,GACzBZ,GAAM9K,UAAU8M,eAAiBnB,IAoDrCb,GAAM9K,UAAUsL,aAAe,WAC3BM,GAAYpN,KAAK0M,cACjB1M,KAAKuO,SACLvO,KAAK2M,oBAAqB,EAC1BS,GAAYpN,KAAKyM,aAGrBH,GAAM9K,UAAUyL,WAAa,WACpBjN,KAAKwM,cACNxM,KAAKwM,aAAc,EACnBxM,KAAK+M,UAAU/M,KAAK6M,eAI5BP,GAAM9K,UAAU+M,OAAS,WACrBvO,KAAKwM,aAAc,GAGvB,IAAIgC,GAAQlC,GACRmC,GAAmBpC,GACvBmC,GAAMnC,eAAiBoC,GAEvB,IAAIC,GAAe7O,EAAII,OAEnB0O,GAAaxF,EAAK9F,SAClBuL,GAAsBzF,EAAKvE,kBAkB3BiK,GAAYC,GAhBhB,SAASC,GAASC,EAAcC,GAC5B,SAASC,EAAS1I,GACd,KAAMxG,gBAAgBkP,GAAW,OAAO,IAAIA,EAAS1I,GACrDoI,GAAoB5O,KAAM,UACH,iBAAZwG,EAAuBA,EAAUyI,GAC5CL,GAAoB5O,KAAM,OAAQgP,GAC9B7K,MAAMgL,kBACNhL,MAAMgL,kBAAkBnP,KAAMA,KAAKuB,aAEnC4C,MAAMtC,KAAK7B,MAInB,OADA2O,GAAWO,EAAU/K,OACd+K,EAIX,IAAIE,GAAUL,GAAS,UAAW,WAC9BM,GAAoBN,GAAS,oBAAqB,sBAClDO,GAAeP,GAAS,eAAgB,iBACxCQ,GAAiBR,GAAS,iBAAkB,mBAChD,IACIF,GAAaW,UACbV,GAAcW,WAChB,MAAM1N,GACJ8M,GAAaE,GAAS,YAAa,cACnCD,GAAcC,GAAS,aAAc,eAMzC,IAHA,IAAIW,GAAU,sHACuD3G,MAAM,KAElExE,GAAI,EAAGA,GAAImL,GAAQ7L,SAAUU,GACS,mBAAhC5D,MAAMa,UAAUkO,GAAQnL,OAC/BgL,GAAe/N,UAAUkO,GAAQnL,KAAM5D,MAAMa,UAAUkO,GAAQnL,MAIvE1E,EAAIM,eAAeoP,GAAe/N,UAAW,SAAU,CACnDS,MAAO,EACP6C,cAAc,EACd9D,UAAU,EACV+D,YAAY,IAEhBwK,GAAe/N,UAAyB,eAAI,EAC5C,IAAImO,GAAQ,EAmBZ,SAAS/I,GAAiBJ,GACtB,KAAMxG,gBAAgB4G,IAClB,OAAO,IAAIA,GAAiBJ,GAChCoI,GAAoB5O,KAAM,OAAQ,oBAClC4O,GAAoB5O,KAAM,UAAWwG,GACrCxG,KAAK4P,MAAQpJ,EACbxG,KAAoB,eAAI,EAEpBwG,aAAmBrC,OACnByK,GAAoB5O,KAAM,UAAWwG,EAAQA,SAC7CoI,GAAoB5O,KAAM,QAASwG,EAAQyH,QACpC9J,MAAMgL,mBACbhL,MAAMgL,kBAAkBnP,KAAMA,KAAKuB,aA9B3CgO,GAAe/N,UAAUH,SAAW,WAChC,IAAIwO,EAASlP,MAAc,EAARgP,GAAY,GAAGG,KAAK,KACnCnO,EAAM,KAAOkO,EAAS,uBAC1BF,KACAE,EAASlP,MAAc,EAARgP,GAAY,GAAGG,KAAK,KACnC,IAAK,IAAIvL,EAAI,EAAGA,EAAIvE,KAAK6D,SAAUU,EAAG,CAGlC,IAFA,IAAInD,EAAMpB,KAAKuE,KAAOvE,KAAO,4BAA8BA,KAAKuE,GAAK,GACjEwL,EAAQ3O,EAAI2H,MAAM,MACboC,EAAI,EAAGA,EAAI4E,EAAMlM,SAAUsH,EAChC4E,EAAM5E,GAAK0E,EAASE,EAAM5E,GAG9BxJ,IADAP,EAAM2O,EAAMD,KAAK,OACJ,KAGjB,OADAH,KACOhO,GAmBXgN,GAAW/H,GAAkBzC,OAE7B,IAAI6L,GAAa7L,MAA8B,uBAC1C6L,KACDA,GAAatB,GAAa,CACtBW,kBAAmBA,GACnBC,aAAcA,GACd1I,iBAAkBA,GAClBqJ,eAAgBrJ,GAChB2I,eAAgBA,KAEpB1P,EAAIM,eAAegE,MAAO,yBAA0B,CAChDlC,MAAO+N,GACPhP,UAAU,EACV+D,YAAY,EACZD,cAAc,KAItB,IAAIoL,GAAS,CACT/L,MAAOA,MACPqL,UAAWX,GACXY,WAAYX,GACZO,kBAAmBW,GAAWX,kBAC9BzI,iBAAkBoJ,GAAWpJ,iBAC7B0I,aAAcU,GAAWV,aACzBC,eAAgBS,GAAWT,eAC3BH,QAASA,IAGTe,GAAY,SAAShI,EAASiI,GAClC,IAAIC,EAAUlH,EACVtG,EAAWwN,EAAQxN,SACnBmB,EAAWqM,EAAQrM,SA0CvB,IAAIR,EAAU,GAAGrC,eAsCjB,OA9EA,SAA6BN,EAAKyP,GAC9B,GAAItM,EAASnD,GAAM,CACf,GAAIA,aAAesH,EAAS,OAAOtH,EACnC,IAAIiJ,EA4BZ,SAAiBjJ,GACb,IACI,OANR,SAAmBA,GACf,OAAOA,EAAIiJ,KAKAyG,CAAU1P,GACnB,MAAOkB,GAEL,OADAc,EAASd,EAAIA,EACNc,GAjCI2N,CAAQ3P,GACnB,GAAIiJ,IAASjH,EAAU,CACfyN,GAASA,EAAQG,eACrB,IAAI9O,EAAMwG,EAAQuI,OAAO5G,EAAK/H,GAE9B,OADIuO,GAASA,EAAQK,cACdhP,EACJ,GAAoB,mBAATmI,EACd,OA+BZ,SAA8BjJ,GAC1B,IACI,OAAO2C,EAAQ3B,KAAKhB,EAAK,aAC3B,MAAOkB,GACL,OAAO,GAnCC6O,CAAqB/P,IACjBc,EAAM,IAAIwG,EAAQiI,GACtBvP,EAAIgQ,MACAlP,EAAImP,SACJnP,EAAIoP,aACJhR,EACA4B,EACA,MAEGA,GA8BvB,SAAoBqP,EAAGlH,EAAMwG,GACzB,IAAIlI,EAAU,IAAID,EAAQiI,GACtBzO,EAAMyG,EACNkI,GAASA,EAAQG,eACrBrI,EAAQ6I,qBACJX,GAASA,EAAQK,cACrB,IAAIO,GAAc,EACdC,EAASd,EAAQjN,SAAS0G,GAAMjI,KAAKmP,EAQzC,SAAiB/O,GACRmG,IACLA,EAAQgJ,iBAAiBnP,GACzBmG,EAAU,OAGd,SAAgBiJ,GACPjJ,IACLA,EAAQkJ,gBAAgBD,EAAQH,GAAa,GAC7C9I,EAAU,QAEd,OAlBA8I,GAAc,EAEV9I,GAAW+I,IAAWtO,IACtBuF,EAAQkJ,gBAAgBH,EAAOpP,GAAG,GAAM,GACxCqG,EAAU,MAcPzG,EAtDQ4P,CAAW1Q,EAAKiJ,EAAMwG,GAGrC,OAAOzP,IAyDP2Q,GAAgB,SAASrJ,EAASiI,EAAUqB,EAC5CC,EAAcC,GAClB,IAAItB,EAAUlH,EAUd,SAASyI,EAAaC,GAClB,IAAIzJ,EAAUpI,KAAK8R,SAAW,IAAI3J,EAAQiI,GACtCyB,aAAkB1J,GAClBC,EAAQ2J,eAAeF,EAAQ,GAEnCzJ,EAAQ4J,aAAahS,MACrBA,KAAKiS,QAAUJ,EACf7R,KAAKuL,QAAU,EACfvL,KAAKkS,eAAiB,EACtBlS,KAAKmS,WAAMpS,GAAY,GA+J3B,OA7JAsQ,EAAQhN,SAASuO,EAAcD,GAE/BC,EAAapQ,UAAUqC,OAAS,WAC5B,OAAO7D,KAAKuL,SAGhBqG,EAAapQ,UAAU4G,QAAU,WAC7B,OAAOpI,KAAK8R,UAGhBF,EAAapQ,UAAU2Q,MAAQ,SAASC,EAAKC,EAAGC,GAC5C,IAAIT,EAASJ,EAAoBzR,KAAKiS,QAASjS,KAAK8R,UACpD,GAAID,aAAkB1J,EAAS,CAE3B,IAAIoK,GADJV,EAASA,EAAOW,WACMC,UAGtB,GAFAzS,KAAKiS,QAAUJ,EAEgB,IAAd,SAAXU,GAEF,OADAvS,KAAK8R,SAASY,sBACPb,EAAOhB,MACVuB,EACApS,KAAK+Q,aACLhR,EACAC,KACAsS,GAED,GAA+B,IAAd,SAAXC,GAEN,OAA+B,IAAd,SAAXA,GACFvS,KAAK+Q,QAAQc,EAAOc,WAEpB3S,KAAK4S,UAJZf,EAASA,EAAOgB,SAQxB,GAAe,QADfhB,EAASxB,EAAQhJ,QAAQwK,IAQH,IAAlBA,EAAOhO,OASX7D,KAAK8S,SAASjB,IARmB,IAAzBS,EACAtS,KAAK+S,qBAGL/S,KAAKgT,SAlEjB,SAA2BjP,GACvB,OAAOA,GACP,KAAM,EAAG,MAAO,GAChB,KAAM,EAAG,MAAO,GAChB,KAAM,EAAG,OAAO,IAAIkP,KA8DEC,CAAkBZ,QAZxC,CACI,IAAIvL,EAAM2K,EACN,oDAAsDrB,EAAQrJ,YAAY6K,IAASR,SACvFrR,KAAK8R,SAASR,gBAAgBvK,GAAK,KAgB3C6K,EAAapQ,UAAUsR,SAAW,SAASjB,GACvC,IAAIrN,EAAMxE,KAAKmT,gBAAgBtB,EAAOhO,QACtC7D,KAAKuL,QAAU/G,EACfxE,KAAKiS,QAAUjS,KAAKoT,mBAAqB,IAAIzS,MAAM6D,GAAOxE,KAAKiS,QAI/D,IAHA,IAAId,EAASnR,KAAK8R,SACduB,GAAa,EACbd,EAAW,KACNhO,EAAI,EAAGA,EAAIC,IAAOD,EAAG,CAC1B,IAAI+O,EAAe7B,EAAoBI,EAAOtN,GAAI4M,GAI9CoB,EAFAe,aAAwBnL,GACxBmL,EAAeA,EAAad,WACJC,UAEb,KAGXY,EACiB,OAAbd,GACAe,EAAaC,8BAEG,OAAbhB,EACwB,IAAd,SAAXA,IACFe,EAAaE,OAAOxT,KAAMuE,GAC1BvE,KAAKiS,QAAQ1N,GAAK+O,GAElBD,EADkC,IAAd,SAAXd,GACIvS,KAAKyT,kBAAkBH,EAAaT,SAAUtO,GACzB,IAAd,SAAXgO,GACIvS,KAAK0T,iBAAiBJ,EAAaX,UAAWpO,GAE9CvE,KAAK2T,kBAAkBpP,GAGxC8O,EAAarT,KAAKyT,kBAAkBH,EAAc/O,GAGrD8O,GAAYlC,EAAOuB,uBAG5Bd,EAAapQ,UAAUoS,YAAc,WACjC,OAAwB,OAAjB5T,KAAKiS,SAGhBL,EAAapQ,UAAUwR,SAAW,SAAU/Q,GACxCjC,KAAKiS,QAAU,KACfjS,KAAK8R,SAAShB,SAAS7O,IAG3B2P,EAAapQ,UAAUoR,QAAU,YACzB5S,KAAK4T,eAAkB5T,KAAK8R,SAAS+B,mBACzC7T,KAAKiS,QAAU,KACfjS,KAAK8R,SAASc,YAGlBhB,EAAapQ,UAAUuP,QAAU,SAAUM,GACvCrR,KAAKiS,QAAU,KACfjS,KAAK8R,SAASR,gBAAgBD,GAAQ,IAG1CO,EAAapQ,UAAUiS,kBAAoB,SAAUxR,EAAO6R,GAGxD,OAFA9T,KAAKiS,QAAQ6B,GAAS7R,IACAjC,KAAKkS,gBACNlS,KAAKuL,UACtBvL,KAAKgT,SAAShT,KAAKiS,UACZ,IAKfL,EAAapQ,UAAUmS,kBAAoB,WAEvC,OADA3T,KAAK4S,WACE,GAGXhB,EAAapQ,UAAUkS,iBAAmB,SAAUrC,GAGhD,OAFArR,KAAKkS,iBACLlS,KAAK+Q,QAAQM,IACN,GAGXO,EAAapQ,UAAUuS,iBAAmB,WACtC,IAAI/T,KAAK4T,cAAT,CACA,IAAI/B,EAAS7R,KAAKiS,QAElB,GADAjS,KAAK4S,UACDf,aAAkB1J,EAClB0J,EAAOmC,cAEP,IAAK,IAAIzP,EAAI,EAAGA,EAAIsN,EAAOhO,SAAUU,EAC7BsN,EAAOtN,aAAc4D,GACrB0J,EAAOtN,GAAGyP,WAM1BpC,EAAapQ,UAAU4R,iBAAmB,WACtC,OAAO,GAGXxB,EAAapQ,UAAU2R,gBAAkB,SAAU3O,GAC/C,OAAOA,GAGJoN,GAGHtB,GAAU,SAASnI,GACvB,IAAI8L,GAAkB,EAClBC,EAAe,GAOnB,SAASC,IACLnU,KAAKoU,OAAS,IAAID,EAAQE,cAAcC,KAuB5C,SAASA,IACL,IAAIC,EAAYL,EAAarQ,OAAS,EACtC,GAAI0Q,GAAa,EACb,OAAOL,EAAaK,GA8B5B,OA9DApM,EAAQ3G,UAAUgT,gBAAkB,aACpCrM,EAAQ3G,UAAUiP,aAAe,aACjCtI,EAAQ3G,UAAUmP,YAAc,WAAY,OAAO,MACnDxI,EAAQsM,aAAetM,EAAQ3G,UAAUiT,aAAe,aAKxDN,EAAQ3S,UAAUiP,aAAe,gBACT1Q,IAAhBC,KAAKoU,SACLpU,KAAKoU,OAAOI,gBAAkB,KAC9BN,EAAapS,KAAK9B,KAAKoU,UAI/BD,EAAQ3S,UAAUmP,YAAc,WAC5B,QAAoB5Q,IAAhBC,KAAKoU,OAAsB,CAC3B,IAAIM,EAAQR,EAAaS,MACrBhT,EAAM+S,EAAMF,gBAEhB,OADAE,EAAMF,gBAAkB,KACjB7S,EAEX,OAAO,MAcXwS,EAAQE,cAAgB,KACxBF,EAAQ3O,OAZR,WACI,GAAIyO,EAAiB,OAAO,IAAIE,GAYpCA,EAAQS,0BAA4B,aACpCT,EAAQU,wBAA0B,WAC9B,IAAIC,EAAsB3M,EAAQ3G,UAAUiP,aACxCsE,EAAqB5M,EAAQ3G,UAAUmP,YACvCqE,EAAsB7M,EAAQsM,aAC9BQ,EAAsB9M,EAAQ3G,UAAUiT,aACxCS,EAAyB/M,EAAQ3G,UAAUgT,gBAC/CL,EAAQS,0BAA4B,WAChCzM,EAAQ3G,UAAUiP,aAAeqE,EACjC3M,EAAQ3G,UAAUmP,YAAcoE,EAChC5M,EAAQsM,aAAeO,EACvB7M,EAAQ3G,UAAUiT,aAAeQ,EACjC9M,EAAQ3G,UAAUgT,gBAAkBU,EACpCjB,GAAkB,GAEtBA,GAAkB,EAClB9L,EAAQ3G,UAAUiP,aAAe0D,EAAQ3S,UAAUiP,aACnDtI,EAAQ3G,UAAUmP,YAAcwD,EAAQ3S,UAAUmP,YAClDxI,EAAQsM,aAAetM,EAAQ3G,UAAUiT,aAAeH,EACxDnM,EAAQ3G,UAAUgT,gBAAkB,WAChC,IAAIW,EAAMnV,KAAKyU,eACXU,GAA8B,MAAvBA,EAAIX,kBAAyBW,EAAIX,gBAAkBxU,QAG/DmU,GAGHiB,GAAgB,SAASjN,EAASgM,GACtC,IAMIkB,EACAC,EAQAC,EAfAC,EAAYrN,EAAQsN,WACpBjH,EAAQrG,EAAQuN,OAChBtG,EAAUc,GAAOd,QACjBiB,EAAUlH,EACVwM,EAAS9V,EACTgH,EAAiBwJ,EAAQxJ,eAGzB+O,EACA,2DACAC,EAAmB,6BACnBC,EAAmB,kCACnBC,EAAoB,KACpBC,EAAc,KACdC,GAAoB,EAEpBC,IAAgD,GAAjC7F,EAAQpI,IAAI,oBACNoI,EAAQpI,IAAI,mBACgB,gBAA5BoI,EAAQpI,IAAI,aAEjCkO,IAAkD,GAApC9F,EAAQpI,IAAI,uBACzBiO,IAAa7F,EAAQpI,IAAI,sBAE1BgM,IAAkE,GAA7C5D,EAAQpI,IAAI,gCAChCiO,IAAa7F,EAAQpI,IAAI,+BAE1BmO,EAAiE,GAA9C/F,EAAQpI,IAAI,iCAC9BkO,KAAc9F,EAAQpI,IAAI,gCAE/BE,EAAQ3G,UAAU+R,4BAA8B,WAC5C,IAAItQ,EAASjD,KAAKwS,UAClBvP,EAAOwP,mBAAcxP,EAAOwP,UACV,QAGtBtK,EAAQ3G,UAAU6U,gCAAkC,WAChD,GAAkC,IAAZ,OAAjBrW,KAAKyS,WAAV,CACAzS,KAAKsW,2BACL,IAAI9W,EAAOQ,KACXiK,WAAW,WACPzK,EAAK+W,6BACN,KAGPpO,EAAQ3G,UAAUgV,mCAAqC,WACnDC,EAAmB,mBACWpB,OAA2BtV,EAAWC,OAGxEmI,EAAQ3G,UAAUkV,yBAA2B,WACzC1W,KAAKyS,UAA6B,UAAjBzS,KAAKyS,WAG1BtK,EAAQ3G,UAAUmV,sBAAwB,WACtC,OAAwC,IAAf,UAAjB3W,KAAKyS,YAGjBtK,EAAQ3G,UAAU+U,0BAA4B,WAC1C,GAAIvW,KAAK4W,wBAAyB,CAC9B,IAAIvF,EAASrR,KAAK6W,gBAClB7W,KAAK8W,mCACLL,EAAmB,qBACWnB,EAA4BjE,EAAQrR,QAI1EmI,EAAQ3G,UAAUsV,iCAAmC,WACjD9W,KAAKyS,UAA6B,OAAjBzS,KAAKyS,WAG1BtK,EAAQ3G,UAAUuV,mCAAqC,WACnD/W,KAAKyS,kBAAYzS,KAAKyS,WAG1BtK,EAAQ3G,UAAUwV,8BAAgC,WAC9C,OAAyB,OAAjBhX,KAAKyS,WAAsB,GAGvCtK,EAAQ3G,UAAU8U,yBAA2B,WACzCtW,KAAKyS,UAA6B,QAAjBzS,KAAKyS,WAG1BtK,EAAQ3G,UAAUyV,2BAA6B,WAC3CjX,KAAKyS,mBAAYzS,KAAKyS,UAClBzS,KAAKgX,kCACLhX,KAAK+W,qCACL/W,KAAKwW,uCAIbrO,EAAQ3G,UAAUoV,sBAAwB,WACtC,OAAyB,QAAjB5W,KAAKyS,WAAuB,GAGxCtK,EAAQ3G,UAAU0V,MAAQ,SAAS1Q,EAAS2Q,EAAmB/O,GAC3D,OAAOgP,EAAK5Q,EAAS2Q,EAAmB/O,GAAWpI,OAGvDmI,EAAQkP,6BAA+B,SAAU3X,GAC7C,IAAI4X,EAAS9B,IACbF,EACkB,mBAAP5V,EAAgC,OAAX4X,EACQ5X,EAAK2Q,EAAQhI,WAAWiP,EAAQ5X,QACzCK,GAGnCoI,EAAQoP,4BAA8B,SAAU7X,GAC5C,IAAI4X,EAAS9B,IACbH,EACkB,mBAAP3V,EAAgC,OAAX4X,EACQ5X,EAAK2Q,EAAQhI,WAAWiP,EAAQ5X,QACzCK,GAGnC,IAAIyX,EAAyB,aAC7BrP,EAAQ8L,gBAAkB,WACtB,GAAIzF,EAAMX,oBAAsB4J,EAAOxD,gBACnC,MAAM,IAAI9P,MAAM,sGAEpB,IAAKsT,EAAOxD,iBAAmByD,IAA8B,CACzD,IAAIC,EAA4BxP,EAAQ3G,UAAUyP,mBAC9C2G,EAA2BzP,EAAQ3G,UAAUqW,kBAC7CC,EAA2B3P,EAAQ3G,UAAUuW,kBACjDN,EAAOxD,iBAAkB,EACzBuD,EAAyB,WACrB,GAAIhJ,EAAMX,oBAAsB4J,EAAOxD,gBACnC,MAAM,IAAI9P,MAAM,sGAEpBgE,EAAQ3G,UAAUyP,mBAAqB0G,EACvCxP,EAAQ3G,UAAUqW,kBAAoBD,EACtCzP,EAAQ3G,UAAUuW,kBAAoBD,EACtC3D,EAAQS,4BACRpG,EAAMb,mBACN8J,EAAOxD,iBAAkB,GAE7B9L,EAAQ3G,UAAUyP,mBAAqB+G,EACvC7P,EAAQ3G,UAAUqW,kBAAoBI,EACtC9P,EAAQ3G,UAAUuW,kBAAoBG,EACtC/D,EAAQU,0BACRrG,EAAMZ,iCAIdzF,EAAQgQ,mBAAqB,WACzB,OAAOV,EAAOxD,iBAAmByD,KAGrC,IAAIU,EAAe,WACf,IACI,GAA2B,mBAAhBC,YAA4B,CACnC,IAAIC,EAAQ,IAAID,YAAY,eAE5B,OADAhI,EAAQ9Q,OAAOgZ,cAAcD,GACtB,SAASzT,EAAMyT,GAClB,IAAIE,EAAY,CACZC,OAAQH,EACRI,YAAY,GAEhB/C,EAAOxV,eACHqY,EAAW,UAAW,CAACvW,MAAOqW,EAAMlQ,UACxCuN,EAAOxV,eAAeqY,EAAW,SAAU,CAACvW,MAAOqW,EAAMjH,SACzD,IAAIsH,EAAW,IAAIN,YAAYxT,EAAKkD,cAAeyQ,GACnD,OAAQnI,EAAQ9Q,OAAOgZ,cAAcI,IAEtC,GAAqB,mBAAVC,MAAsB,CAChCN,EAAQ,IAAIM,MAAM,eAEtB,OADAvI,EAAQ9Q,OAAOgZ,cAAcD,GACtB,SAASzT,EAAMyT,GAClB,IAAIK,EAAW,IAAIC,MAAM/T,EAAKkD,cAAe,CACzC2Q,YAAY,IAKhB,OAHAC,EAASF,OAASH,EAClB3C,EAAOxV,eAAewY,EAAU,UAAW,CAAC1W,MAAOqW,EAAMlQ,UACzDuN,EAAOxV,eAAewY,EAAU,SAAU,CAAC1W,MAAOqW,EAAMjH,UAChDhB,EAAQ9Q,OAAOgZ,cAAcI,IAMzC,OAHIL,EAAQnO,SAAS0O,YAAY,gBAC3BC,gBAAgB,mBAAmB,GAAO,EAAM,IACtDzI,EAAQ9Q,OAAOgZ,cAAcD,GACtB,SAASzT,EAAMyT,GAClB,IAAIK,EAAWxO,SAAS0O,YAAY,eAGpC,OAFAF,EAASG,gBAAgBjU,EAAKkD,eAAe,GAAO,EAChDuQ,IACIjI,EAAQ9Q,OAAOgZ,cAAcI,IAG/C,MAAO5W,IACT,OAAO,WACH,OAAO,GAzCI,GA6CfgX,EACI1I,EAAQxI,OACD,WACH,OAAOC,QAAQkR,KAAK9V,MAAM4E,QAAS3E,YAGlCkN,EAAQ9Q,OAKN,SAASsF,GACZ,IAAIoU,EAAa,KAAOpU,EAAKkD,cACzBmR,EAAS7I,EAAQ9Q,OAAO0Z,GAC5B,QAAKC,IACLA,EAAOhW,MAAMmN,EAAQ9Q,OAAQ,GAAG4Z,MAAMtX,KAAKsB,UAAW,KAC/C,IATA,WACH,OAAO,GAavB,SAASiW,EAAoCvU,EAAMuD,GAC/C,MAAO,CAACA,QAASA,GAGrB,IAAIiR,EAAyB,CACzBC,eAAgBF,EAChBG,iBAAkBH,EAClBI,gBAAiBJ,EACjBK,gBAAiBL,EACjBM,iBAAkBN,EAClBO,eAAgB,SAAS9U,EAAMuD,EAASwR,GACpC,MAAO,CAACxR,QAASA,EAASwR,MAAOA,IAErCC,QAAS,SAAShV,EAAMgV,GACpB,MAAO,CAACA,QAASA,IAErBC,mBAAoB,SAAUjV,EAAMwM,EAAQjJ,GACxC,MAAO,CAACiJ,OAAQA,EAAQjJ,QAASA,IAErC2R,iBAAkBX,GAGlBY,EAAkB,SAAUnV,GAC5B,IAAIoV,GAAmB,EACvB,IACIA,EAAmBlB,EAAgB7V,MAAM,KAAMC,WACjD,MAAOpB,GACLyM,EAAML,WAAWpM,GACjBkY,GAAmB,EAGvB,IAAIC,GAAgB,EACpB,IACIA,EAAgB9B,EAAavT,EACjBwU,EAAuBxU,GAAM3B,MAAM,KAAMC,YACvD,MAAOpB,GACLyM,EAAML,WAAWpM,GACjBmY,GAAgB,EAGpB,OAAOA,GAAiBD,GAmD5B,SAASE,IAAqB,OAAO,EAqBrC,SAASC,EAAoBC,EAAUzQ,EAAS8G,GAC5C,IAAItI,EAAUpI,KACd,IACIqa,EAASzQ,EAAS8G,EAAQ,SAAS4J,GAC/B,GAAwB,mBAAbA,EACP,MAAM,IAAI9K,UAAU,qCACAa,EAAQhP,SAASiZ,IAEzClS,EAAQmS,4BAA4BD,KAE1C,MAAOvY,GACL,OAAOA,GAIf,SAASyY,EAAuCF,GAC5C,IAAKta,KAAK6T,iBAAkB,OAAO7T,KAEnC,IAAIya,EAAmBza,KAAK0a,iBACH3a,IAArB0a,EACIpK,EAAQ3P,QAAQ+Z,GAChBA,EAAiB3Y,KAAKwY,GAEtBta,KAAKgS,aAAa,CAACyI,EAAkBH,IAGzCta,KAAKgS,aAAasI,GAI1B,SAASK,IACL,OAAO3a,KAAK4a,eAGhB,SAASC,EAAwBP,GAC7Bta,KAAK4a,eAAiBN,EAG1B,SAASQ,IACL9a,KAAK+a,yBAAsBhb,EAC3BC,KAAK4a,oBAAiB7a,EAG1B,SAASib,EAA0BC,EAAQC,GACvC,GAAoB,IAAP,EAARA,GAAkB,CACnBlb,KAAK+a,oBAAsBE,EAC3B,IAAIE,EAA4BF,EAAOG,gCACLrb,IAA9Bob,IACAA,EAA4B,GAEhCF,EAAOG,2BAA6BD,EAA4B,EAEhD,IAAP,EAARD,IAAoBD,EAAOI,YAC5Brb,KAAKsb,YAAYL,EAAOM,UA1HhCpT,EAAQsP,OAAS,SAASpN,GAStB,GAPI,oBADJA,EAAOnK,OAAOmK,MAENA,EAAK4J,gBACL9L,EAAQ8L,mBACA5J,EAAK4J,iBAAmB9L,EAAQgQ,sBACxCX,KAGJ,aAAcnN,EAAM,CACpB,IAAImR,EAAiBnR,EAAK8L,SAC1BsB,EAAOtB,WAAaqF,EACpBpF,EAAmBqB,EAAOtB,SAEtB9F,EAAQrM,SAASwX,IACb,qBAAsBA,IACtBpF,IAAqBoF,EAAepF,kBAIhD,GAAI,iBAAkB/L,GAAQA,EAAKoR,eAAiBhE,EAAOgE,aAAc,CACrE,GAAIjN,EAAMX,kBACN,MAAM,IAAI1J,MACN,wDAERgE,EAAQ3G,UAAUka,uBACdZ,EACJ3S,EAAQ3G,UAAUuQ,eAAiBiJ,EACnC7S,EAAQ3G,UAAUkZ,UAAYC,EAC9BxS,EAAQ3G,UAAUwQ,aAAe6I,EACjC1S,EAAQ3G,UAAU+Y,4BACdC,EACJrS,EAAQ3G,UAAUma,SAAWvB,EAC7BwB,EAAwBZ,EACxBvD,EAAOgE,cAAe,EAW1B,MATI,eAAgBpR,IACZA,EAAKwR,aAAepE,EAAOoE,YAC3BpE,EAAOoE,YAAa,EACpB1T,EAAQ3G,UAAUsa,WAAa9B,IACvB3P,EAAKwR,YAAcpE,EAAOoE,aAClCpE,EAAOoE,YAAa,EACpB1T,EAAQ3G,UAAUsa,WAAa3B,IAGhChS,GAKXA,EAAQ3G,UAAUsa,WAAa3B,EAC/BhS,EAAQ3G,UAAUma,SAAW,SAAStB,EAAUzQ,EAAS8G,GACrD,IACI2J,EAASzQ,EAAS8G,GACpB,MAAO3O,GACL,OAAOA,IAGfoG,EAAQ3G,UAAUkZ,UAAY,aAC9BvS,EAAQ3G,UAAUwQ,aAAe,SAAU+J,KAC3C5T,EAAQ3G,UAAU+Y,4BAA8B,SAASD,KAEzDnS,EAAQ3G,UAAUyP,mBAAqB,aACvC9I,EAAQ3G,UAAUqW,kBAAoB,aACtC1P,EAAQ3G,UAAUuW,kBAAoB,aACtC5P,EAAQ3G,UAAUka,uBAAyB,aAC3CvT,EAAQ3G,UAAUuQ,eAAiB,SAAUkJ,EAAQC,KAiErD,IAAIU,EALJ,SAA8BX,EAAQC,GACd,IAAP,EAARA,IAAoBD,EAAOI,YAC5Brb,KAAKsb,YAAYL,EAAOM,WAKhC,SAASS,IACL,IAAIra,EAAM3B,KAAKub,SACf,YAAYxb,IAAR4B,GACIA,aAAewG,EACXxG,EAAIsa,cACGta,EAAIM,aAEX,EAILN,EAGX,SAASqW,IACLhY,KAAKoU,OAAS,IAAIC,EAAcrU,KAAKyU,gBAGzC,SAASwD,EAAgCiE,EAAOC,GAC5C,GAAItV,EAAeqV,GAAQ,CACvB,IAAIxH,EAAQ1U,KAAKoU,OAIjB,QAHcrU,IAAV2U,GACIyH,IAAYzH,EAAQA,EAAM0H,cAEpBrc,IAAV2U,EACAA,EAAM2H,iBAAiBH,QACpB,IAAKA,EAAMI,iBAAkB,CAChC,IAAIC,EAASC,EAAqBN,GAClC7L,EAAQzL,kBAAkBsX,EAAO,QAC7BK,EAAO/V,QAAU,KAAO+V,EAAOtO,MAAM6B,KAAK,OAC9CO,EAAQzL,kBAAkBsX,EAAO,oBAAoB,KAKjE,SAAShE,IACLlY,KAAKoU,YAASrU,EAyDlB,SAASqX,EAAK5Q,EAAS2Q,EAAmB/O,GACtC,GAAKqP,EAAOtB,SAAZ,CACA,IACIhB,EADA0E,EAAU,IAAIzK,EAAQ5I,GAE1B,GAAI2Q,EACA/O,EAAQyP,kBAAkBgC,QACvB,GAAIpC,EAAOxD,kBAAoBkB,EAAMhN,EAAQsM,gBAChDU,EAAIkH,iBAAiBxC,OAClB,CACH,IAAI0C,EAASC,EAAqB3C,GAClCA,EAAQ5L,MAAQsO,EAAO/V,QAAU,KAAO+V,EAAOtO,MAAM6B,KAAK,MAGzDkK,EAAgB,UAAWH,IAC5B4C,EAAkB5C,EAAS,IAAI,IAqDvC,SAAS6C,EAAWzO,GAEhB,IADA,IAAItM,EAAM,GACD4C,EAAI,EAAGA,EAAI0J,EAAMpK,SAAUU,EAAG,CACnC,IAAIoY,EAAO1O,EAAM1J,GACbqY,EAAc,yBAA2BD,GACzC5G,EAAkBhQ,KAAK4W,GACvBE,EAAkBD,GAAeE,EAAaH,GAC9CC,IAAgBC,IACZ5G,GAAwC,MAAnB0G,EAAK/Y,OAAO,KACjC+Y,EAAO,OAASA,GAEpBhb,EAAIG,KAAK6a,IAGjB,OAAOhb,EAiBX,SAAS6a,EAAqBN,GAC1B,IAAIjO,EAAQiO,EAAMjO,MACdzH,EAAU0V,EAAM7a,WAGpB,OAFA4M,EAAyB,iBAAVA,GAAsBA,EAAMpK,OAAS,EAjBxD,SAA4BqY,GAExB,IADA,IAAIjO,EAAQiO,EAAMjO,MAAM8O,QAAQ,QAAS,IAAIhU,MAAM,MAC1CxE,EAAI,EAAGA,EAAI0J,EAAMpK,SAAUU,EAAG,CACnC,IAAIoY,EAAO1O,EAAM1J,GACjB,GAAI,yBAA2BoY,GAAQ5G,EAAkBhQ,KAAK4W,GAC1D,MAMR,OAHIpY,EAAI,GAAmB,eAAd2X,EAAMrX,OACfoJ,EAAQA,EAAMkL,MAAM5U,IAEjB0J,EAOO+O,CAAmBd,GAAS,CAAC,wBACpC,CACH1V,QAASA,EACTyH,MAAqB,eAAdiO,EAAMrX,KAAwBoJ,EAAQyO,EAAWzO,IAIhE,SAASwO,EAAkBP,EAAOe,EAAOC,GACrC,GAAuB,oBAAZC,QAAyB,CAChC,IAAI3W,EACJ,GAAI6J,EAAQrM,SAASkY,GAAQ,CACzB,IAAIjO,EAAQiO,EAAMjO,MAClBzH,EAAUyW,EAAQjH,EAAY/H,EAAOiO,QAErC1V,EAAUyW,EAAQG,OAAOlB,GAED,mBAAjB3G,EACPA,EAAa/O,EAAS0W,GACQ,mBAAhBC,QAAQE,KACC,iBAAhBF,QAAQE,KACfF,QAAQE,IAAI7W,IAKxB,SAASiQ,EAAmB5R,EAAMyY,EAAcjM,EAAQjJ,GACpD,IAAImV,GAAkB,EACtB,IACgC,mBAAjBD,IACPC,GAAkB,EACL,qBAAT1Y,EACAyY,EAAalV,GAEbkV,EAAajM,EAAQjJ,IAG/B,MAAOrG,GACLyM,EAAML,WAAWpM,GAGR,uBAAT8C,EACKmV,EAAgBnV,EAAMwM,EAAQjJ,IAAamV,GAC5Cd,EAAkBpL,EAAQ,wBAG9B2I,EAAgBnV,EAAMuD,GAI9B,SAASoV,EAAe3c,GACpB,IAAIO,EACJ,GAAmB,mBAARP,EACPO,EAAM,cACDP,EAAIgE,MAAQ,aACb,QACD,CACHzD,EAAMP,GAA+B,mBAAjBA,EAAIQ,SAClBR,EAAIQ,WAAagP,EAAQhP,SAASR,GAExC,GADuB,4BACFkF,KAAK3E,GACtB,IAEIA,EADaqc,KAAKC,UAAU7c,GAGhC,MAAMkB,IAIS,IAAfX,EAAIyC,SACJzC,EAAM,iBAGd,MAAQ,KAGZ,SAAcA,GAEV,GAAIA,EAAIyC,OADO,GAEX,OAAOzC,EAEX,OAAOA,EAAIuc,OAAO,EAAGC,IAAgB,MARtBC,CAAKzc,GAAO,qBAW/B,SAASsW,IACL,MAAoC,mBAAtBvI,EAGlB,IAAI2N,EAAe,WAAa,OAAO,GACnCgB,EAAqB,wCACzB,SAASC,EAAcpB,GACnB,IAAIqB,EAAUrB,EAAKsB,MAAMH,GACzB,GAAIE,EACA,MAAO,CACHE,SAAUF,EAAQ,GAClBrB,KAAMwB,SAASH,EAAQ,GAAI,KA+CvC,SAAS3J,EAAc4G,GACnBjb,KAAKoc,QAAUnB,EACfjb,KAAKoe,iBAAmB,EACxB,IAAIva,EAAS7D,KAAKuL,QAAU,QAAgBxL,IAAXkb,EAAuB,EAAIA,EAAO1P,SACnE4D,EAAkBnP,KAAMqU,GACpBxQ,EAAS,IAAI7D,KAAKqe,UAE1BhO,EAAQhN,SAASgR,EAAelQ,OAChCgQ,EAAQE,cAAgBA,EAExBA,EAAc7S,UAAU6c,QAAU,WAC9B,IAAIxa,EAAS7D,KAAKuL,QAClB,KAAI1H,EAAS,GAAb,CAIA,IAHA,IAAIya,EAAQ,GACRC,EAAe,GAEVha,EAAI,EAAGuE,EAAO9I,UAAeD,IAAT+I,IAAsBvE,EAC/C+Z,EAAMxc,KAAKgH,GACXA,EAAOA,EAAKsT,QAGhB,IAAS7X,GADTV,EAAS7D,KAAKuL,QAAUhH,GACF,EAAGA,GAAK,IAAKA,EAAG,CAClC,IAAI0J,EAAQqQ,EAAM/Z,GAAG0J,WACOlO,IAAxBwe,EAAatQ,KACbsQ,EAAatQ,GAAS1J,GAG9B,IAASA,EAAI,EAAGA,EAAIV,IAAUU,EAAG,CAC7B,IACIuP,EAAQyK,EADOD,EAAM/Z,GAAG0J,OAE5B,QAAclO,IAAV+T,GAAuBA,IAAUvP,EAAG,CAChCuP,EAAQ,IACRwK,EAAMxK,EAAQ,GAAGsI,aAAUrc,EAC3Bue,EAAMxK,EAAQ,GAAGvI,QAAU,GAE/B+S,EAAM/Z,GAAG6X,aAAUrc,EACnBue,EAAM/Z,GAAGgH,QAAU,EACnB,IAAIiT,EAAgBja,EAAI,EAAI+Z,EAAM/Z,EAAI,GAAKvE,KAEvC8T,EAAQjQ,EAAS,GACjB2a,EAAcpC,QAAUkC,EAAMxK,EAAQ,GACtC0K,EAAcpC,QAAQiC,UACtBG,EAAcjT,QACViT,EAAcpC,QAAQ7Q,QAAU,IAEpCiT,EAAcpC,aAAUrc,EACxBye,EAAcjT,QAAU,GAG5B,IADA,IAAIkT,EAAqBD,EAAcjT,QAAU,EACxCJ,EAAI5G,EAAI,EAAG4G,GAAK,IAAKA,EAC1BmT,EAAMnT,GAAGI,QAAUkT,EACnBA,IAEJ,WAKZpK,EAAc7S,UAAU6a,iBAAmB,SAASH,GAChD,IAAIA,EAAMI,iBAAV,CACAtc,KAAKqe,UAML,IALA,IAAI9B,EAASC,EAAqBN,GAC9B1V,EAAU+V,EAAO/V,QACjBkY,EAAS,CAACnC,EAAOtO,OAEjByG,EAAQ1U,UACKD,IAAV2U,GACHgK,EAAO5c,KAAK4a,EAAWhI,EAAMzG,MAAMlF,MAAM,QACzC2L,EAAQA,EAAM0H,SAhRtB,SAA2BsC,GAEvB,IADA,IAAIC,EAAUD,EAAO,GACZna,EAAI,EAAGA,EAAIma,EAAO7a,SAAUU,EAAG,CAMpC,IALA,IAAIkJ,EAAOiR,EAAOna,GACdqa,EAAmBD,EAAQ9a,OAAS,EACpCgb,EAAkBF,EAAQC,GAC1BE,GAAuB,EAElB3T,EAAIsC,EAAK5J,OAAS,EAAGsH,GAAK,IAAKA,EACpC,GAAIsC,EAAKtC,KAAO0T,EAAiB,CAC7BC,EAAsB3T,EACtB,MAIR,IAASA,EAAI2T,EAAqB3T,GAAK,IAAKA,EAAG,CAC3C,IAAIwR,EAAOlP,EAAKtC,GAChB,GAAIwT,EAAQC,KAAsBjC,EAI9B,MAHAgC,EAAQhK,MACRiK,IAKRD,EAAUlR,GA0PdsR,CAAkBL,GA5RtB,SAAqCA,GACjC,IAAK,IAAIna,EAAI,EAAGA,EAAIma,EAAO7a,SAAUU,GACR,IAArBma,EAAOna,GAAGV,QACRU,EAAI,EAAIma,EAAO7a,QAAW6a,EAAOna,GAAG,KAAOma,EAAOna,EAAE,GAAG,MACzDma,EAAOM,OAAOza,EAAG,GACjBA,KAwRR0a,CAA4BP,GAC5BrO,EAAQzL,kBAAkBsX,EAAO,QAzSrC,SAA0B1V,EAASkY,GAC/B,IAAK,IAAIna,EAAI,EAAGA,EAAIma,EAAO7a,OAAS,IAAKU,EACrCma,EAAOna,GAAGzC,KAAK,wBACf4c,EAAOna,GAAKma,EAAOna,GAAGuL,KAAK,MAK/B,OAHIvL,EAAIma,EAAO7a,SACX6a,EAAOna,GAAKma,EAAOna,GAAGuL,KAAK,OAExBtJ,EAAU,KAAOkY,EAAO5O,KAAK,MAiSMoP,CAAiB1Y,EAASkY,IACpErO,EAAQzL,kBAAkBsX,EAAO,oBAAoB,KAGzD,IAAI/M,EAAoB,WACpB,IAAIgQ,EAAsB,YACtBC,EAAmB,SAASnR,EAAOiO,GACnC,MAAqB,iBAAVjO,EAA2BA,OAEnBlO,IAAfmc,EAAMrX,WACY9E,IAAlBmc,EAAM1V,QACC0V,EAAM7a,WAEVmc,EAAetB,IAG1B,GAAqC,iBAA1B/X,MAAMkb,iBACsB,mBAA5Blb,MAAMgL,kBAAkC,CAC/ChL,MAAMkb,iBAAmB,EACzBtJ,EAAoBoJ,EACpBnJ,EAAcoJ,EACd,IAAIjQ,EAAoBhL,MAAMgL,kBAK9B,OAHA2N,EAAe,SAASH,GACpB,OAAO/G,EAAqB7P,KAAK4W,IAE9B,SAAS7Q,EAAUwT,GACtBnb,MAAMkb,iBAAmB,EACzBlQ,EAAkBrD,EAAUwT,GAC5Bnb,MAAMkb,iBAAmB,GAGjC,IAYIE,EAZAxY,EAAM,IAAI5C,MAEd,GAAyB,iBAAd4C,EAAIkH,OACXlH,EAAIkH,MAAMlF,MAAM,MAAM,GAAGyW,QAAQ,oBAAsB,EAIvD,OAHAzJ,EAAoB,IACpBC,EAAcoJ,EACdnJ,GAAoB,EACb,SAA2BvU,GAC9BA,EAAEuM,OAAQ,IAAI9J,OAAQ8J,OAK9B,IAAM,MAAM,IAAI9J,MAChB,MAAMpC,GACFwd,EAAsB,UAAWxd,EAErC,MAAM,UAAWgF,IAAQwY,GACY,iBAA1Bpb,MAAMkb,iBAWjBrJ,EAAc,SAAS/H,EAAOiO,GAC1B,MAAqB,iBAAVjO,EAA2BA,EAEhB,iBAAViO,GACS,mBAAVA,QACQnc,IAAfmc,EAAMrX,WACY9E,IAAlBmc,EAAM1V,QAGHgX,EAAetB,GAFXA,EAAM7a,YAKd,OAtBH0U,EAAoBoJ,EACpBnJ,EAAcoJ,EACP,SAA2B1d,GAC9ByC,MAAMkb,iBAAmB,EACzB,IAAM,MAAM,IAAIlb,MAChB,MAAMpC,GAAKL,EAAEuM,MAAQlM,EAAEkM,MACvB9J,MAAMkb,iBAAmB,IArDb,GAyED,oBAAZlC,cAAmD,IAAjBA,QAAQ/F,OACjD7B,EAAe,SAAU/O,GACrB2W,QAAQ/F,KAAK5Q,IAEb6J,EAAQxI,QAAUC,QAAQiG,OAAO0R,MACjClK,EAAe,SAAS/O,EAAS0W,GAC7B,IAAIwC,EAAQxC,EAAS,QAAe,QACpCC,QAAQ/F,KAAKsI,EAAQlZ,EAAU,WAE3B6J,EAAQxI,QAAyC,iBAAvB,IAAI1D,OAAa,QACnDoR,EAAe,SAAS/O,EAAS0W,GAC7BC,QAAQ/F,KAAK,KAAO5Q,EACR0W,EAAS,oBAAsB,iBAKvD,IAAIzF,EAAS,CACTtB,SAAUA,EACVlC,iBAAiB,EACjBwH,cAAc,EACdI,YAAY,GAKhB,OAFI5H,GAAiB9L,EAAQ8L,kBAEtB,CACHA,gBAAiB,WACb,OAAOwD,EAAOxD,iBAElBkC,SAAU,WACN,OAAOsB,EAAOtB,UAElBsF,aAAc,WACV,OAAOhE,EAAOgE,cAElBI,WAAY,WACR,OAAOpE,EAAOoE,YAElBD,sBAAuB,WACnB,OAAOA,GAEXI,mBAAoB,WAChB,OAAOA,GAEX2D,sBA3eJ,SAA+BC,EAAatG,EAAgBzU,EAAMuD,EACnC6S,GAC3B,QAAoBlb,IAAhB6f,GAAgD,OAAnBtG,GAC7BlD,EAAkB,CAClB,QAAerW,IAAXkb,GAAwBA,EAAOtE,wBAAyB,OAC5D,GAAoC,IAAX,MAApBvO,EAAQqK,WAA0B,OAEnC5N,IAAMA,GAAc,KACxB,IAAIgb,EAAc,GACdC,EAAc,GAClB,GAAIxG,EAAelF,OAAQ,CAGvB,IAFA,IAAI2L,EAAazG,EAAelF,OAAOnG,MAAMlF,MAAM,MAC/CkF,EAAQyO,EAAWqD,GACdxb,EAAI0J,EAAMpK,OAAS,EAAGU,GAAK,IAAKA,EAAG,CACxC,IAAIoY,EAAO1O,EAAM1J,GACjB,IAAKsR,EAAiB9P,KAAK4W,GAAO,CAC9B,IAAIqD,EAAcrD,EAAKsB,MAAMnI,GACzBkK,IACAH,EAAe,MAAQG,EAAY,GAC/B,IAAMA,EAAY,GAAK,IAAMA,EAAY,GAAK,KAEtD,OAIR,GAAI/R,EAAMpK,OAAS,EACf,CAAA,IAAIoc,EAAgBhS,EAAM,GAC1B,IAAS1J,EAAI,EAAGA,EAAIwb,EAAWlc,SAAUU,EAErC,GAAIwb,EAAWxb,KAAO0b,EAAe,CAC7B1b,EAAI,IACJub,EAAc,KAAOC,EAAWxb,EAAI,IAExC,QAMhB,IAAI2b,EAAM,8BAAgCrb,EACtC,WAAagb,EAAc,yDAE3BC,EACJ1X,EAAQ8O,MAAMgJ,GAAK,EAAM5G,KAic7B6G,UA7OJ,SAAmB9T,EAAgBnD,GAC/B,GAAKwO,IAAL,CAOA,IANA,IAII0I,EACAC,EALAC,EAAkBjU,EAAe4B,MAAMlF,MAAM,MAC7CwX,EAAiBrX,EAAc+E,MAAMlF,MAAM,MAC3CyX,GAAc,EACdjM,GAAa,EAGRhQ,EAAI,EAAGA,EAAI+b,EAAgBzc,SAAUU,EAE1C,GADI4M,EAAS4M,EAAcuC,EAAgB/b,IAC/B,CACR6b,EAAgBjP,EAAO+M,SACvBsC,EAAarP,EAAOwL,KACpB,MAGR,IAASpY,EAAI,EAAGA,EAAIgc,EAAe1c,SAAUU,EAAG,CAC5C,IAAI4M,EACJ,GADIA,EAAS4M,EAAcwC,EAAehc,IAC9B,CACR8b,EAAelP,EAAO+M,SACtB3J,EAAYpD,EAAOwL,KACnB,OAGJ6D,EAAa,GAAKjM,EAAY,IAAM6L,IAAkBC,GACtDD,IAAkBC,GAAgBG,GAAcjM,IAIpDuI,EAAe,SAASH,GACpB,GAAI/G,EAAqB7P,KAAK4W,GAAO,OAAO,EAC5C,IAAI8D,EAAO1C,EAAcpB,GACzB,SAAI8D,GACIA,EAAKvC,WAAakC,GACjBI,GAAcC,EAAK9D,MAAQ8D,EAAK9D,MAAQpI,OA4MrD6C,KAAMA,EACNsJ,WA/bJ,SAAoB7b,EAAM8b,GACtB,IAAIna,EAAU3B,EACV,0DAEJ,OADI8b,IAAana,GAAW,QAAUma,EAAc,aAC7CvJ,EAAK5Q,IA4bZ6N,cAAeA,EACf+D,aAAcA,EACdW,gBAAiBA,IAIjB6H,GAAe,SAASC,GAC5B,IAAIxQ,EAAUlH,EACV7D,EAAUzF,EAAIS,KACd8C,EAAWiN,EAAQjN,SACnBP,EAAWwN,EAAQxN,SAmCvB,OAjCA,SAAqBie,EAAWxY,EAAIF,GAChC,OAAO,SAASrG,GACZ,IAAIgf,EAAU3Y,EAAQ4Y,cACtBC,EAAe,IAAK,IAAI1c,EAAI,EAAGA,EAAIuc,EAAUjd,SAAUU,EAAG,CACtD,IAAI2c,EAAOJ,EAAUvc,GAErB,GAAI2c,IAAS/c,OACA,MAAR+c,GAAgBA,EAAK1f,qBAAqB2C,OAC3C,GAAIpC,aAAamf,EACb,OAAO9d,EAASkF,GAAIzG,KAAKkf,EAAShf,QAEnC,GAAoB,mBAATmf,EAAqB,CACnC,IAAIC,EAAmB/d,EAAS8d,GAAMrf,KAAKkf,EAAShf,GACpD,GAAIof,IAAqBte,EACrB,OAAOse,EACJ,GAAIA,EACP,OAAO/d,EAASkF,GAAIzG,KAAKkf,EAAShf,QAEnC,GAAIsO,EAAQrM,SAASjC,GAAI,CAE5B,IADA,IAAIzB,EAAOgF,EAAQ4b,GACV/V,EAAI,EAAGA,EAAI7K,EAAKuD,SAAUsH,EAAG,CAClC,IAAIvJ,EAAMtB,EAAK6K,GACf,GAAI+V,EAAKtf,IAAQG,EAAEH,GACf,SAASqf,EAGjB,OAAO7d,EAASkF,GAAIzG,KAAKkf,EAAShf,IAG1C,OAAO8e,KAOXO,GAAW,SAASjZ,EAASsJ,EAAqBoP,GACtD,IAAIxQ,EAAUlH,EACVkG,EAAoBlH,EAAQkH,kBAC5BxM,EAAWwN,EAAQxN,SACnBwe,EAAcT,GAAaC,GAE/B,SAASS,EAA0BlZ,EAASmZ,EAAMxF,GAC9C/b,KAAKoI,QAAUA,EACfpI,KAAKuhB,KAAOA,EACZvhB,KAAK+b,QAAUA,EACf/b,KAAKwhB,QAAS,EACdxhB,KAAKyhB,cAAgB,KAOzB,SAASC,EAA6BC,GAClC3hB,KAAK2hB,eAAiBA,EAO1B,SAASC,EAAYzM,EAAK9D,GACtB,OAAyB,MAArB8D,EAAIsM,gBACAte,UAAUU,OAAS,EACnBsR,EAAIsM,cAAc1Q,QAAQM,GAE1B8D,EAAIsM,cAAc7O,UAEtBuC,EAAIsM,cAAgB,MACb,GAKf,SAASI,IACL,OAAOF,EAAe9f,KAAK7B,KAAMA,KAAKoI,QAAQoK,UAAUqE,iBAE5D,SAASiL,EAAKzQ,GACV,IAAIuQ,EAAY5hB,KAAMqR,GAEtB,OADAxO,EAASd,EAAIsP,EACNxO,EAEX,SAAS8e,EAAeI,GACpB,IAAI3Z,EAAUpI,KAAKoI,QACf2T,EAAU/b,KAAK+b,QAEnB,IAAK/b,KAAKwhB,OAAQ,CACdxhB,KAAKwhB,QAAS,EACd,IAAI7f,EAAM3B,KAAKgiB,mBACTjG,EAAQla,KAAKuG,EAAQ4Y,eACrBjF,EAAQla,KAAKuG,EAAQ4Y,cAAee,GAC1C,GAAIpgB,IAAQkf,EACR,OAAOlf,EACJ,QAAY5B,IAAR4B,EAAmB,CAC1ByG,EAAQsO,2BACR,IAAIpD,EAAe7B,EAAoB9P,EAAKyG,GAC5C,GAAIkL,aAAwBnL,EAAS,CACjC,GAA0B,MAAtBnI,KAAKyhB,cAAuB,CAC5B,GAAInO,EAAa2O,eAAgB,CAC7B,IAAI5Q,EACA,IAAIhC,EAAkB,8BAG1B,OAFAjH,EAAQyP,kBAAkBxG,GAC1BxO,EAASd,EAAIsP,EACNxO,EACAyQ,EAAa4O,aACpB5O,EAAaiH,4BACT,IAAImH,EAA6B1hB,OAG7C,OAAOsT,EAAazC,MAChBgR,EAASC,OAAM/hB,EAAWC,UAAMD,KAKhD,OAAIqI,EAAQ+Z,cACRP,EAAY5hB,MACZ6C,EAASd,EAAIggB,EACNlf,IAEP+e,EAAY5hB,MACL+hB,GAyDf,OAjIAT,EAA0B9f,UAAUwgB,iBAAmB,WACnD,OAAqB,IAAdhiB,KAAKuhB,MAOhBG,EAA6BlgB,UAAUuS,iBAAmB,WACtD6N,EAAY5hB,KAAK2hB,iBAmErBxZ,EAAQ3G,UAAU4gB,aAAe,SAASrG,EAASwF,EAAMc,EAASP,GAC9D,MAAuB,mBAAZ/F,EAA+B/b,KAAK8J,OACxC9J,KAAK6Q,MAAMwR,EACAP,OACA/hB,EACA,IAAIuhB,EAA0BthB,KAAMuhB,EAAMxF,QAC1Chc,IAGtBoI,EAAQ3G,UAAU8gB,OAClBna,EAAQ3G,UAAmB,QAAI,SAAUua,GACrC,OAAO/b,KAAKoiB,aAAarG,EACA,EACA4F,EACAA,IAI7BxZ,EAAQ3G,UAAU+gB,IAAM,SAAUxG,GAC9B,OAAO/b,KAAKoiB,aAAarG,EAAS,EAAG4F,IAGzCxZ,EAAQ3G,UAAUghB,SAAW,SAAUC,GACnC,IAAIje,EAAMrB,UAAUU,OACpB,GAAW,IAARW,EACC,OAAOxE,KAAKoiB,aAAaK,EACA,OACA1iB,EACA4hB,GAExB,IACUpd,EADNme,EAAiB,IAAI/hB,MAAM6D,EAAM,GAClC2G,EAAI,EACR,IAAK5G,EAAI,EAAGA,EAAIC,EAAM,IAAKD,EAAG,CAC1B,IAAI2c,EAAO/d,UAAUoB,GACrB,IAAI8L,EAAQrM,SAASkd,GAGjB,OAAO/Y,EAAQuI,OAAO,IAAIlB,UACtB,6DACmCa,EAAQrJ,YAAYka,KAJ3DwB,EAAevX,KAAO+V,EAQ9BwB,EAAe7e,OAASsH,EACxB,IAAI4Q,EAAU5Y,UAAUoB,GACxB,OAAOvE,KAAKoiB,aAAaf,EAAYqB,EAAgB3G,EAAS/b,MACrC,OACAD,EACA4hB,IAK1BL,GAGHqB,GAAqBxZ,EAAKlF,iBAE1B2e,GAAqB1S,GAAOtJ,iBAGhC,SAASic,GAAehiB,GACpB,OAAOA,aAAesD,OAClBtE,EAAIY,eAAeI,KAASsD,MAAM3C,UAG1C,IAAIshB,GAAY,iCAChB,SAASC,GAAuBliB,GAC5B,IAAIc,EACJ,GAAIkhB,GAAehiB,GAAM,EACrBc,EAAM,IAAIihB,GAAmB/hB,IACzBgE,KAAOhE,EAAIgE,KACflD,EAAI6E,QAAU3F,EAAI2F,QAClB7E,EAAIsM,MAAQpN,EAAIoN,MAEhB,IADA,IAAI3N,EAAOT,EAAIS,KAAKO,GACX0D,EAAI,EAAGA,EAAIjE,EAAKuD,SAAUU,EAAG,CAClC,IAAI3C,EAAMtB,EAAKiE,GACVue,GAAU/c,KAAKnE,KAChBD,EAAIC,GAAOf,EAAIe,IAGvB,OAAOD,EAGX,OADAwH,EAAK1C,+BAA+B5F,GAC7BA,EAGX,SAASmiB,GAAmB5a,EAAS6a,GACjC,OAAO,SAASlc,EAAK9E,GACjB,GAAgB,OAAZmG,EAAJ,CACA,GAAIrB,EAAK,CACL,IAAImc,EAAUH,GAAuBJ,GAAmB5b,IACxDqB,EAAQyP,kBAAkBqL,GAC1B9a,EAAQ2I,QAAQmS,QACb,GAAKD,EAEL,CACwE,IAA3E,IAAIE,EAAQhgB,UAAUU,OAAWuf,EAAO,IAAIziB,MAAM0iB,KAAKC,IAAIH,EAAQ,EAAG,IAAaI,EAAM,EAAGA,EAAMJ,IAASI,EAAMH,EAAKG,EAAM,GAAKpgB,UAAUogB,GAAkBnb,EAAQ0I,SAASsS,QAF9Khb,EAAQ0I,SAAS7O,GAIrBmG,EAAU,OAIlB,IAAIob,GAAWR,GAEX9J,GACJ,v//DAAS/Q,EAASiI,EAAUqB,EAAqBC,EAAc+R,GAC/D,IAAIpT,EAAUlH,EACV/F,EAAWiN,EAAQjN,SAEvB+E,EAAQ+Q,OAAS,SAAUxZ,GACvB,GAAkB,mBAAPA,EACP,MAAM,IAAIyI,EAAQqH,UAAU,gCAAkCa,EAAQrJ,YAAYtH,IAEtF,OAAO,WACH,IAAIiC,EAAM,IAAIwG,EAAQiI,GACtBzO,EAAIsP,qBACJtP,EAAI8O,eACJ,IAAIxO,EAAQmB,EAAS1D,GAAIwD,MAAMlD,KAAMmD,WACjCmW,EAAiB3X,EAAIgP,cAIzB,OAHA8S,EAAM9D,sBACF1d,EAAOqX,EAAgB,iBAAkB3X,GAC7CA,EAAI+hB,sBAAsBzhB,GACnBN,IAIfwG,EAAQwb,QAAUxb,EAAa,IAAI,SAAUzI,GACzC,GAAkB,mBAAPA,EACP,OAAOgS,EAAa,gCAAkCrB,EAAQrJ,YAAYtH,IAE9E,IAGIuC,EAHAN,EAAM,IAAIwG,EAAQiI,GAItB,GAHAzO,EAAIsP,qBACJtP,EAAI8O,eAEAtN,UAAUU,OAAS,EAAG,CACtB4f,EAAM/C,WAAW,iDACjB,IAAI9U,EAAMzI,UAAU,GAChBgS,EAAMhS,UAAU,GACpBlB,EAAQoO,EAAQ3P,QAAQkL,GAAOxI,EAAS1D,GAAIwD,MAAMiS,EAAKvJ,GAC3BxI,EAAS1D,GAAImC,KAAKsT,EAAKvJ,QAEnD3J,EAAQmB,EAAS1D,EAAT0D,GAEZ,IAAIkW,EAAiB3X,EAAIgP,cAIzB,OAHA8S,EAAM9D,sBACF1d,EAAOqX,EAAgB,cAAe3X,GAC1CA,EAAI+hB,sBAAsBzhB,GACnBN,GAGXwG,EAAQ3G,UAAUkiB,sBAAwB,SAAUzhB,GAC5CA,IAAUoO,EAAQxN,SAClB7C,KAAKsR,gBAAgBrP,EAAMF,GAAG,GAE9B/B,KAAKoR,iBAAiBnP,GAAO,KAKjCsG,GAAO,SAASJ,EAASiI,EAAUqB,EAAqBgS,GAC5D,IAAIG,GAAa,EACbC,EAAa,SAASxR,EAAGtQ,GACzB/B,KAAK+Q,QAAQhP,IAGb+hB,EAAiB,SAAS/hB,EAAGuO,GAC7BA,EAAQyT,wBAAyB,EACjCzT,EAAQ0T,eAAenT,MAAMgT,EAAYA,EAAY,KAAM7jB,KAAM+B,IAGjEkiB,EAAkB,SAASC,EAAS5T,GACC,IAAd,SAAjBtQ,KAAKyS,YACPzS,KAAKoR,iBAAiBd,EAAQrN,SAIlCkhB,EAAkB,SAASpiB,EAAGuO,GACzBA,EAAQyT,wBAAwB/jB,KAAK+Q,QAAQhP,IAGtDoG,EAAQ3G,UAAU+G,KAAO,SAAU2b,GAC1BN,IACDA,GAAa,EACbzb,EAAQ3G,UAAUuQ,eAAiB0R,EAAM7H,wBACzCzT,EAAQ3G,UAAUwf,YAAcyC,EAAMzH,sBAE1C,IAAI1I,EAAe7B,EAAoByS,GACnCviB,EAAM,IAAIwG,EAAQiI,GACtBzO,EAAIoQ,eAAe/R,KAAM,GACzB,IAAIiD,EAASjD,KAAKwS,UAElB,GADA7Q,EAAI2Z,YAAYhI,GACZA,aAAwBnL,EAAS,CACjC,IAAImI,EAAU,CACVyT,wBAAwB,EACxB3b,QAASzG,EACTsB,OAAQA,EACR+gB,eAAgB1Q,GAEpBrQ,EAAO4N,MAAMT,EAAU0T,OAAgB/jB,EAAW4B,EAAK2O,GACvDgD,EAAazC,MACToT,EAAiBE,OAAiBpkB,EAAW4B,EAAK2O,GACtD3O,EAAIqQ,aAAasB,QAEjB3R,EAAIyP,iBAAiBnO,GAEzB,OAAOtB,GAGXwG,EAAQ3G,UAAU8Z,YAAc,SAAUza,QAC1Bd,IAARc,GACAb,KAAKyS,UAA6B,QAAjBzS,KAAKyS,UACtBzS,KAAKub,SAAW1a,GAEhBb,KAAKyS,mBAAYzS,KAAKyS,WAI9BtK,EAAQ3G,UAAU6Z,SAAW,WACzB,OAAsC,UAAb,QAAjBrb,KAAKyS,YAGjBtK,EAAQI,KAAO,SAAU2b,EAASjiB,GAC9B,OAAOkG,EAAQyB,QAAQ3H,GAAOsG,KAAK2b,KAInClQ,GAAS,SAAS7L,EAASyJ,EAAcF,EAAc+R,GAC3D,IAAIpT,EAAUlH,EACV/F,EAAWiN,EAAQjN,SACnBP,EAAWwN,EAAQxN,SACnB2L,EAAQrG,EAAQuN,OAEpBvN,EAAQ3G,UAAiB,MAAI2G,EAAQ3G,UAAUwS,OAAS,WACpD,IAAKyP,EAAMhI,eAAgB,OAAOzb,KAAKkX,MAAM,4BAI7C,IAFA,IAAI9O,EAAUpI,KACV4Z,EAAQxR,EACLA,EAAQyL,kBAAkB,CAC7B,IAAKzL,EAAQgc,UAAUxK,GAAQ,CACvBA,EAAMyK,eACNzK,EAAM0K,YAAYtQ,SAElB4F,EAAM2K,kBAEV,MAGJ,IAAItJ,EAAS7S,EAAQ2S,oBACrB,GAAc,MAAVE,IAAmBA,EAAOpH,iBAAkB,CACxCzL,EAAQic,eACRjc,EAAQkc,YAAYtQ,SAEpB5L,EAAQmc,kBAEZ,MAEInc,EAAQic,gBAAgBjc,EAAQkc,YAAYtQ,SAChD5L,EAAQoc,sBACR5K,EAAQxR,EACRA,EAAU6S,IAKtB9S,EAAQ3G,UAAUijB,oBAAsB,WACpCzkB,KAAKob,8BAGTjT,EAAQ3G,UAAUkjB,6BAA+B,WAC7C,YAA2C3kB,IAApCC,KAAKob,4BACLpb,KAAKob,4BAA8B,GAG9CjT,EAAQ3G,UAAU4iB,UAAY,SAASO,GACnC,OAAIA,IAAc3kB,MACdA,KAAKob,2BAA6B,EAClCpb,KAAK4kB,mBACE,IAEP5kB,KAAKykB,wBACDzkB,KAAK0kB,iCACL1kB,KAAK4kB,mBACE,KAMnBzc,EAAQ3G,UAAU+iB,gBAAkB,WAC5BvkB,KAAK0kB,gCACL1kB,KAAK4S,WAIbzK,EAAQ3G,UAAUoR,QAAU,WACnB5S,KAAK6T,mBACV7T,KAAK6kB,gBACLrW,EAAMH,OAAOrO,KAAK8kB,gBAAiB9kB,UAAMD,KAG7CoI,EAAQ3G,UAAUsjB,gBAAkB,WAC5B9kB,KAAKuL,UAAY,GAAGvL,KAAKuN,mBAGjCpF,EAAQ3G,UAAUujB,eAAiB,WAC/B/kB,KAAK4a,oBAAiB7a,GAG1BoI,EAAQ3G,UAAUqS,eAAiB,WAC/B,OAAO7T,KAAKkiB,cAAgBliB,KAAKiiB,gBAGrC9Z,EAAQ3G,UAAUwjB,cAAgB,WAC9B,OAAOhlB,KAAKkiB,cAAgBliB,KAAKilB,eAGrC9c,EAAQ3G,UAAU0jB,kBAAoB,SAASC,EAAkBC,GAC7D,GAAI/U,EAAQ3P,QAAQykB,GAChB,IAAK,IAAI5gB,EAAI,EAAGA,EAAI4gB,EAAiBthB,SAAUU,EAC3CvE,KAAKklB,kBAAkBC,EAAiB5gB,GAAI6gB,QAE7C,QAAyBrlB,IAArBolB,EACP,GAAgC,mBAArBA,GACP,IAAKC,EAAc,CACf,IAAIrjB,EAAIqB,EAAS+hB,GAAkBtjB,KAAK7B,KAAKghB,eACzCjf,IAAMc,IACN7C,KAAK6X,kBAAkB9V,EAAEA,GACzByM,EAAML,WAAWpM,EAAEA,UAI3BojB,EAAiBpR,iBAAiB/T,OAK9CmI,EAAQ3G,UAAUojB,gBAAkB,WAChC,IAAIO,EAAmBnlB,KAAK0a,YAC5B1a,KAAK+kB,iBACLvW,EAAMH,OAAOrO,KAAKklB,kBAAmBllB,KAAMmlB,IAG/Chd,EAAQ3G,UAAU6jB,wBAA0B,WACpCrlB,KAAK6T,mBACL7T,KAAKklB,kBAAkBllB,KAAK0a,aAAa,GACzC1a,KAAK+kB,mBAIb5c,EAAQ3G,UAAUuS,iBAAmB,WACjC/T,KAAKgU,WAKLsR,GAAiB,SAASnd,GAC9B,SAASod,IACL,OAAOvlB,KAAKiC,MAEhB,SAAS+C,IACL,MAAMhF,KAAKqR,OAGflJ,EAAQ3G,UAAkB,OAC1B2G,EAAQ3G,UAAUgkB,WAAa,SAAUvjB,GAErC,OADIA,aAAiBkG,GAASlG,EAAMsR,8BAC7BvT,KAAK6Q,MACR0U,OAAUxlB,OAAWA,EAAW,CAACkC,MAAOA,QAAQlC,IAGxDoI,EAAQ3G,UAAiB,MACzB2G,EAAQ3G,UAAUikB,UAAY,SAAUpU,GACpC,OAAOrR,KAAK6Q,MACR7L,OAASjF,OAAWA,EAAW,CAACsR,OAAQA,QAAStR,IAGzDoI,EAAQ3G,UAAUkkB,WAAa,SAAUrU,GACrC,GAAIlO,UAAUU,QAAU,EACpB,OAAO7D,KAAK6Q,WACR9Q,EAAWiF,OAASjF,EAAW,CAACsR,OAAQA,QAAStR,GAErD,IAAI4S,EAAUxP,UAAU,GAExB,OAAOnD,KAAK2lB,OAAOtU,EADL,WAAY,MAAMsB,KAKxCxK,EAAQ3G,UAAUokB,YAAc,SAAU3jB,GACtC,GAAIkB,UAAUU,QAAU,EAEpB,OADI5B,aAAiBkG,GAASlG,EAAMsR,8BAC7BvT,KAAK6Q,WACR9Q,EAAWwlB,OAAUxlB,EAAW,CAACkC,MAAOA,QAAQlC,GAEpD,IAAI8S,EAAS1P,UAAU,GACnB0P,aAAkB1K,GAAS0K,EAAOU,8BAEtC,OAAOvT,KAAK2lB,OAAO1jB,EADL,WAAY,OAAO4Q,MAMrCgT,GAAyB,SAAS1d,GACtC,SAAS2d,EAAkB1d,QACPrI,IAAZqI,GACAA,EAAUA,EAAQoK,UAClBxS,KAAKyS,UAAYrK,EAAQqK,UACzBzS,KAAK+lB,mBAAqB3d,EAAQ4d,gBAC5B5d,EAAQyO,qBAAkB9W,IAGhCC,KAAKyS,UAAY,EACjBzS,KAAK+lB,wBAAqBhmB,GAIlC+lB,EAAkBtkB,UAAUqV,cAAgB,WACxC,OAAO7W,KAAK+lB,oBAGhB,IAAI9jB,EAAQ6jB,EAAkBtkB,UAAUS,MAAQ,WAC5C,IAAKjC,KAAKic,cACN,MAAM,IAAIzM,UAAU,6FAExB,OAAOxP,KAAK6W,iBAGZxF,EAASyU,EAAkBtkB,UAAU0a,MACzC4J,EAAkBtkB,UAAU6P,OAAS,WACjC,IAAKrR,KAAKmiB,aACN,MAAM,IAAI3S,UAAU,2FAExB,OAAOxP,KAAK6W,iBAGZoF,EAAc6J,EAAkBtkB,UAAUya,YAAc,WACxD,OAAuC,IAAd,SAAjBjc,KAAKyS,YAGb0P,EAAa2D,EAAkBtkB,UAAU2gB,WAAa,WACtD,OAAuC,IAAd,SAAjBniB,KAAKyS,YAGbyP,EAAY4D,EAAkBtkB,UAAU0gB,UAAY,WACpD,OAAuC,IAAd,SAAjBliB,KAAKyS,YAGbY,EAAayS,EAAkBtkB,UAAU6R,WAAa,WACtD,OAAuC,IAAd,SAAjBrT,KAAKyS,YAGjBqT,EAAkBtkB,UAAUyjB,YAAc,WACtC,OAAsC,IAAb,QAAjBjlB,KAAKyS,YAGjBtK,EAAQ3G,UAAUykB,cAAgB,WAC9B,OAAoC,QAAX,MAAjBjmB,KAAKyS,YAGjBtK,EAAQ3G,UAAUygB,aAAe,WAC7B,OAAOjiB,KAAKwS,UAAUyT,iBAG1B9d,EAAQ3G,UAAUyjB,YAAc,WAC5B,OAAgD,IAAb,QAA3BjlB,KAAKwS,UAAUC,YAG3BtK,EAAQ3G,UAAU0gB,UAAY,WAC1B,OAAOA,EAAUrgB,KAAK7B,KAAKwS,YAG/BrK,EAAQ3G,UAAU2gB,WAAa,WAC3B,OAAOA,EAAWtgB,KAAK7B,KAAKwS,YAGhCrK,EAAQ3G,UAAUya,YAAc,WAC5B,OAAOA,EAAYpa,KAAK7B,KAAKwS,YAGjCrK,EAAQ3G,UAAU6R,WAAa,WAC3B,OAAOA,EAAWxR,KAAK7B,KAAKwS,YAGhCrK,EAAQ3G,UAAUS,MAAQ,WACtB,OAAOA,EAAMJ,KAAK7B,KAAKwS,YAG3BrK,EAAQ3G,UAAU6P,OAAS,WACvB,IAAIpO,EAASjD,KAAKwS,UAElB,OADAvP,EAAOgU,6BACA5F,EAAOxP,KAAKoB,IAGvBkF,EAAQ3G,UAAUqR,OAAS,WACvB,OAAO7S,KAAK6W,iBAGhB1O,EAAQ3G,UAAUmR,QAAU,WAExB,OADA3S,KAAKiX,6BACEjX,KAAK6W,iBAGhB1O,EAAQ2d,kBAAoBA,GAGxBhW,GACJ,SAAS3H,EAASyJ,EAAcH,EAAqBrB,EAAU5B,EACtDgH,GACT,IAII9E,EAJAL,EAAUlH,EACVxG,EAAc0N,EAAQ1N,YACtBS,EAAWiN,EAAQjN,SACnBP,EAAWwN,EAAQxN,SAIvB,GAAIF,EAAa,CAwFb,IAvFA,IAAIujB,EAAe,SAAS3hB,GACxB,OAAO,IAAIa,SAAS,QAAS,SAAU,2RAIjC2X,QAAQ,SAAUxY,KAGxB4hB,EAAgB,SAAS5hB,GACzB,OAAO,IAAIa,SAAS,UAAW,SAAU,0MAGnC2X,QAAQ,SAAUxY,KAGxB6hB,EAAsB,SAASC,GAE/B,IADA,IAAIC,EAAQ,IAAI3lB,MAAM0lB,GACb9hB,EAAI,EAAGA,EAAI+hB,EAAMziB,SAAUU,EAChC+hB,EAAM/hB,GAAK,UAAYA,EAAE,GAE7B,IAAIgiB,EAAaD,EAAMxW,KAAK,OAAS,WACjC0W,EAAkB,iBAAmBF,EAAMtd,IAAI,SAASlI,GACxD,MAAO,wFACWA,EAAO,uSAK1BgP,KAAK,MACJ2W,EAAkBH,EAAMxW,KAAK,MAC7BjL,EAAO,UAAYwhB,EAGnBK,EAAO,i7FA8CX,OANAA,EAAOA,EAAK3J,QAAQ,eAAgBlY,GAC/BkY,QAAQ,gBAAiBsJ,GACzBtJ,QAAQ,0BAA2B0J,GACnC1J,QAAQ,qBAAsBwJ,GAC9BxJ,QAAQ,wBAAyByJ,GAE/B,IAAIphB,SAAS,WAAY,WAAY,UAAW,QAASshB,EAAzD,CACatjB,EAAUP,EAAUsF,EAASqG,IAGjDmY,EAAgB,GAChBC,EAAgB,GAChBC,EAAiB,GAEZtiB,EAAI,EAAGA,EAAI,IAAKA,EACrBoiB,EAAc7kB,KAAKskB,EAAoB7hB,EAAI,IAC3CqiB,EAAc9kB,KAAKokB,EAAa3hB,EAAI,IACpCsiB,EAAe/kB,KAAKqkB,EAAc5hB,EAAI,IAG1CmM,EAAS,SAAUW,GACfrR,KAAK+Q,QAAQM,IAIrBlJ,EAAQ2H,KAAO,WACX,IACIpQ,EADAonB,EAAO3jB,UAAUU,OAAS,EAE9B,GAAIijB,EAAO,GAAgC,mBAApB3jB,UAAU2jB,KAC7BpnB,EAAKyD,UAAU2jB,GAEPA,GAAQ,GAAKnkB,GAAa,EACtBhB,EAAM,IAAIwG,EAAQiI,IAClBa,qBAKJ,IAJA,IACI8V,EAAS,IAAIC,EADCL,EAAcG,EAAO,IACVpnB,GACzBunB,EAAYL,EAEPriB,EAAI,EAAGA,EAAIuiB,IAAQviB,EAAG,CAC3B,IAAI+O,EAAe7B,EAAoBtO,UAAUoB,GAAI5C,GACrD,GAAI2R,aAAwBnL,EAAS,CAEjC,IAAIoK,GADJe,EAAeA,EAAad,WACAC,UACG,IAAd,SAAXF,IACFe,EAAazC,MAAMoW,EAAU1iB,GAAImM,OACd3Q,EAAW4B,EAAKolB,GACnCF,EAAetiB,GAAG+O,EAAcyT,GAChCA,EAAOG,aAAc,GACa,IAAd,SAAX3U,GACT0U,EAAU1iB,GAAG1C,KAAKF,EACA2R,EAAaT,SAAUkU,GACP,IAAd,SAAXxU,GACT5Q,EAAIoP,QAAQuC,EAAaX,WAEzBhR,EAAIiR,eAGRqU,EAAU1iB,GAAG1C,KAAKF,EAAK2R,EAAcyT,GAI7C,IAAKplB,EAAIqkB,gBAAiB,CACtB,GAAIe,EAAOG,YAAa,CACpB,IAAI5P,EAAS9B,IACE,OAAX8B,IACAyP,EAAOrnB,GAAK2Q,EAAQhI,WAAWiP,EAAQyP,EAAOrnB,KAGtDiC,EAAI+Q,sBACJ/Q,EAAIqQ,aAAa+U,GAErB,OAAOplB,EAIuC,IAA1D,IAAIwhB,EAAQhgB,UAAUU,OAAWuf,EAAO,IAAIziB,MAAMwiB,GAAgBI,EAAM,EAAGA,EAAMJ,IAASI,EAAMH,EAAKG,GAAOpgB,UAAUogB,GAAc7jB,GAAI0jB,EAAKzO,MAC7I,IAAIhT,EAAM,IAAIiQ,EAAawR,GAAMhb,UACjC,YAAcrI,IAAPL,EAAmBiC,EAAIwlB,OAAOznB,GAAMiC,IAK3CqH,GAAM,SAASb,EACOyJ,EACAF,EACAD,EACArB,EACAqT,GAC1B,IAAIjO,EAAYrN,EAAQsN,WACpBpF,EAAUlH,EACV/F,EAAWiN,EAAQjN,SACnBP,EAAWwN,EAAQxN,SACnB2L,EAAQrG,EAAQuN,OAEpB,SAAS0R,EAAoBC,EAAU3nB,EAAI4nB,EAAOC,GAC9CvnB,KAAK2D,aAAa0jB,GAClBrnB,KAAK8R,SAASb,qBACd,IAAIqG,EAAS9B,IACbxV,KAAKwnB,UAAuB,OAAXlQ,EAAkB5X,EAAK2Q,EAAQhI,WAAWiP,EAAQ5X,GACnEM,KAAKynB,iBAAmBF,IAAYnX,EAC9B,IAAIzP,MAAMX,KAAK6D,UACf,KACN7D,KAAK0nB,OAASJ,EACdtnB,KAAK2nB,UAAY,EACjB3nB,KAAK4nB,OAAS,GACdpZ,EAAMH,OAAOrO,KAAK6nB,WAAY7nB,UAAMD,GA4GxC,SAASiJ,EAAIqe,EAAU3nB,EAAIooB,EAASP,GAChC,GAAkB,mBAAP7nB,EACP,OAAOgS,EAAa,gCAAkCrB,EAAQrJ,YAAYtH,IAG9E,IAAI4nB,EAAQ,EACZ,QAAgBvnB,IAAZ+nB,EAAuB,CACvB,GAAuB,iBAAZA,GAAoC,OAAZA,EAQ/B,OAAO3f,EAAQuI,OAAO,IAAIlB,UACV,gDACCa,EAAQrJ,YAAY8gB,KATrC,GAAmC,iBAAxBA,EAAQC,YACf,OAAO5f,EAAQuI,OACX,IAAIlB,UAAU,4CACEa,EAAQrJ,YAAY8gB,EAAQC,eAEpDT,EAAQQ,EAAQC,YASxB,OAAO,IAAIX,EAAoBC,EAAU3nB,EAFzC4nB,EAAyB,iBAAVA,GACXU,SAASV,IAAUA,GAAS,EAAIA,EAAQ,EACQC,GAASnf,UAhIjEiI,EAAQhN,SAAS+jB,EAAqBxV,GAEtCwV,EAAoB5lB,UAAUqmB,WAAa,WACvC7nB,KAAKioB,YAAOloB,GAAY,IAG5BqnB,EAAoB5lB,UAAU2Q,MAAQ,aAEtCiV,EAAoB5lB,UAAUiS,kBAAoB,SAAUxR,EAAO6R,GAC/D,IAAIjC,EAAS7R,KAAKiS,QACdpO,EAAS7D,KAAK6D,SACdqkB,EAAkBloB,KAAKynB,iBACvBH,EAAQtnB,KAAK0nB,OAEjB,GAAI5T,EAAQ,GAGR,GADAjC,EADAiC,GAAkB,EAATA,EAAc,GACP7R,EACZqlB,GAAS,IACTtnB,KAAK2nB,YACL3nB,KAAKoN,cACDpN,KAAK4T,eAAe,OAAO,MAEhC,CACH,GAAI0T,GAAS,GAAKtnB,KAAK2nB,WAAaL,EAGhC,OAFAzV,EAAOiC,GAAS7R,EAChBjC,KAAK4nB,OAAO9lB,KAAKgS,IACV,EAEa,OAApBoU,IAA0BA,EAAgBpU,GAAS7R,GAEvD,IAAImG,EAAUpI,KAAK8R,SACfqW,EAAWnoB,KAAKwnB,UAChB1b,EAAW1D,EAAQ4Y,cACvB5Y,EAAQqI,eACR,IAAI9O,EAAMyB,EAAS+kB,GAAUtmB,KAAKiK,EAAU7J,EAAO6R,EAAOjQ,GACtDyV,EAAiBlR,EAAQuI,cAO7B,GANA8S,EAAM9D,sBACFhe,EACA2X,EACoB,OAApB4O,EAA2B,iBAAmB,cAC9C9f,GAEAzG,IAAQkB,EAER,OADA7C,KAAK+Q,QAAQpP,EAAII,IACV,EAGX,IAAIuR,EAAe7B,EAAoB9P,EAAK3B,KAAK8R,UACjD,GAAIwB,aAAwBnL,EAAS,CAEjC,IAAIoK,GADJe,EAAeA,EAAad,WACAC,UAC5B,GAA+B,IAAd,SAAXF,GAIF,OAHI+U,GAAS,GAAGtnB,KAAK2nB,YACrB9V,EAAOiC,GAASR,EAChBA,EAAaE,OAAOxT,MAAqB,GAAd8T,EAAQ,KAC5B,EACJ,GAA+B,IAAd,SAAXvB,GAEN,OAA+B,IAAd,SAAXA,IACTvS,KAAK+Q,QAAQuC,EAAaX,YACnB,IAEP3S,KAAK4S,WACE,GANPjR,EAAM2R,EAAaT,SAS3BhB,EAAOiC,GAASnS,EAGpB,QADsB3B,KAAKkS,gBACNrO,IACO,OAApBqkB,EACAloB,KAAKunB,QAAQ1V,EAAQqW,GAErBloB,KAAKgT,SAASnB,IAEX,IAKfuV,EAAoB5lB,UAAU4L,YAAc,WAIxC,IAHA,IAAIhB,EAAQpM,KAAK4nB,OACbN,EAAQtnB,KAAK0nB,OACb7V,EAAS7R,KAAKiS,QACX7F,EAAMvI,OAAS,GAAK7D,KAAK2nB,UAAYL,GAAO,CAC/C,GAAItnB,KAAK4T,cAAe,OACxB,IAAIE,EAAQ1H,EAAMuI,MAClB3U,KAAKyT,kBAAkB5B,EAAOiC,GAAQA,KAI9CsT,EAAoB5lB,UAAU+lB,QAAU,SAAUa,EAAUvW,GAIxD,IAHA,IAAIrN,EAAMqN,EAAOhO,OACblC,EAAM,IAAIhB,MAAM6D,GAChB2G,EAAI,EACC5G,EAAI,EAAGA,EAAIC,IAAOD,EACnB6jB,EAAS7jB,KAAI5C,EAAIwJ,KAAO0G,EAAOtN,IAEvC5C,EAAIkC,OAASsH,EACbnL,KAAKgT,SAASrR,IAGlBylB,EAAoB5lB,UAAU0mB,gBAAkB,WAC5C,OAAOloB,KAAKynB,kBA4BhBtf,EAAQ3G,UAAUwH,IAAM,SAAUtJ,EAAIooB,GAClC,OAAO9e,EAAIhJ,KAAMN,EAAIooB,EAAS,OAGlC3f,EAAQa,IAAM,SAAUqe,EAAU3nB,EAAIooB,EAASP,GAC3C,OAAOve,EAAIqe,EAAU3nB,EAAIooB,EAASP,KAMlCc,GAAKnoB,OAAOsF,OAChB,GAAI6iB,GAAI,CACJ,IAAIC,GAAcD,GAAG,MACjBE,GAAcF,GAAG,MACrBC,GAAY,SAAWC,GAAY,SAAW,EAGlD,IAAIC,GAAW,SAASrgB,GACxB,IAIIsgB,EACAC,EALArY,EAAUlH,EACVxG,EAAc0N,EAAQ1N,YACtBuD,EAAemK,EAAQnK,aAKvByiB,EAAmB,SAAU1P,GAC7B,OAAO,IAAI7T,SAAS,eAAgB,ojCAc9B2X,QAAQ,cAAe9D,GAdtB,CAcmC2P,IAG1CC,EAAa,SAAUnlB,GACvB,OAAO,IAAI0B,SAAS,MAAO,wNAGrB2X,QAAQ,eAAgBrZ,KAG9BolB,EAAc,SAASjkB,EAAMkkB,EAAUC,GACvC,IAAIrnB,EAAMqnB,EAAMnkB,GAChB,GAAmB,mBAARlD,EAAoB,CAC3B,IAAKuE,EAAarB,GACd,OAAO,KAKX,GAHAlD,EAAMonB,EAASlkB,GACfmkB,EAAMnkB,GAAQlD,EACdqnB,EAAM,WACFA,EAAM,SAAW,IAAK,CAEtB,IADA,IAAI1oB,EAAOJ,OAAOI,KAAK0oB,GACdzkB,EAAI,EAAGA,EAAI,MAAOA,SAAUykB,EAAM1oB,EAAKiE,IAChDykB,EAAM,SAAW1oB,EAAKuD,OAAS,KAGvC,OAAOlC,GAYX,SAASinB,EAAa/nB,EAAKoY,GACvB,IAAIvZ,EAEJ,GADW,MAAPmB,IAAanB,EAAKmB,EAAIoY,IACR,mBAAPvZ,EAAmB,CAC1B,IAAI8G,EAAU,UAAY6J,EAAQrJ,YAAYnG,GAAO,mBACjDwP,EAAQhP,SAAS4X,GAAc,IACnC,MAAM,IAAI9Q,EAAQqH,UAAUhJ,GAEhC,OAAO9G,EAGX,SAASupB,EAAOpoB,GAGZ,OADS+nB,EAAa/nB,EADLb,KAAK2U,OAEZzR,MAAMrC,EAAKb,MAgBzB,SAASkpB,EAAYroB,GACjB,OAAOA,EAAIb,MAEf,SAASmpB,EAActoB,GACnB,IAAIiT,GAAS9T,KAEb,OADI8T,EAAQ,IAAGA,EAAQuP,KAAKC,IAAI,EAAGxP,EAAQjT,EAAIgD,SACxChD,EAAIiT,GA7Cf2U,EAAkB,SAAS5jB,GACvB,OAAOikB,EAAYjkB,EAAM8jB,EAAkBL,KAG/CI,EAAY,SAAS7jB,GACjB,OAAOikB,EAAYjkB,EAAMgkB,EAAYN,KAoBzCpgB,EAAQ3G,UAAUK,KAAO,SAAUoX,GAC4C,IAA3E,IAAIkK,EAAQhgB,UAAUU,OAAWuf,EAAO,IAAIziB,MAAM0iB,KAAKC,IAAIH,EAAQ,EAAG,IAAaI,EAAM,EAAGA,EAAMJ,IAASI,EAAMH,EAAKG,EAAM,GAAKpgB,UAAUogB,GACvI,GAAI5gB,EAAa,CACb,IAAIymB,EAAcX,EAAgBxP,GAClC,GAAoB,OAAhBmQ,EACA,OAAOppB,KAAK6Q,MACRuY,OAAarpB,OAAWA,EAAWqjB,OAAMrjB,GAKzD,OADAqjB,EAAKthB,KAAKmX,GACHjZ,KAAK6Q,MAAMoY,OAAQlpB,OAAWA,EAAWqjB,OAAMrjB,IAW1DoI,EAAQ3G,UAAUmD,IAAM,SAAUjB,GAC9B,IACI2lB,EACJ,GAFuC,iBAAjB3lB,EAUlB2lB,EAASF,OAPT,GAAIxmB,EAAa,CACb,IAAI2mB,EAAcZ,EAAUhlB,GAC5B2lB,EAAyB,OAAhBC,EAAuBA,EAAcJ,OAE9CG,EAASH,EAKjB,OAAOlpB,KAAK6Q,MAAMwY,OAAQtpB,OAAWA,EAAW2D,OAAc3D,KAI9DwpB,GAAQ,SAAUphB,EAASuJ,EAAcD,EACzC+X,EAAepZ,EAAUqT,GACzB,IAAIpT,EAAUlH,EACVqG,EAAYU,GAAOV,UACnBnM,EAAW8F,EAAK9F,SAChBR,EAAWwN,EAAQxN,SACnBO,EAAWiN,EAAQjN,SACnBqmB,EAAO,GAEX,SAASzkB,EAAQjD,GACbkI,WAAW,WAAW,MAAMlI,GAAK,GAarC,SAAS2nB,EAAQC,EAAWC,GACxB,IAAIrlB,EAAI,EACJC,EAAMmlB,EAAU9lB,OAChBlC,EAAM,IAAIwG,EAAQiI,GAqBtB,OApBA,SAAS5I,IACL,GAAIjD,GAAKC,EAAK,OAAO7C,EAAImP,WACzB,IAAIwC,EAhBZ,SAAkCuW,GAC9B,IAAIvW,EAAe7B,EAAoBoY,GAOvC,OANIvW,IAAiBuW,GACiB,mBAA3BA,EAASC,eACiB,mBAA1BD,EAASE,cAChBF,EAASC,iBACTxW,EAAa0W,eAAeH,EAASE,gBAElCzW,EAQgB2W,CAAyBN,EAAUplB,MACtD,GAAI+O,aAAwBnL,GACxBmL,EAAawW,gBAAiB,CAC9B,IACIxW,EAAe7B,EACX6B,EAAayW,eAAeG,WAAWN,GACvCD,EAAUvhB,SAChB,MAAOrG,GACL,OAAOiD,EAAQjD,GAEnB,GAAIuR,aAAwBnL,EACxB,OAAOmL,EAAazC,MAAMrJ,EAAUxC,EACV,KAAM,KAAM,MAG9CwC,IAEJA,GACO7F,EAGX,SAASwoB,EAASC,EAAMhiB,EAASkI,GAC7BtQ,KAAKqqB,MAAQD,EACbpqB,KAAK8R,SAAW1J,EAChBpI,KAAKsqB,SAAWha,EAoCpB,SAASia,EAAiB7qB,EAAI0I,EAASkI,GACnCtQ,KAAK2D,aAAajE,EAAI0I,EAASkI,GASnC,SAASka,EAAoBvoB,GACzB,OAAIkoB,EAASM,WAAWxoB,IACpBjC,KAAK2pB,UAAU3pB,KAAK8T,OAAOkW,eAAe/nB,GACnCA,EAAMmG,WAEVnG,EAGX,SAASyoB,EAAa7mB,GAClB7D,KAAK6D,OAASA,EACd7D,KAAKoI,QAAU,KACfpI,KAAK6D,EAAO,GAAK,KAtDrBsmB,EAAS3oB,UAAU4oB,KAAO,WACtB,OAAOpqB,KAAKqqB,OAGhBF,EAAS3oB,UAAU4G,QAAU,WACzB,OAAOpI,KAAK8R,UAGhBqY,EAAS3oB,UAAUmpB,SAAW,WAC1B,OAAI3qB,KAAKoI,UAAU6T,cACRjc,KAAKoI,UAAUnG,QAEnBwnB,GAGXU,EAAS3oB,UAAU0oB,WAAa,SAASN,GACrC,IAAIe,EAAW3qB,KAAK2qB,WAChBra,EAAUtQ,KAAKsqB,cACHvqB,IAAZuQ,GAAuBA,EAAQG,eACnC,IAAI9O,EAAMgpB,IAAalB,EACjBzpB,KAAK4qB,UAAUD,EAAUf,GAAc,KAI7C,YAHgB7pB,IAAZuQ,GAAuBA,EAAQK,cACnC3Q,KAAK8R,SAAS+Y,mBACd7qB,KAAKqqB,MAAQ,KACN1oB,GAGXwoB,EAASM,WAAa,SAAUK,GAC5B,OAAa,MAALA,GACsB,mBAAfA,EAAEH,UACe,mBAAjBG,EAAEZ,YAMrB7mB,EAASknB,EAAkBJ,GAE3BI,EAAiB/oB,UAAUopB,UAAY,SAAUD,EAAUf,GAEvD,OADS5pB,KAAKoqB,OACJvoB,KAAK8oB,EAAUA,EAAUf,IAiBvCc,EAAalpB,UAAUuS,iBAAmB,WAEtC,IADA,IAAIvP,EAAMxE,KAAK6D,OACNU,EAAI,EAAGA,EAAIC,IAAOD,EAAG,CAC1B,IAAI2c,EAAOlhB,KAAKuE,GACZ2c,aAAgB/Y,GAChB+Y,EAAKlN,WAKjB7L,EAAQohB,MAAQ,WACZ,IAAI/kB,EAAMrB,UAAUU,OACpB,GAAIW,EAAM,EAAG,OAAOkN,EACJ,uDAChB,IAIIqZ,EAJArrB,EAAKyD,UAAUqB,EAAM,GACzB,GAAkB,mBAAP9E,EACP,OAAOgS,EAAa,gCAAkCrB,EAAQrJ,YAAYtH,IAG9E,IAAIsrB,GAAa,EACL,IAARxmB,GAAa7D,MAAMD,QAAQyC,UAAU,KAErCqB,GADAumB,EAAQ5nB,UAAU,IACNU,OACZmnB,GAAa,IAEbD,EAAQ5nB,UACRqB,KAGJ,IADA,IAAImlB,EAAY,IAAIe,EAAalmB,GACxBD,EAAI,EAAGA,EAAIC,IAAOD,EAAG,CAC1B,IAAIomB,EAAWI,EAAMxmB,GACrB,GAAI4lB,EAASM,WAAWE,GAAW,CAC/B,IAAIM,EAAWN,GACfA,EAAWA,EAASviB,WACX4hB,eAAeiB,OACrB,CACH,IAAI3X,EAAe7B,EAAoBkZ,GACnCrX,aAAwBnL,IACxBwiB,EACIrX,EAAazC,MAAM2Z,EAAqB,KAAM,KAAM,CAChDb,UAAWA,EACX7V,MAAOvP,QACZxE,IAGX4pB,EAAUplB,GAAKomB,EAGnB,IAAIO,EAAqB,IAAIvqB,MAAMgpB,EAAU9lB,QAC7C,IAASU,EAAI,EAAGA,EAAI2mB,EAAmBrnB,SAAUU,EAC7C2mB,EAAmB3mB,GAAK4D,EAAQyB,QAAQ+f,EAAUplB,IAAI4mB,UAG1D,IAAIC,EAAgBjjB,EAAQkjB,IAAIH,GAC3BphB,KAAK,SAASwhB,GACX,IAAK,IAAI/mB,EAAI,EAAGA,EAAI+mB,EAAYznB,SAAUU,EAAG,CACzC,IAAIqlB,EAAa0B,EAAY/mB,GAC7B,GAAIqlB,EAAWzH,aAEX,OADAtf,EAASd,EAAI6nB,EAAW1N,QACjBrZ,EACJ,IAAK+mB,EAAW3N,cAEnB,YADAmP,EAAcpX,SAGlBsX,EAAY/mB,GAAKqlB,EAAW3nB,QAEhCmG,EAAQqI,eAER/Q,EAAK0D,EAAS1D,GACd,IAAIiC,EAAMqpB,EACJtrB,EAAGwD,WAAMnD,EAAWurB,GAAe5rB,EAAG4rB,GACxChS,EAAiBlR,EAAQuI,cAG7B,OAFA8S,EAAM9D,sBACFhe,EAAK2X,EAAgB,gBAAiBlR,GACnCzG,IAGXyG,EAAUgjB,EAAc9I,OAAO,WAC/B,IAAIsH,EAAa,IAAIzhB,EAAQ2d,kBAAkBsF,GAC/C,OAAO1B,EAAQC,EAAWC,KAI9B,OAFAD,EAAUvhB,QAAUA,EACpBA,EAAQ4J,aAAa2X,GACdvhB,GAGXD,EAAQ3G,UAAUwoB,eAAiB,SAAUiB,GACzCjrB,KAAKyS,UAA6B,OAAjBzS,KAAKyS,UACtBzS,KAAKurB,UAAYN,GAGrB9iB,EAAQ3G,UAAUsoB,cAAgB,WAC9B,OAAyB,OAAjB9pB,KAAKyS,WAAsB,GAGvCtK,EAAQ3G,UAAUuoB,aAAe,WAC7B,OAAO/pB,KAAKurB,WAGhBpjB,EAAQ3G,UAAUqpB,iBAAmB,WACjC7qB,KAAKyS,kBAAYzS,KAAKyS,UACtBzS,KAAKurB,eAAYxrB,GAGrBoI,EAAQ3G,UAAUypB,SAAW,SAAUvrB,GACnC,GAAkB,mBAAPA,EACP,OAAO,IAAI6qB,EAAiB7qB,EAAIM,KAAMwpB,KAE1C,MAAM,IAAIha,IAKdgc,GAAS,SAASrjB,EAASiI,EAAUqT,GACzC,IAAIpT,EAAUlH,EACVmG,EAAenH,EAAQmH,aAE3B,SAASmc,EAAcC,GACnB1rB,KAAK0rB,OAASA,EAGlBD,EAAcjqB,UAAUuS,iBAAmB,WACvC4X,aAAa3rB,KAAK0rB,SAGtB,IAAIE,EAAa,SAAS3pB,GAAS,OAAO4pB,GAAO7rB,MAAMwlB,WAAWvjB,IAC9D4pB,EAAQ1jB,EAAQ0jB,MAAQ,SAAUC,EAAI7pB,GACtC,IAAIN,EACA+pB,EAgBJ,YAfc3rB,IAAVkC,GACAN,EAAMwG,EAAQyB,QAAQ3H,GACb4O,MAAM+a,EAAY,KAAM,KAAME,OAAI/rB,GACvC0jB,EAAMhI,gBAAkBxZ,aAAiBkG,GACzCxG,EAAIqQ,aAAa/P,KAGrBN,EAAM,IAAIwG,EAAQiI,GAClBsb,EAASzhB,WAAW,WAAatI,EAAImP,aAAgBgb,GACjDrI,EAAMhI,gBACN9Z,EAAIqQ,aAAa,IAAIyZ,EAAcC,IAEvC/pB,EAAIsP,sBAERtP,EAAI+Q,sBACG/Q,GAGXwG,EAAQ3G,UAAUqqB,MAAQ,SAAUC,GAChC,OAAOD,EAAMC,EAAI9rB,OAuBrB,SAAS+rB,EAAa9pB,GAElB,OADA0pB,aAAa3rB,KAAK0rB,QACXzpB,EAGX,SAAS+pB,EAAa3a,GAElB,MADAsa,aAAa3rB,KAAK0rB,QACZra,EAGVlJ,EAAQ3G,UAAUyqB,QAAU,SAAUH,EAAItlB,GAEtC,IAAI7E,EAAKsZ,EADT6Q,GAAMA,EAGN,IAAII,EAAgB,IAAIT,EAAcxhB,WAAW,WACzCtI,EAAIugB,aAnCG,SAAU9Z,EAAS5B,EAASyU,GAC3C,IAAIlU,EAGIA,EAFe,iBAAZP,EACHA,aAAmBrC,MACbqC,EAEA,IAAI8I,EAAa,uBAGrB,IAAIA,EAAa9I,GAE3B6J,EAAQ5J,+BAA+BM,GACvCqB,EAAQyP,kBAAkB9Q,GAC1BqB,EAAQ2I,QAAQhK,GAEF,MAAVkU,GACAA,EAAOjH,SAoBHmY,CAAaxqB,EAAK6E,EAASyU,IAEhC6Q,IAYH,OAVIrI,EAAMhI,gBACNR,EAASjb,KAAK8J,QACdnI,EAAMsZ,EAAOpK,MAAMkb,EAAcC,OACbjsB,EAAWmsB,OAAensB,IAC1CiS,aAAaka,IAEjBvqB,EAAM3B,KAAK6Q,MAAMkb,EAAcC,OACXjsB,EAAWmsB,OAAensB,GAG3C4B,IAKPyqB,GAAa,SAASjkB,EACAuJ,EACAtB,EACAqB,EACAE,EACA8R,GAC1B,IACIjU,EADYU,GACUV,UACtBa,EAAUlH,EACVtG,EAAWwN,EAAQxN,SACnBO,EAAWiN,EAAQjN,SACnBipB,EAAgB,GAmBpB,SAASC,EAAaC,EAAmBzgB,EAAU0gB,EAAcve,GAC7D,GAAIwV,EAAMhI,eAAgB,CACtB,IAAIgR,EAAW,IAAItkB,EAAQiI,GACvBsc,EAAkB1sB,KAAK0sB,gBAAkB,IAAIvkB,EAAQiI,GACzDpQ,KAAK8R,SAAW2a,EAASnK,OAAO,WAC5B,OAAOoK,IAEXD,EAASxb,qBACTwb,EAASza,aAAahS,UACnB,EACWA,KAAK8R,SAAW,IAAI3J,EAAQiI,IAClCa,qBAEZjR,KAAK2sB,OAAS1e,EACdjO,KAAK4sB,mBAAqBL,EAC1BvsB,KAAK6sB,UAAY/gB,EACjB9L,KAAK8sB,gBAAa/sB,EAClBC,KAAK+sB,eAAyC,mBAAjBP,EACvB,CAACA,GAAcQ,OAAOX,GACtBA,EACNrsB,KAAKitB,gBAAkB,KACvBjtB,KAAKktB,oBAAqB,EAE9B7c,EAAQhN,SAASipB,EAAc3a,GAE/B2a,EAAa9qB,UAAUoS,YAAc,WACjC,OAAyB,OAAlB5T,KAAK8R,UAGhBwa,EAAa9qB,UAAU2rB,SAAW,WAC9BntB,KAAK8R,SAAW9R,KAAK8sB,WAAa,KAC9BrJ,EAAMhI,gBAA2C,OAAzBzb,KAAK0sB,kBAC7B1sB,KAAK0sB,gBAAgB5b,WACrB9Q,KAAK0sB,gBAAkB,OAI/BJ,EAAa9qB,UAAUmS,kBAAoB,WACvC,IAAI3T,KAAK4T,cAAT,CACA,IAEIzC,EACJ,QAH4D,IAA9BnR,KAAK8sB,WAAmB,OAalD9sB,KAAK8R,SAASrB,eACdU,EAAS/N,EAASpD,KAAK8sB,WAAmB,QAAGjrB,KAAK7B,KAAK8sB,gBACL/sB,GAClDC,KAAK8R,SAASnB,kBAbK,CACnB,IAAIU,EAAS,IAAIlJ,EAAQkH,kBACrB,gCACJlH,EAAQilB,UAAUC,eAAiBhc,EACnCrR,KAAK8R,SAAS+F,kBAAkBxG,GAChCrR,KAAK8R,SAASrB,eACdU,EAAS/N,EAASpD,KAAK8sB,WAAkB,OAAGjrB,KAAK7B,KAAK8sB,WACLzb,GACjDrR,KAAK8R,SAASnB,cAOlB3Q,KAAKktB,oBAAqB,EAC1BltB,KAAKitB,gBAAkB,KACvBjtB,KAAKstB,UAAUnc,KAGnBmb,EAAa9qB,UAAUiS,kBAAoB,SAASxR,GAChDjC,KAAKitB,gBAAkB,KACvBjtB,KAAK8R,SAASrB,eACd,IAAIU,EAAS/N,EAASpD,KAAK8sB,WAAWllB,MAAM/F,KAAK7B,KAAK8sB,WAAY7qB,GAClEjC,KAAK8R,SAASnB,cACd3Q,KAAKstB,UAAUnc,IAGnBmb,EAAa9qB,UAAUkS,iBAAmB,SAASrC,GAC/CrR,KAAKitB,gBAAkB,KACvBjtB,KAAK8R,SAAS+F,kBAAkBxG,GAChCrR,KAAK8R,SAASrB,eACd,IAAIU,EAAS/N,EAASpD,KAAK8sB,WAAkB,OACxCjrB,KAAK7B,KAAK8sB,WAAYzb,GAC3BrR,KAAK8R,SAASnB,cACd3Q,KAAKstB,UAAUnc,IAGnBmb,EAAa9qB,UAAUuS,iBAAmB,WACtC,GAAI/T,KAAKitB,2BAA2B9kB,EAAS,CACzC,IAAIC,EAAUpI,KAAKitB,gBACnBjtB,KAAKitB,gBAAkB,KACvB7kB,EAAQ4L,WAIhBsY,EAAa9qB,UAAU4G,QAAU,WAC7B,OAAOpI,KAAK8R,UAGhBwa,EAAa9qB,UAAU+rB,KAAO,WAC1BvtB,KAAK8sB,WAAa9sB,KAAK4sB,mBAAmB/qB,KAAK7B,KAAK6sB,WACpD7sB,KAAK6sB,UACD7sB,KAAK4sB,wBAAqB7sB,EAC9BC,KAAKyT,uBAAkB1T,IAG3BusB,EAAa9qB,UAAU8rB,UAAY,SAAUnc,GACzC,IAAI/I,EAAUpI,KAAK8R,SACnB,GAAIX,IAAWtO,EAEX,OADA7C,KAAKmtB,WACDntB,KAAKktB,mBACE9kB,EAAQ4L,SAER5L,EAAQkJ,gBAAgBH,EAAOpP,GAAG,GAIjD,IAAIE,EAAQkP,EAAOlP,MACnB,IAAoB,IAAhBkP,EAAOqc,KAEP,OADAxtB,KAAKmtB,WACDntB,KAAKktB,mBACE9kB,EAAQ4L,SAER5L,EAAQgJ,iBAAiBnP,GAGpC,IAAIqR,EAAe7B,EAAoBxP,EAAOjC,KAAK8R,UACnD,GAAMwB,aAAwBnL,GAKL,QAJrBmL,EA1IZ,SAAiCrR,EAAOoqB,EAAeoB,GACnD,IAAK,IAAIlpB,EAAI,EAAGA,EAAI8nB,EAAcxoB,SAAUU,EAAG,CAC3CkpB,EAAYhd,eACZ,IAAIU,EAAS/N,EAASipB,EAAc9nB,GAAvBnB,CAA2BnB,GAExC,GADAwrB,EAAY9c,cACRQ,IAAWtO,EAAU,CACrB4qB,EAAYhd,eACZ,IAAI9O,EAAMwG,EAAQuI,OAAO7N,EAASd,GAElC,OADA0rB,EAAY9c,cACLhP,EAEX,IAAI2R,EAAe7B,EAAoBN,EAAQsc,GAC/C,GAAIna,aAAwBnL,EAAS,OAAOmL,EAEhD,OAAO,KA6HKoa,CAAwBpa,EACAtT,KAAK+sB,eACL/sB,KAAK8R,WAJrC,CAiBA,IAAIS,GADJe,EAAeA,EAAad,WACAC,UACG,IAAd,SAAXF,IACFvS,KAAKitB,gBAAkB3Z,EACvBA,EAAaE,OAAOxT,KAAM,OACQ,IAAd,SAAXuS,GACTpK,EAAQuN,OAAOrH,OACXrO,KAAKyT,kBAAmBzT,KAAMsT,EAAaT,UAEb,IAAd,SAAXN,GACTpK,EAAQuN,OAAOrH,OACXrO,KAAK0T,iBAAkB1T,KAAMsT,EAAaX,WAG9C3S,KAAK2T,yBAxBD3T,KAAK0T,iBACD,IAAIlE,EACA,oGAAoHuN,QAAQ,KAAMK,OAAOnb,IACzI,oBACAjC,KAAK2sB,OAAO5jB,MAAM,MAAMoQ,MAAM,GAAI,GAAGrJ,KAAK,SAyBlE3H,EAAQilB,UAAY,SAAUb,EAAmBzE,GAC7C,GAAiC,mBAAtByE,EACP,MAAM,IAAI/c,EAAU,0EAExB,IAAIgd,EAAetsB,OAAO4nB,GAAS0E,aAC/BmB,EAAgBrB,EAChBre,GAAQ,IAAI9J,OAAQ8J,MACxB,OAAO,WACH,IAAI2f,EAAYrB,EAAkBrpB,MAAMlD,KAAMmD,WAC1C0qB,EAAQ,IAAIF,OAAc5tB,OAAWA,EAAWysB,EACtBve,GAC1BtM,EAAMksB,EAAMzlB,UAGhB,OAFAylB,EAAMf,WAAac,EACnBC,EAAMpa,uBAAkB1T,GACjB4B,IAIfwG,EAAQilB,UAAUU,gBAAkB,SAASpuB,GACzC,GAAkB,mBAAPA,EACP,MAAM,IAAI8P,EAAU,gCAAkCa,EAAQrJ,YAAYtH,IAE9E2sB,EAAcvqB,KAAKpC,IAGvByI,EAAQ0lB,MAAQ,SAAUtB,GAEtB,GADA9I,EAAM/C,WAAW,kBAAmB,uBACH,mBAAtB6L,EACP,OAAO7a,EAAa,0EAExB,IAAImc,EAAQ,IAAIvB,EAAaC,EAAmBvsB,MAC5C2B,EAAMksB,EAAMzlB,UAEhB,OADAylB,EAAMN,KAAKplB,EAAQ0lB,OACZlsB,IAIPosB,GAAU,SAAS5lB,GACvB,IAAIkI,EAAUlH,EACVqF,EAAQrG,EAAQuN,OAChBtS,EAAWiN,EAAQjN,SACnBP,EAAWwN,EAAQxN,SAEvB,SAASmrB,EAAcjqB,EAAKyf,GAExB,IAAKnT,EAAQ3P,QAAQqD,GAAM,OAAOkqB,EAAepsB,KADnC7B,KACiD+D,EAAKyf,GACpE,IAAI7hB,EACAyB,EAASogB,GAAUtgB,MAHTlD,KAGuBghB,cAAe,CAAC,MAAMgM,OAAOjpB,IAC9DpC,IAAQkB,GACR2L,EAAML,WAAWxM,EAAII,GAI7B,SAASksB,EAAelqB,EAAKyf,GACzB,IACI1X,EADU9L,KACSghB,cACnBrf,OAAc5B,IAARgE,EACJX,EAASogB,GAAU3hB,KAAKiK,EAAU,MAClC1I,EAASogB,GAAU3hB,KAAKiK,EAAU,KAAM/H,GAC1CpC,IAAQkB,GACR2L,EAAML,WAAWxM,EAAII,GAG7B,SAASmsB,EAAa7c,EAAQmS,GAE1B,IAAKnS,EAAQ,CACT,IAAI8c,EAAY,IAAIhqB,MAAMkN,EAAS,IACnC8c,EAAUve,MAAQyB,EAClBA,EAAS8c,EAEb,IAAIxsB,EAAMyB,EAASogB,GAAU3hB,KANf7B,KAM4BghB,cAAe3P,GACrD1P,IAAQkB,GACR2L,EAAML,WAAWxM,EAAII,GAI7BoG,EAAQ3G,UAAU4sB,WAAajmB,EAAQ3G,UAAUusB,QAAU,SAAUvK,EACAsE,GACjE,GAAuB,mBAAZtE,EAAwB,CAC/B,IAAI6K,EAAUJ,OACEluB,IAAZ+nB,GAAyB5nB,OAAO4nB,GAASX,SACzCkH,EAAUL,GAEdhuB,KAAK6Q,MACDwd,EACAH,OACAnuB,EACAC,KACAwjB,GAGR,OAAOxjB,OAIPsuB,GAAY,SAASnmB,EAASiI,GAClC,IAAIme,EAAO,GACPle,EAAUlH,EACV6Z,EAAqBQ,GACrBnf,EAAegM,EAAQhM,aACvBJ,EAAmBoM,EAAQpM,iBAC3BtB,EAAc0N,EAAQ1N,YACtB6M,EAAYU,GAAOV,UAEnBgf,EAAqB,CAACC,mBAAmB,GAUzCC,EAAqB,IAAIC,OAAO,OATlB,CACd,QAAY,SACZ,OACA,YACA,SACA,SACA,YACA,qBAEqD7e,KAAK,KAAO,MAEjE8e,EAAgB,SAAS/pB,GACzB,OAAOwL,EAAQnK,aAAarB,IACL,MAAnBA,EAAKjB,OAAO,IACH,gBAATiB,GAGR,SAASgqB,EAAYjtB,GACjB,OAAQ8sB,EAAmB3oB,KAAKnE,GAGpC,SAASktB,EAAcpvB,GACnB,IACI,OAAgC,IAAzBA,EAAG+uB,kBAEd,MAAO1sB,GACH,OAAO,GAIf,SAASgtB,EAAeluB,EAAKe,EAAK0E,GAC9B,IAAIvC,EAAMsM,EAAQ5L,yBAAyB5D,EAAKe,EAAM0E,EACdkoB,GACxC,QAAOzqB,GAAM+qB,EAAc/qB,GAiB/B,SAASirB,EAAqBnuB,EAAKyF,EAAQ2oB,EAAc7nB,GAGrD,IAFA,IAAI9G,EAAO+P,EAAQnL,kBAAkBrE,GACjCc,EAAM,GACD4C,EAAI,EAAGA,EAAIjE,EAAKuD,SAAUU,EAAG,CAClC,IAAI3C,EAAMtB,EAAKiE,GACXtC,EAAQpB,EAAIe,GACZstB,EAAsB9nB,IAAWwnB,GACxBA,EAAchtB,EAAKK,EAAOpB,GAClB,mBAAVoB,GACN6sB,EAAc7sB,IACd8sB,EAAeluB,EAAKe,EAAK0E,KAC1Bc,EAAOxF,EAAKK,EAAOpB,EAAKquB,IACxBvtB,EAAIG,KAAKF,EAAKK,GAItB,OA/BJ,SAAoBN,EAAK2E,EAAQ2oB,GAC7B,IAAK,IAAI1qB,EAAI,EAAGA,EAAI5C,EAAIkC,OAAQU,GAAK,EAAG,CACpC,IAAI3C,EAAMD,EAAI4C,GACd,GAAI0qB,EAAalpB,KAAKnE,GAElB,IADA,IAAIutB,EAAwBvtB,EAAImb,QAAQkS,EAAc,IAC7C9jB,EAAI,EAAGA,EAAIxJ,EAAIkC,OAAQsH,GAAK,EACjC,GAAIxJ,EAAIwJ,KAAOgkB,EACX,MAAM,IAAI3f,EAAU,qGACfuN,QAAQ,KAAMzW,KAsBnC8oB,CAAWztB,EAAK2E,EAAQ2oB,GACjBttB,EAGX,IAAI0tB,EAAmB,SAASjuB,GAC5B,OAAOA,EAAI2b,QAAQ,QAAS,QAiB5BuS,EAAmB,SAASC,GAC5B,OAAOlf,EAAQlK,YAAYopB,EAAe,OAAQ,KAsItD,IAAIC,EAAsB7sB,EAtH1B,SAASwlB,EAAUrc,EAAU2jB,EAAc/vB,EAAI2S,EAAG4Q,GAC9C,IAAIyM,EAAoBrM,KAAKC,IAAI,EAThB,SAAS5jB,GAC1B,MAAyB,iBAAdA,EAAGmE,OACHwf,KAAKC,IAAID,KAAKsM,IAAIjwB,EAAGmE,OAAQ,MAAW,GAE5C,EAK6B+rB,CAAelwB,GAAM,GACrDmwB,EA/BsB,SAASC,GAGnC,IAFA,IAAInuB,EAAM,CAACmuB,GACPH,EAAMtM,KAAKC,IAAI,EAAGwM,EAAsB,EAAI,GACxCvrB,EAAIurB,EAAsB,EAAGvrB,GAAKorB,IAAOprB,EAC7C5C,EAAIG,KAAKyC,GAEb,IAAQA,EAAIurB,EAAsB,EAAGvrB,GAAK,IAAKA,EAC3C5C,EAAIG,KAAKyC,GAEb,OAAO5C,EAsBaouB,CAAwBL,GACxCM,EAAsC,iBAAb7H,GAAyBrc,IAAayiB,EAuCnE,IAAI0B,EAAsC,iBAAb9H,EACE,wBAAwBA,EAAS,UAClC,KAC1B+H,EAAO,ogBAM4CjN,EAAY,ihCAcjElG,QAAQ,sBA9CV,WAEI,IADA,IAfkC3W,EAC9Bgd,EACA+M,EAaAxuB,EAAM,GACD4C,EAAI,EAAGA,EAAIsrB,EAAchsB,SAAUU,EACxC5C,GAAO,QAAUkuB,EAActrB,GAAI,KAjBL6B,EAkBGypB,EAActrB,GAjB/C6e,OAAAA,EACA+M,OAAAA,EADA/M,EAAOkM,EAAiBlpB,GAAO0J,KAAK,MACpCqgB,EAAQ/pB,EAAQ,EAAI,KAAO,IAE3B4pB,EACM,+DAEajwB,IAAb+L,EACA,+CACA,+DAECiR,QAAQ,WAAYqG,GAAMrG,QAAQ,KAAMoT,IAuBnD,OAbAxuB,GAAO,ixBAULob,QAAQ,gBAAkBiT,EACF,sCACA,2CA2BGI,IAC5BrT,QAAQ,oBAAqBkT,GAElC,OADAC,EAAOA,EAAKnT,QAAQ,aAhFG,SAAS6S,GAChC,OAAOvf,EAAQlK,YACXkd,KAAKC,IAAIsM,EAAgB,GAAI,OAAQ,IA8EPS,CAAqBX,IAChD,IAAItqB,SAAS,UACA,KACA,WACA,eACA,mBACA,qBACA,WACA,WACA,oBACA,WACA8qB,EAVb,CAWS/nB,EACAzI,EACAoM,EACAzH,EACAJ,EACA+e,EACA3S,EAAQjN,SACRiN,EAAQxN,SACRwN,EAAQzL,kBACRwL,IAIpB,SAAoC+X,EAAUrc,EAAUuG,EAAG3S,EAAI4wB,EAAIrN,GAC/D,IAAIsN,EAAc,WAAa,OAAOvwB,KAApB,GACdkZ,EAASiP,EAIb,SAASqI,IACL,IAAI3D,EAAY/gB,EACZA,IAAayiB,IAAM1B,EAAY7sB,MACnC,IAAIoI,EAAU,IAAID,EAAQiI,GAC1BhI,EAAQ6I,qBACR,IAAI3I,EAAuB,iBAAX4Q,GAAuBlZ,OAASuwB,EAC1CvwB,KAAKkZ,GAAUiP,EACjBzoB,EAAKsjB,EAAmB5a,EAAS6a,GACrC,IACI3a,EAAGpF,MAAM2pB,EAAWxoB,EAAalB,UAAWzD,IAC9C,MAAMqC,GACJqG,EAAQkJ,gBAAgBrN,EAAiBlC,IAAI,GAAM,GAGvD,OADKqG,EAAQ4d,iBAAiB5d,EAAQsK,sBAC/BtK,EAGX,MApBsB,iBAAX8Q,IACPiP,EAAWzoB,GAkBf2Q,EAAQzL,kBAAkB4rB,EAAa,qBAAqB,GACrDA,GAOX,SAASC,EAAa5vB,EAAKyF,EAAQc,EAAQspB,EAAazN,GAKpD,IAJA,IAAIgM,EAAe,IAAIN,OAAOU,EAAiB/oB,GAAU,KACrDoJ,EACAsf,EAAqBnuB,EAAKyF,EAAQ2oB,EAAc7nB,GAE3C7C,EAAI,EAAGC,EAAMkL,EAAQ7L,OAAQU,EAAIC,EAAKD,GAAI,EAAG,CAClD,IAAI3C,EAAM8N,EAAQnL,GACd7E,EAAKgQ,EAAQnL,EAAE,GACfosB,EAAiB/uB,EAAM0E,EAC3B,GAAIoqB,IAAgBlB,EAChB3uB,EAAI8vB,GACAnB,EAAoB5tB,EAAK2sB,EAAM3sB,EAAKlC,EAAI4G,EAAQ2c,OACjD,CACH,IAAIuN,EAAcE,EAAYhxB,EAAI,WAC9B,OAAO8vB,EAAoB5tB,EAAK2sB,EAAM3sB,EACXlC,EAAI4G,EAAQ2c,KAE3C5S,EAAQzL,kBAAkB4rB,EAAa,qBAAqB,GAC5D3vB,EAAI8vB,GAAkBH,GAI9B,OADAngB,EAAQrK,iBAAiBnF,GAClBA,EAQXsH,EAAQmmB,UAAY,SAAU5uB,EAAIooB,GAC9B,GAAkB,mBAAPpoB,EACP,MAAM,IAAI8P,EAAU,gCAAkCa,EAAQrJ,YAAYtH,IAE9E,GAAIovB,EAAcpvB,GACd,OAAOA,EAGX,IAEIiC,EAfR,SAAmBwmB,EAAUrc,EAAUmX,GACnC,OAAOuM,EAAoBrH,EAAUrc,OAAU/L,EACnBooB,EAAU,KAAMlF,GAalCqL,CAAU5uB,OAFeK,KADnC+nB,EAAU5nB,OAAO4nB,IACMxX,QAAwBie,EAAOzG,EAAQxX,UAC5CwX,EAAQ7E,WAG1B,OADA5S,EAAQpJ,gBAAgBvH,EAAIiC,EAAKktB,GAC1BltB,GAGXwG,EAAQsoB,aAAe,SAAUxtB,EAAQ6kB,GACrC,GAAsB,mBAAX7kB,GAA2C,iBAAXA,EACvC,MAAM,IAAIuM,EAAU,gGAGxB,IAAIyT,KADJ6E,EAAU5nB,OAAO4nB,IACS7E,UACtB3c,EAASwhB,EAAQxhB,OACC,iBAAXA,IAAqBA,EAxRhB,SAyRhB,IAAIc,EAAS0gB,EAAQ1gB,OACC,mBAAXA,IAAuBA,EAASwnB,GAC3C,IAAI8B,EAAc5I,EAAQ4I,YAG1B,GAF2B,mBAAhBA,IAA4BA,EAAclB,IAEhDnf,EAAQnK,aAAaI,GACtB,MAAM,IAAImJ,WAAW,uEAIzB,IADA,IAAInP,EAAO+P,EAAQnL,kBAAkBjC,GAC5BsB,EAAI,EAAGA,EAAIjE,EAAKuD,SAAUU,EAAG,CAClC,IAAItC,EAAQgB,EAAO3C,EAAKiE,IACR,gBAAZjE,EAAKiE,IACL8L,EAAQ1K,QAAQ1D,KAChBwuB,EAAaxuB,EAAMT,UAAW8E,EAAQc,EAAQspB,EAC1CzN,GACJwN,EAAaxuB,EAAOqE,EAAQc,EAAQspB,EAAazN,IAIzD,OAAOwN,EAAaxtB,EAAQqD,EAAQc,EAAQspB,EAAazN,KAIzDqD,GAAQ,SACRne,EAASyJ,EAAcH,EAAqBC,GAChD,IAGIkf,EAHAvgB,EAAUlH,EACVnF,EAAWqM,EAAQrM,SACnB2R,EAAS9V,EAEM,mBAARoT,MAAoB2d,EAAS3d,KAExC,IAAI4d,EAAe,WACf,IAAI/c,EAAQ,EACRpI,EAAO,EAEX,SAASolB,EAAa7uB,EAAOL,GACzB5B,KAAK8T,GAAS7R,EACdjC,KAAK8T,EAAQpI,GAAQ9J,EACrBkS,IAGJ,OAAO,SAAsB9K,GACzB0C,EAAO1C,EAAI0C,KACXoI,EAAQ,EACR,IAAInS,EAAM,IAAIhB,MAAiB,EAAXqI,EAAI0C,MAExB,OADA1C,EAAI+nB,QAAQD,EAAcnvB,GACnBA,GAfI,GA8BnB,SAASqvB,EAAuBnwB,GAC5B,IACIowB,EADAC,GAAQ,EAEZ,QAAenxB,IAAX6wB,GAAwB/vB,aAAe+vB,EACvCK,EAAUJ,EAAahwB,GACvBqwB,GAAQ,MACL,CACH,IAAI5wB,EAAOqV,EAAOrV,KAAKO,GACnB2D,EAAMlE,EAAKuD,OACfotB,EAAU,IAAItwB,MAAY,EAAN6D,GACpB,IAAK,IAAID,EAAI,EAAGA,EAAIC,IAAOD,EAAG,CAC1B,IAAI3C,EAAMtB,EAAKiE,GACf0sB,EAAQ1sB,GAAK1D,EAAIe,GACjBqvB,EAAQ1sB,EAAIC,GAAO5C,GAG3B5B,KAAK2D,aAAastB,GAClBjxB,KAAKmxB,OAASD,EACdlxB,KAAKioB,YAAOloB,EAAWmxB,GAAS,GAAK,GAkCzC,SAAS5K,EAAMe,GACX,IAAI1lB,EACAyvB,EAAY3f,EAAoB4V,GAEpC,OAAKrjB,EAASotB,IAGVzvB,EADOyvB,aAAqBjpB,EACtBipB,EAAUvgB,MACZ1I,EAAQme,WAAOvmB,OAAWA,OAAWA,OAAWA,GAE9C,IAAIixB,EAAuBI,GAAWhpB,UAG5CgpB,aAAqBjpB,GACrBxG,EAAIoQ,eAAeqf,EAAW,GAE3BzvB,GAXI+P,EAAa,6EArC5BrB,EAAQhN,SAAS2tB,EAAwBpf,GAEzCof,EAAuBxvB,UAAU2Q,MAAQ,aAEzC6e,EAAuBxvB,UAAUiS,kBAAoB,SAAUxR,EAAO6R,GAGlE,GAFA9T,KAAKiS,QAAQ6B,GAAS7R,IACAjC,KAAKkS,gBACNlS,KAAKuL,QAAS,CAC/B,IAAIxH,EACJ,GAAI/D,KAAKmxB,OACLptB,EAzCO,SAASktB,GAGxB,IAFA,IAAItvB,EAAM,IAAIivB,EACV/sB,EAASotB,EAAQptB,OAAS,EAAI,EACzBU,EAAI,EAAGA,EAAIV,IAAUU,EAAG,CAC7B,IAAI3C,EAAMqvB,EAAQptB,EAASU,GACvBtC,EAAQgvB,EAAQ1sB,GACpB5C,EAAIV,IAAIW,EAAKK,GAEjB,OAAON,EAiCO0vB,CAAarxB,KAAKiS,aACrB,CACHlO,EAAM,GAEN,IADA,IAAIutB,EAAYtxB,KAAK6D,SACZU,EAAI,EAAGC,EAAMxE,KAAK6D,SAAUU,EAAIC,IAAOD,EAC5CR,EAAI/D,KAAKiS,QAAQ1N,EAAI+sB,IAActxB,KAAKiS,QAAQ1N,GAIxD,OADAvE,KAAKgT,SAASjP,IACP,EAEX,OAAO,GAGXitB,EAAuBxvB,UAAU4R,iBAAmB,WAChD,OAAO,GAGX4d,EAAuBxvB,UAAU2R,gBAAkB,SAAU3O,GACzD,OAAOA,GAAO,GAsBlB2D,EAAQ3G,UAAU8kB,MAAQ,WACtB,OAAOA,EAAMtmB,OAGjBmI,EAAQme,MAAQ,SAAUe,GACtB,OAAOf,EAAMe,KAIbkK,GAAO,SACPppB,EAASiI,EAAUqB,EAAqBC,GAC5C,IAAIrB,EAAUlH,EAEVqoB,EAAY,SAAUppB,GACtB,OAAOA,EAAQ0B,KAAK,SAAS2nB,GACzB,OAAOF,EAAKE,EAAOrpB,MAI3B,SAASmpB,EAAKlK,EAAUpM,GACpB,IAAI3H,EAAe7B,EAAoB4V,GAEvC,GAAI/T,aAAwBnL,EACxB,OAAOqpB,EAAUle,GAGjB,GAAiB,QADjB+T,EAAWhX,EAAQhJ,QAAQggB,IAEvB,OAAO3V,EAAa,oDAAsDrB,EAAQrJ,YAAYqgB,IAGtG,IAAI1lB,EAAM,IAAIwG,EAAQiI,QACPrQ,IAAXkb,GACAtZ,EAAIoQ,eAAekJ,EAAQ,GAI/B,IAFA,IAAIyW,EAAU/vB,EAAImP,SACdJ,EAAS/O,EAAIoP,QACRxM,EAAI,EAAGC,EAAM6iB,EAASxjB,OAAQU,EAAIC,IAAOD,EAAG,CACjD,IAAIR,EAAMsjB,EAAS9iB,SAEPxE,IAARgE,GAAuBQ,KAAK8iB,IAIhClf,EAAQwpB,KAAK5tB,GAAK8M,MAAM6gB,EAAShhB,OAAQ3Q,EAAW4B,EAAK,MAE7D,OAAOA,EAGXwG,EAAQopB,KAAO,SAAUlK,GACrB,OAAOkK,EAAKlK,OAAUtnB,IAG1BoI,EAAQ3G,UAAU+vB,KAAO,WACrB,OAAOA,EAAKvxB,UAAMD,KAKlB6xB,GAAS,SAASzpB,EACIyJ,EACAF,EACAD,EACArB,EACAqT,GAC1B,IAAIjO,EAAYrN,EAAQsN,WACpBpF,EAAUlH,EACV/F,EAAWiN,EAAQjN,SAEvB,SAASyuB,EAAsBxK,EAAU3nB,EAAIoyB,EAAcC,GACvD/xB,KAAK2D,aAAa0jB,GAClB,IAAI/P,EAAS9B,IACbxV,KAAKgyB,IAAiB,OAAX1a,EAAkB5X,EAAK2Q,EAAQhI,WAAWiP,EAAQ5X,QACxCK,IAAjB+xB,IACAA,EAAe3pB,EAAQyB,QAAQkoB,IAClBvX,4BAA4Bva,MAE7CA,KAAKiyB,cAAgBH,EACrB9xB,KAAKkyB,oBAAsB,KAEvBlyB,KAAKmyB,YADNJ,IAAU3hB,EACUzP,MAAMX,KAAKuL,SACb,IAAVwmB,EACY,UAEAhyB,EAEvBC,KAAK8R,SAASb,qBACdjR,KAAKioB,YAAOloB,GAAY,GA0F5B,SAASqyB,EAAUC,EAAeZ,GAC1BzxB,KAAKic,cACLwV,EAAMze,SAASqf,GAEfZ,EAAM1gB,QAAQshB,GAItB,SAAST,EAAOvK,EAAU3nB,EAAIoyB,EAAcC,GACxC,MAAkB,mBAAPryB,EACAgS,EAAa,gCAAkCrB,EAAQrJ,YAAYtH,IAElE,IAAImyB,EAAsBxK,EAAU3nB,EAAIoyB,EAAcC,GACrD3pB,UAGjB,SAASkqB,EAASC,GACdvyB,KAAKuyB,MAAQA,EACbvyB,KAAKyxB,MAAMe,UAAUD,GACrB,IAAItwB,EAAQwP,EAAoBzR,KAAKiC,MAAOjC,KAAKyxB,MAAM3f,UACvD,OAAI7P,aAAiBkG,GACjBnI,KAAKyxB,MAAMS,oBAAsBjwB,EAC1BA,EAAM4O,MAAM4hB,OAAU1yB,OAAWA,EAAWC,UAAMD,IAElD0yB,EAAS5wB,KAAK7B,KAAMiC,GAInC,SAASwwB,EAASxwB,GACd,IAIIN,EAJA8vB,EAAQzxB,KAAKyxB,MACbrpB,EAAUqpB,EAAM3f,SAChBpS,EAAK0D,EAASquB,EAAMO,KACxB5pB,EAAQqI,gBAGJ9O,OADsB5B,IAAtB0xB,EAAMU,YACAzyB,EAAGmC,KAAKuG,EAAQ4Y,cAAe/e,EAAOjC,KAAK8T,MAAO9T,KAAK6D,QAEvDnE,EAAGmC,KAAKuG,EAAQ4Y,cACAhhB,KAAKuyB,MAAOtwB,EAAOjC,KAAK8T,MAAO9T,KAAK6D,mBAE3CsE,IACfspB,EAAMS,oBAAsBvwB,GAEhC,IAAI2X,EAAiBlR,EAAQuI,cAO7B,OANA8S,EAAM9D,sBACFhe,EACA2X,OACsBvZ,IAAtB0xB,EAAMU,YAA4B,eAAiB,iBACnD/pB,GAEGzG,EA1IX0O,EAAQhN,SAASwuB,EAAuBjgB,GAExCigB,EAAsBrwB,UAAUgxB,UAAY,SAASD,QACxBxyB,IAArBC,KAAKmyB,aACgB,OAArBnyB,KAAKmyB,aACLI,IAAUniB,GACVpQ,KAAKmyB,YAAYrwB,KAAKywB,IAI9BV,EAAsBrwB,UAAUkxB,cAAgB,SAASzwB,GAIrD,OAHyB,OAArBjC,KAAKmyB,aACLnyB,KAAKmyB,YAAYrwB,KAAKG,GAEnBjC,KAAKmyB,aAGhBN,EAAsBrwB,UAAU2Q,MAAQ,aAExC0f,EAAsBrwB,UAAUuR,mBAAqB,WACjD/S,KAAKgT,cAA8BjT,IAArBC,KAAKmyB,YAA4BnyB,KAAKmyB,YACLnyB,KAAKiyB,gBAGxDJ,EAAsBrwB,UAAU4R,iBAAmB,WAC/C,OAAO,GAGXye,EAAsBrwB,UAAUwR,SAAW,SAAS/Q,GAChDjC,KAAK8R,SAASV,iBAAiBnP,GAC/BjC,KAAKiS,QAAU,MAGnB4f,EAAsBrwB,UAAUuS,iBAAmB,SAAS4e,GACxD,GAAIA,IAAW3yB,KAAKiyB,cAAe,OAAOjyB,KAAK4S,UAC3C5S,KAAK4T,gBACT5T,KAAK4yB,oBACD5yB,KAAKkyB,+BAA+B/pB,GACpCnI,KAAKkyB,oBAAoBle,SAEzBhU,KAAKiyB,yBAAyB9pB,GAC9BnI,KAAKiyB,cAAcje,WAI3B6d,EAAsBrwB,UAAUsR,SAAW,SAAUjB,GAEjD,IAAI5P,EACAsC,EAFJvE,KAAKiS,QAAUJ,EAGf,IAAIhO,EAASgO,EAAOhO,OAWpB,QAV2B9D,IAAvBC,KAAKiyB,eACLhwB,EAAQjC,KAAKiyB,cACb1tB,EAAI,IAEJtC,EAAQkG,EAAQyB,QAAQiI,EAAO,IAC/BtN,EAAI,GAGRvE,KAAKkyB,oBAAsBjwB,GAEtBA,EAAMkgB,aACP,KAAO5d,EAAIV,IAAUU,EAAG,CACpB,IAAI4Q,EAAM,CACNod,MAAO,KACPtwB,MAAO4P,EAAOtN,GACduP,MAAOvP,EACPV,OAAQA,EACR4tB,MAAOzxB,MAEXiC,EAAQA,EAAM4O,MAAMyhB,OAAUvyB,OAAWA,EAAWoV,OAAKpV,QAIxCA,IAArBC,KAAKmyB,cACLlwB,EAAQA,EACH4O,MAAM7Q,KAAK0yB,mBAAe3yB,OAAWA,EAAWC,UAAMD,IAE/DkC,EAAM4O,MAAMuhB,EAAWA,OAAWryB,EAAWkC,EAAOjC,OAGxDmI,EAAQ3G,UAAUowB,OAAS,SAAUlyB,EAAIoyB,GACrC,OAAOF,EAAO5xB,KAAMN,EAAIoyB,EAAc,OAG1C3pB,EAAQypB,OAAS,SAAUvK,EAAU3nB,EAAIoyB,EAAcC,GACnD,OAAOH,EAAOvK,EAAU3nB,EAAIoyB,EAAcC,KAyD1Cc,GACA,SAAS1qB,EAASyJ,EAAc6R,GACpC,IAAIqC,EAAoB3d,EAAQ2d,kBAGhC,SAASgN,EAAoBjhB,GACzB7R,KAAK2D,aAAakO,GAHR1I,EAKN9F,SAASyvB,EAAqBlhB,GAEtCkhB,EAAoBtxB,UAAUuxB,iBAAmB,SAAUjf,EAAO8V,GAG9D,OAFA5pB,KAAKiS,QAAQ6B,GAAS8V,IACA5pB,KAAKkS,gBACNlS,KAAKuL,UACtBvL,KAAKgT,SAAShT,KAAKiS,UACZ,IAKf6gB,EAAoBtxB,UAAUiS,kBAAoB,SAAUxR,EAAO6R,GAC/D,IAAInS,EAAM,IAAImkB,EAGd,OAFAnkB,EAAI8Q,UAAY,SAChB9Q,EAAIokB,mBAAqB9jB,EAClBjC,KAAK+yB,iBAAiBjf,EAAOnS,IAExCmxB,EAAoBtxB,UAAUkS,iBAAmB,SAAUrC,EAAQyC,GAC/D,IAAInS,EAAM,IAAImkB,EAGd,OAFAnkB,EAAI8Q,UAAY,SAChB9Q,EAAIokB,mBAAqB1U,EAClBrR,KAAK+yB,iBAAiBjf,EAAOnS,IAGxCwG,EAAQ0qB,OAAS,SAAUxL,GAEvB,OADA5D,EAAM/C,WAAW,YAAa,cACvB,IAAIoS,EAAoBzL,GAAUjf,WAG7CD,EAAQ3G,UAAUqxB,OAAS,WACvB,OAAO1qB,EAAQ0qB,OAAO7yB,QAItBgzB,GACJ,SAAS7qB,EAASyJ,EAAcF,GAChC,IAAIrB,EAAUlH,EACVsG,EAAaS,GAAOT,WACpBF,EAAiBW,GAAOX,eACxB7O,EAAU2P,EAAQ3P,QAClBuyB,EAAe,GAGnB,SAASC,EAAiBrhB,GACtB7R,KAAK2D,aAAakO,GAClB7R,KAAKmzB,SAAW,EAChBnzB,KAAKozB,SAAU,EACfpzB,KAAKqzB,cAAe,EAiHxB,SAASL,EAAK3L,EAAUiM,GACpB,IAAe,EAAVA,KAAiBA,GAAWA,EAAU,EACvC,OAAO5hB,EAAa,kEAExB,IAAI/P,EAAM,IAAIuxB,EAAiB7L,GAC3Bjf,EAAUzG,EAAIyG,UAGlB,OAFAzG,EAAI4xB,WAAWD,GACf3xB,EAAIyQ,OACGhK,EAvHXiI,EAAQhN,SAAS6vB,EAAkBthB,GAEnCshB,EAAiB1xB,UAAU2Q,MAAQ,WAC/B,GAAKnS,KAAKqzB,aAGV,GAAsB,IAAlBrzB,KAAKmzB,SAAT,CAIAnzB,KAAKioB,YAAOloB,GAAY,GACxB,IAAIyzB,EAAkB9yB,EAAQV,KAAKiS,UAC9BjS,KAAK4T,eACN4f,GACAxzB,KAAKmzB,SAAWnzB,KAAKyzB,uBACrBzzB,KAAK+Q,QAAQ/Q,KAAK0zB,eAAe1zB,KAAK6D,gBARtC7D,KAAKgT,SAAS,KAYtBkgB,EAAiB1xB,UAAU4Q,KAAO,WAC9BpS,KAAKqzB,cAAe,EACpBrzB,KAAKmS,SAGT+gB,EAAiB1xB,UAAUmyB,UAAY,WACnC3zB,KAAKozB,SAAU,GAGnBF,EAAiB1xB,UAAU8xB,QAAU,WACjC,OAAOtzB,KAAKmzB,UAGhBD,EAAiB1xB,UAAU+xB,WAAa,SAAUntB,GAC9CpG,KAAKmzB,SAAW/sB,GAGpB8sB,EAAiB1xB,UAAUiS,kBAAoB,SAAUxR,GAErD,OADAjC,KAAK4zB,cAAc3xB,GACfjC,KAAK6zB,eAAiB7zB,KAAKszB,YAC3BtzB,KAAKiS,QAAQpO,OAAS7D,KAAKszB,UACJ,IAAnBtzB,KAAKszB,WAAmBtzB,KAAKozB,QAC7BpzB,KAAKgT,SAAShT,KAAKiS,QAAQ,IAE3BjS,KAAKgT,SAAShT,KAAKiS,UAEhB,IAKfihB,EAAiB1xB,UAAUkS,iBAAmB,SAAUrC,GAEpD,OADArR,KAAK8zB,aAAaziB,GACXrR,KAAK+zB,iBAGhBb,EAAiB1xB,UAAUmS,kBAAoB,WAC3C,OAAI3T,KAAKiS,mBAAmB9J,GAA2B,MAAhBnI,KAAKiS,QACjCjS,KAAK4S,WAEhB5S,KAAK8zB,aAAab,GACXjzB,KAAK+zB,kBAGhBb,EAAiB1xB,UAAUuyB,cAAgB,WACvC,GAAI/zB,KAAKszB,UAAYtzB,KAAKyzB,sBAAuB,CAE7C,IADA,IAAI1xB,EAAI,IAAIwN,EACHhL,EAAIvE,KAAK6D,SAAUU,EAAIvE,KAAKiS,QAAQpO,SAAUU,EAC/CvE,KAAKiS,QAAQ1N,KAAO0uB,GACpBlxB,EAAED,KAAK9B,KAAKiS,QAAQ1N,IAQ5B,OALIxC,EAAE8B,OAAS,EACX7D,KAAK+Q,QAAQhP,GAEb/B,KAAK4S,WAEF,EAEX,OAAO,GAGXsgB,EAAiB1xB,UAAUqyB,WAAa,WACpC,OAAO7zB,KAAKkS,gBAGhBghB,EAAiB1xB,UAAUwyB,UAAY,WACnC,OAAOh0B,KAAKiS,QAAQpO,OAAS7D,KAAK6D,UAGtCqvB,EAAiB1xB,UAAUsyB,aAAe,SAAUziB,GAChDrR,KAAKiS,QAAQnQ,KAAKuP,IAGtB6hB,EAAiB1xB,UAAUoyB,cAAgB,SAAU3xB,GACjDjC,KAAKiS,QAAQjS,KAAKkS,kBAAoBjQ,GAG1CixB,EAAiB1xB,UAAUiyB,oBAAsB,WAC7C,OAAOzzB,KAAK6D,SAAW7D,KAAKg0B,aAGhCd,EAAiB1xB,UAAUkyB,eAAiB,SAAUttB,GAClD,IAAII,EAAU,qCACNxG,KAAKmzB,SAAW,4BAA8B/sB,EAAQ,SAC9D,OAAO,IAAIqJ,EAAWjJ,IAG1B0sB,EAAiB1xB,UAAUuR,mBAAqB,WAC5C/S,KAAK+Q,QAAQ/Q,KAAK0zB,eAAe,KAcrCvrB,EAAQ6qB,KAAO,SAAU3L,EAAUiM,GAC/B,OAAON,EAAK3L,EAAUiM,IAG1BnrB,EAAQ3G,UAAUwxB,KAAO,SAAUM,GAC/B,OAAON,EAAKhzB,KAAMszB,IAGtBnrB,EAAQ8rB,kBAAoBf,GAGxB9rB,GAAS,SAASe,EAASiI,GAC/B,IAAI8jB,EAAa/rB,EAAQa,IAEzBb,EAAQ3G,UAAU4F,OAAS,SAAU1H,EAAIooB,GACrC,OAAOoM,EAAWl0B,KAAMN,EAAIooB,EAAS1X,IAGzCjI,EAAQf,OAAS,SAAUigB,EAAU3nB,EAAIooB,GACrC,OAAOoM,EAAW7M,EAAU3nB,EAAIooB,EAAS1X,KAIzC+jB,GAAO,SAAShsB,EAASiI,GAC7B,IAAIgkB,EAAgBjsB,EAAQypB,OACxByC,EAAalsB,EAAQkjB,IAEzB,SAASiJ,IACL,OAAOD,EAAWr0B,MAOtBmI,EAAQ3G,UAAU2yB,KAAO,SAAUz0B,GAC/B,OAAO00B,EAAcp0B,KAAMN,EAAI0Q,EAAU,GAC9BS,MAAMyjB,OAAgBv0B,OAAWA,EAAWC,UAAMD,IAGjEoI,EAAQ3G,UAAU+yB,UAAY,SAAU70B,GACpC,OAAO00B,EAAcp0B,KAAMN,EAAI0Q,EAAUA,IAG7CjI,EAAQgsB,KAAO,SAAU9M,EAAU3nB,GAC/B,OAAO00B,EAAc/M,EAAU3nB,EAAI0Q,EAAU,GAClCS,MAAMyjB,OAAgBv0B,OAAWA,EAAWsnB,OAAUtnB,IAGrEoI,EAAQosB,UAlBR,SAA0BlN,EAAU3nB,GAChC,OAAO00B,EAAc/M,EAAU3nB,EAAI0Q,EAAUA,KAoB7CokB,GAAM,SAASrsB,GACnB,IAAI+qB,EAAmB/qB,EAAQ8rB,kBAC/B,SAASO,EAAInN,GACT,IAAI1lB,EAAM,IAAIuxB,EAAiB7L,GAC3Bjf,EAAUzG,EAAIyG,UAIlB,OAHAzG,EAAI4xB,WAAW,GACf5xB,EAAIgyB,YACJhyB,EAAIyQ,OACGhK,EAGXD,EAAQqsB,IAAM,SAAUnN,GACpB,OAAOmN,EAAInN,IAGflf,EAAQ3G,UAAUgzB,IAAM,WACpB,OAAOA,EAAIx0B,QAKXoI,GAAU3I,EAAqB,SAAUE,GAC7CA,EAAOC,QAAU,WACjB,IAAI60B,EAA0B,WAC1B,OAAO,IAAIjlB,EAAU,wEAErBklB,EAAiB,WACjB,OAAO,IAAIvsB,EAAQ2d,kBAAkB9lB,KAAKwS,YAE1Cd,EAAe,SAASwO,GACxB,OAAO/X,EAAQuI,OAAO,IAAIlB,EAAU0Q,KAExC,SAASvO,KACT,IAGI6D,EAHAmf,EAAoB,GACpBtkB,EAAUlH,EAIVqM,EADAnF,EAAQxI,OACI,WACR,IAAIlG,EAAMmG,QAAQwP,OAElB,YADYvX,IAAR4B,IAAmBA,EAAM,MACtBA,GAGC,WACR,OAAO,MAGf0O,EAAQzL,kBAAkBuD,EAAS,aAAcqN,GAEjD,IAAIG,EAAS9V,EACTyM,EAAQkC,GACRomB,EAAW,IAAItoB,EACnBqJ,EAAOxV,eAAegI,EAAS,SAAU,CAAClG,MAAO2yB,IACjD,IAAIC,EAAY3kB,GACZV,EAAYrH,EAAQqH,UAAYqlB,EAAUrlB,UAC9CrH,EAAQsH,WAAaolB,EAAUplB,WAC/B,IAAIJ,EAAoBlH,EAAQkH,kBAAoBwlB,EAAUxlB,kBAC9DlH,EAAQmH,aAAeulB,EAAUvlB,aACjCnH,EAAQvB,iBAAmBiuB,EAAUjuB,iBACrCuB,EAAQ8H,eAAiB4kB,EAAUjuB,iBACnCuB,EAAQoH,eAAiBslB,EAAUtlB,eACnC,IAAIa,EAAW,aACX0kB,EAAQ,GACRjU,EAAc,GACdpP,EAAsBtB,GAAUhI,EAASiI,GACzCwB,EACAJ,GAAcrJ,EAASiI,EACIqB,EAAqBC,EAAcC,GAC9DwC,EAAU7D,GAAQnI,GAElBqhB,EAAgBrV,EAAQ3O,OACxBie,EAAQrO,GAAcjN,EAASgM,GAE/BmN,EACAF,GAASjZ,EAASsJ,EAAqBoP,GACvCQ,EAAcT,GAAaC,GAC3BmC,EAAqBQ,GACrB3gB,EAAWwN,EAAQxN,SACnBO,EAAWiN,EAAQjN,SAWvB,SAAS+E,EAAQkS,GACTA,IAAajK,GAXrB,SAAe5Q,EAAM6a,GACjB,GAAY,MAAR7a,GAAgBA,EAAK+B,cAAgB4G,EACrC,MAAM,IAAIqH,EAAU,wFAExB,GAAwB,mBAAb6K,EACP,MAAM,IAAI7K,EAAU,gCAAkCa,EAAQrJ,YAAYqT,IAO1E0a,CAAM/0B,KAAMqa,GAEhBra,KAAKyS,UAAY,EACjBzS,KAAKg1B,0BAAuBj1B,EAC5BC,KAAKi1B,wBAAqBl1B,EAC1BC,KAAKk1B,eAAYn1B,EACjBC,KAAKm1B,gBAAap1B,EAClBC,KAAKo1B,qBAAqB/a,GAC1Bra,KAAKwU,kBACLxU,KAAK8b,WAAW,iBAAkB9b,MAsnBtC,SAASq1B,EAAa/tB,GAAItH,KAAKoI,QAAQgJ,iBAAiB9J,GACxD,SAASguB,EAAYhuB,GAAItH,KAAKoI,QAAQkJ,gBAAgBhK,GAAG,GA4CrD,SAASiuB,EAAUtzB,GACf,IAAIuzB,EAAI,IAAIrtB,EAAQiI,GACpBolB,EAAER,qBAAuB/yB,EACzBuzB,EAAEP,mBAAqBhzB,EACvBuzB,EAAEN,UAAYjzB,EACduzB,EAAEL,WAAalzB,EAanB,OAlrBJkG,EAAQ3G,UAAUH,SAAW,WACzB,MAAO,oBAGX8G,EAAQ3G,UAAUmkB,OAASxd,EAAQ3G,UAAiB,MAAI,SAAU9B,GAC9D,IAAI8E,EAAMrB,UAAUU,OACpB,GAAIW,EAAM,EAAG,CACT,IACWD,EADPme,EAAiB,IAAI/hB,MAAM6D,EAAM,GACjC2G,EAAI,EACR,IAAK5G,EAAI,EAAGA,EAAIC,EAAM,IAAKD,EAAG,CAC1B,IAAI2c,EAAO/d,UAAUoB,GACrB,IAAI8L,EAAQrM,SAASkd,GAGjB,OAAOxP,EAAa,0DACiBrB,EAAQrJ,YAAYka,IAHzDwB,EAAevX,KAAO+V,EAQ9B,OAFAwB,EAAe7e,OAASsH,EACxBzL,EAAKyD,UAAUoB,GACRvE,KAAK8J,UAAK/J,EAAWshB,EAAYqB,EAAgBhjB,EAAIM,OAEhE,OAAOA,KAAK8J,UAAK/J,EAAWL,IAGhCyI,EAAQ3G,UAAU2pB,QAAU,WACxB,OAAOnrB,KAAK6Q,MAAM6jB,EACdA,OAAgB30B,EAAWC,UAAMD,IAGzCoI,EAAQ3G,UAAUsI,KAAO,SAAU2rB,EAAYC,GAC3C,GAAIjS,EAAMtN,YAAchT,UAAUU,OAAS,GACjB,mBAAf4xB,GACc,mBAAdC,EAA0B,CACjC,IAAIxV,EAAM,kDACF7P,EAAQrJ,YAAYyuB,GACxBtyB,UAAUU,OAAS,IACnBqc,GAAO,KAAO7P,EAAQrJ,YAAY0uB,IAEtC11B,KAAKkX,MAAMgJ,GAEf,OAAOlgB,KAAK6Q,MAAM4kB,EAAYC,OAAW31B,OAAWA,OAAWA,IAGnEoI,EAAQ3G,UAAUgsB,KAAO,SAAUiI,EAAYC,GAEvC11B,KAAK6Q,MAAM4kB,EAAYC,OAAW31B,OAAWA,OAAWA,GACpD41B,eAGZxtB,EAAQ3G,UAAU2lB,OAAS,SAAUznB,GACjC,MAAkB,mBAAPA,EACAgS,EAAa,gCAAkCrB,EAAQrJ,YAAYtH,IAEvEM,KAAKqrB,MAAMxa,MAAMnR,OAAIK,OAAWA,EAAW+0B,OAAO/0B,IAG7DoI,EAAQ3G,UAAUo0B,OAAS,WACvB,IAAIj0B,EAAM,CACNsa,aAAa,EACbkG,YAAY,EACZ0T,sBAAkB91B,EAClB+1B,qBAAiB/1B,GASrB,OAPIC,KAAKic,eACLta,EAAIk0B,iBAAmB71B,KAAKiC,QAC5BN,EAAIsa,aAAc,GACXjc,KAAKmiB,eACZxgB,EAAIm0B,gBAAkB91B,KAAKqR,SAC3B1P,EAAIwgB,YAAa,GAEdxgB,GAGXwG,EAAQ3G,UAAU6pB,IAAM,WAIpB,OAHIloB,UAAUU,OAAS,GACnB7D,KAAKkX,MAAM,wDAER,IAAItF,EAAa5R,MAAMoI,WAGlCD,EAAQ3G,UAAU0a,MAAQ,SAAUxc,GAChC,OAAOM,KAAK2lB,OAAOtV,EAAQ1J,wBAAyBjH,IAGxDyI,EAAQ4tB,kBAAoBp2B,EAAOC,QAEnCuI,EAAQ6tB,GAAK,SAAUjyB,GACnB,OAAOA,aAAeoE,GAG1BA,EAAQ8tB,SAAW9tB,EAAQ+tB,aAAe,SAASx2B,GAC/C,IAAIiC,EAAM,IAAIwG,EAAQiI,GACtBzO,EAAIsP,qBACJ,IAAIgS,EAAY9f,UAAUU,OAAS,KAAM3D,OAAOiD,UAAU,IAAI8f,UAE1D9R,EAAS/N,EAAS1D,EAAT0D,CAAa4f,EAAmBrhB,EAAKshB,IAKlD,OAJI9R,IAAWtO,GACXlB,EAAI2P,gBAAgBH,EAAOpP,GAAG,GAE7BJ,EAAIqkB,iBAAiBrkB,EAAI+Q,sBACvB/Q,GAGXwG,EAAQkjB,IAAM,SAAUhE,GACpB,OAAO,IAAIzV,EAAayV,GAAUjf,WAGtCD,EAAQwpB,KAAO,SAAU9wB,GACrB,IAAIc,EAAM8P,EAAoB5Q,GAO9B,OANMc,aAAewG,KACjBxG,EAAM,IAAIwG,EAAQiI,IACda,qBACJtP,EAAIw0B,gBACJx0B,EAAIszB,mBAAqBp0B,GAEtBc,GAGXwG,EAAQyB,QAAUzB,EAAQiuB,UAAYjuB,EAAQwpB,KAE9CxpB,EAAQuI,OAASvI,EAAQkuB,SAAW,SAAUhlB,GAC1C,IAAI1P,EAAM,IAAIwG,EAAQiI,GAGtB,OAFAzO,EAAIsP,qBACJtP,EAAI2P,gBAAgBD,GAAQ,GACrB1P,GAGXwG,EAAQqF,aAAe,SAAS9N,GAC5B,GAAkB,mBAAPA,EACP,MAAM,IAAI8P,EAAU,gCAAkCa,EAAQrJ,YAAYtH,IAE9E,OAAOk1B,EAASpnB,aAAa9N,IAGjCyI,EAAQ3G,UAAUqP,MAAQ,SACtB4kB,EACAC,EACArjB,EAAMvG,EACNwqB,GAEA,IAAIC,OAAoCx2B,IAAjBu2B,EACnBluB,EAAUmuB,EAAmBD,EAAe,IAAInuB,EAAQiI,GACxDnN,EAASjD,KAAKwS,UACdD,EAAWtP,EAAOwP,UAEjB8jB,IACDnuB,EAAQ2J,eAAe/R,KAAM,GAC7BoI,EAAQ6I,0BACSlR,IAAb+L,GACgC,IAAb,QAAjB9L,KAAKyS,aAEH3G,EAD4B,IAAd,SAAXyG,GACQvS,KAAKghB,cAEL/d,IAAWjD,UAAOD,EAAYC,KAAKub,UAGtDvb,KAAK8b,WAAW,iBAAkB9b,KAAMoI,IAG5C,IAAIkP,EAAS9B,IACb,GAAgC,IAAd,SAAXjD,GAA6B,CAChC,IAAIwJ,EAAS9Z,EAAOu0B,EAAUvzB,EAAOwzB,kBACN,IAAd,SAAXlkB,IACFtQ,EAAQgB,EAAOgyB,mBACflZ,EAAU0Z,GACwB,IAAd,SAAXljB,IACTtQ,EAAQgB,EAAO+xB,qBACfjZ,EAAU2Z,EACVzyB,EAAOgU,+BAEPuf,EAAUvzB,EAAOyzB,uCACjBz0B,EAAQ,IAAIoN,EAAkB,8BAC9BpM,EAAO4U,kBAAkB5V,GACzB8Z,EAAU2Z,GAGdd,EAASvmB,OAAOmoB,EAASvzB,EAAQ,CAC7B8Y,QAAoB,OAAXzE,EAAkByE,EACD,mBAAZA,GACN1L,EAAQhI,WAAWiP,EAAQyE,GACnC3T,QAASA,EACT0D,SAAUA,EACV7J,MAAOA,SAGXgB,EAAO0zB,cAAclB,EAAYC,EAAWttB,EAAS0D,EAAUwL,GAGnE,OAAOlP,GAGXD,EAAQ3G,UAAU+J,QAAU,WACxB,OAAwB,MAAjBvL,KAAKyS,WAGhBtK,EAAQ3G,UAAUwkB,cAAgB,WAC9B,OAAwC,IAAf,UAAjBhmB,KAAKyS,YAGjBtK,EAAQ3G,UAAU6iB,aAAe,WAC7B,OAAuC,WAAd,SAAjBrkB,KAAKyS,YAGjBtK,EAAQ3G,UAAUo1B,WAAa,SAAUpyB,GACrCxE,KAAKyS,WAA+B,MAAlBzS,KAAKyS,UACZ,MAANjO,GAGT2D,EAAQ3G,UAAU20B,cAAgB,WAC9Bn2B,KAAKyS,UAA6B,SAAjBzS,KAAKyS,UACtBzS,KAAK8b,WAAW,mBAAoB9b,OAGxCmI,EAAQ3G,UAAUq1B,aAAe,WAC7B72B,KAAKyS,UAA6B,SAAjBzS,KAAKyS,UACtBzS,KAAK8b,WAAW,kBAAmB9b,OAGvCmI,EAAQ3G,UAAUs1B,cAAgB,WAC9B92B,KAAKyS,UAA6B,SAAjBzS,KAAKyS,UACtBzS,KAAK8b,WAAW,kBAAmB9b,OAGvCmI,EAAQ3G,UAAUm0B,YAAc,WAC5B31B,KAAKyS,UAA6B,QAAjBzS,KAAKyS,WAG1BtK,EAAQ3G,UAAUu1B,SAAW,WACzB,OAAyB,QAAjB/2B,KAAKyS,WAAuB,GAGxCtK,EAAQ3G,UAAUw1B,gBAAkB,WAChCh3B,KAAKyS,iBAAYzS,KAAKyS,WAG1BtK,EAAQ3G,UAAUqjB,cAAgB,WAC9B7kB,KAAKyS,UAA6B,MAAjBzS,KAAKyS,UACtBzS,KAAK8b,WAAW,mBAAoB9b,OAGxCmI,EAAQ3G,UAAUgjB,oBAAsB,WACpCxkB,KAAKyS,UAA6B,QAAjBzS,KAAKyS,WAG1BtK,EAAQ3G,UAAUkR,oBAAsB,WAChCkiB,EAASlnB,uBACb1N,KAAKyS,UAA6B,UAAjBzS,KAAKyS,YAG1BtK,EAAQ3G,UAAUy1B,YAAc,SAAUnjB,GACtC,IAAInS,EAAgB,IAAVmS,EAAc9T,KAAKm1B,WAAan1B,KAC1B,EAAR8T,EAAY,EAAI,GACxB,GAAInS,IAAQgzB,EAEL,YAAY50B,IAAR4B,GAAqB3B,KAAKqb,WAC1Brb,KAAKghB,cAETrf,GAGXwG,EAAQ3G,UAAU01B,WAAa,SAAUpjB,GACrC,OAAO9T,KACS,EAAR8T,EAAY,EAAI,IAG5B3L,EAAQ3G,UAAU21B,sBAAwB,SAAUrjB,GAChD,OAAO9T,KACS,EAAR8T,EAAY,EAAI,IAG5B3L,EAAQ3G,UAAU41B,oBAAsB,SAAUtjB,GAC9C,OAAO9T,KACS,EAAR8T,EAAY,EAAI,IAG5B3L,EAAQ3G,UAAUwf,YAAc,aAEhC7Y,EAAQ3G,UAAU61B,kBAAoB,SAAUC,GAC7BA,EAAS7kB,UAAxB,IACIif,EAAU4F,EAAStC,qBACnBtkB,EAAS4mB,EAASrC,mBAClB7sB,EAAUkvB,EAASpC,UACnBppB,EAAWwrB,EAASL,YAAY,QACnBl3B,IAAb+L,IAAwBA,EAAW6oB,GACvC30B,KAAK22B,cAAcjF,EAAShhB,EAAQtI,EAAS0D,EAAU,OAG3D3D,EAAQ3G,UAAU+1B,mBAAqB,SAAUD,EAAUxjB,GACvD,IAAI4d,EAAU4F,EAASH,sBAAsBrjB,GACzCpD,EAAS4mB,EAASF,oBAAoBtjB,GACtC1L,EAAUkvB,EAASJ,WAAWpjB,GAC9BhI,EAAWwrB,EAASL,YAAYnjB,QACnB/T,IAAb+L,IAAwBA,EAAW6oB,GACvC30B,KAAK22B,cAAcjF,EAAShhB,EAAQtI,EAAS0D,EAAU,OAG3D3D,EAAQ3G,UAAUm1B,cAAgB,SAC9BjF,EACAhhB,EACAtI,EACA0D,EACAwL,GAEA,IAAIxD,EAAQ9T,KAAKuL,UAOjB,GALIuI,GAAS,QACTA,EAAQ,EACR9T,KAAK42B,WAAW,IAGN,IAAV9iB,EACA9T,KAAKk1B,UAAY9sB,EACjBpI,KAAKm1B,WAAarpB,EACK,mBAAZ4lB,IACP1xB,KAAKg1B,qBACU,OAAX1d,EAAkBoa,EAAUrhB,EAAQhI,WAAWiP,EAAQoa,IAEzC,mBAAXhhB,IACP1Q,KAAKi1B,mBACU,OAAX3d,EAAkB5G,EAASL,EAAQhI,WAAWiP,EAAQ5G,QAE3D,CACH,IAAI8mB,EAAe,EAAR1jB,EAAY,EACvB9T,KAAKw3B,EAAO,GAAKpvB,EACjBpI,KAAKw3B,EAAO,GAAK1rB,EACM,mBAAZ4lB,IACP1xB,KAAKw3B,EAAO,GACG,OAAXlgB,EAAkBoa,EAAUrhB,EAAQhI,WAAWiP,EAAQoa,IAEzC,mBAAXhhB,IACP1Q,KAAKw3B,EAAO,GACG,OAAXlgB,EAAkB5G,EAASL,EAAQhI,WAAWiP,EAAQ5G,IAIlE,OADA1Q,KAAK42B,WAAW9iB,EAAQ,GACjBA,GAGX3L,EAAQ3G,UAAUgS,OAAS,SAAUikB,EAAW7rB,GAC5C5L,KAAK22B,mBAAc52B,OAAWA,EAAW6L,EAAK6rB,EAAW,OAG7DtvB,EAAQ3G,UAAU4P,iBAAmB,SAASnP,EAAOy1B,GACjD,GAAsC,IAAf,UAAjB13B,KAAKyS,WAAX,CACA,GAAIxQ,IAAUjC,KACV,OAAOA,KAAKsR,gBAAgBmjB,KAA2B,GAC3D,IAAInhB,EAAe7B,EAAoBxP,EAAOjC,MAC9C,KAAMsT,aAAwBnL,GAAU,OAAOnI,KAAK8Q,SAAS7O,GAEzDy1B,GAAY13B,KAAK+R,eAAeuB,EAAc,GAElD,IAAIlL,EAAUkL,EAAad,UAE3B,GAAIpK,IAAYpI,KAAhB,CAKA,IAAIuS,EAAWnK,EAAQqK,UACvB,GAA+B,IAAd,SAAXF,GAA6B,CAC/B,IAAI/N,EAAMxE,KAAKuL,UACX/G,EAAM,GAAG4D,EAAQivB,kBAAkBr3B,MACvC,IAAK,IAAIuE,EAAI,EAAGA,EAAIC,IAAOD,EACvB6D,EAAQmvB,mBAAmBv3B,KAAMuE,GAErCvE,KAAK82B,gBACL92B,KAAK42B,WAAW,GAChB52B,KAAK23B,aAAavvB,QACf,GAA+B,IAAd,SAAXmK,GACTvS,KAAK8Q,SAAS1I,EAAQyK,eACnB,GAA+B,IAAd,SAAXN,GACTvS,KAAK+Q,QAAQ3I,EAAQuK,eAClB,CACH,IAAItB,EAAS,IAAIhC,EAAkB,8BACnCjH,EAAQyP,kBAAkBxG,GAC1BrR,KAAK+Q,QAAQM,SArBbrR,KAAK+Q,QAAQ0jB,OAyBrBtsB,EAAQ3G,UAAU8P,gBAClB,SAASD,EAAQH,EAAa0mB,GAC1B,IAAIljB,EAAQrE,EAAQvJ,kBAAkBuK,GAClCwmB,EAAWnjB,IAAUrD,EACzB,IAAKwmB,IAAaD,GAA0BnU,EAAMtN,WAAY,CAC1D,IAAI3P,EAAU,4CACV6J,EAAQrJ,YAAYqK,GACxBrR,KAAKkX,MAAM1Q,GAAS,GAExBxG,KAAK6X,kBAAkBnD,IAAOxD,GAAc2mB,GAC5C73B,KAAK+Q,QAAQM,IAGjBlJ,EAAQ3G,UAAU4zB,qBAAuB,SAAU/a,GAC/C,GAAIA,IAAajK,EAAjB,CACA,IAAIhI,EAAUpI,KACdA,KAAKiR,qBACLjR,KAAKyQ,eACL,IAAIS,GAAc,EACdjM,EAAIjF,KAAK2b,SAAStB,EAAU,SAASpY,GACrCmG,EAAQgJ,iBAAiBnP,IAC1B,SAAUoP,GACTjJ,EAAQkJ,gBAAgBD,EAAQH,KAEpCA,GAAc,EACdlR,KAAK2Q,mBAEK5Q,IAANkF,GACAmD,EAAQkJ,gBAAgBrM,GAAG,KAInCkD,EAAQ3G,UAAUs2B,0BAA4B,SAC1C/b,EAASjQ,EAAU7J,EAAOmG,GAE1B,IAAImK,EAAWnK,EAAQqK,UACvB,GAA4B,IAAX,MAAXF,GAAN,CAEA,IAAIvB,EADJ5I,EAAQqI,eAEJ3E,IAAagpB,EACR7yB,GAAiC,iBAAjBA,EAAM4B,OAKvBmN,EAAI5N,EAAS2Y,GAAS7Y,MAAMlD,KAAKghB,cAAe/e,IAJhD+O,EAAInO,GACFd,EAAI,IAAIyN,EAAU,iCACIa,EAAQrJ,YAAY/E,IAKhD+O,EAAI5N,EAAS2Y,GAASla,KAAKiK,EAAU7J,GAEzC,IAAIqX,EAAiBlR,EAAQuI,cAED,IAAX,OADjB4B,EAAWnK,EAAQqK,cAGfzB,IAAM6P,EACNzY,EAAQ2I,QAAQ9O,GACT+O,IAAMnO,EACbuF,EAAQkJ,gBAAgBN,EAAEjP,GAAG,IAE7B0hB,EAAM9D,sBAAsB3O,EAAGsI,EAAgB,GAAKlR,EAASpI,MAC7DoI,EAAQgJ,iBAAiBJ,OAIjC7I,EAAQ3G,UAAUgR,QAAU,WAExB,IADA,IAAI7Q,EAAM3B,KACH2B,EAAI0iB,gBAAgB1iB,EAAMA,EAAI2iB,YACrC,OAAO3iB,GAGXwG,EAAQ3G,UAAU8iB,UAAY,WAC1B,OAAOtkB,KAAKi1B,oBAGhB9sB,EAAQ3G,UAAUm2B,aAAe,SAASvvB,GACtCpI,KAAKi1B,mBAAqB7sB,GAG9BD,EAAQ3G,UAAUu2B,eAAiB,SAAS3vB,EAAS2T,EAASjQ,EAAU7J,GACpE,IAAI+1B,EAAY5vB,aAAmBD,EAC/BoK,EAAWvS,KAAKyS,UAChBwlB,EAA8C,IAAf,UAAX1lB,GACI,IAAX,MAAXA,IACEylB,GAAW5vB,EAAQid,0BAEnBvZ,aAAoBwV,GACpBxV,EAASkW,oBACTlW,EAAS2V,cAAgBrZ,EACrBhF,EAAS2Y,GAASla,KAAKiK,EAAU7J,KAAWY,GAC5CuF,EAAQ2I,QAAQlO,EAASd,IAEtBga,IAAY2Y,EACnBtsB,EAAQ0I,SAAS4jB,EAAe7yB,KAAKiK,IAC9BA,aAAoB6F,EAC3B7F,EAAS6H,kBAAkBvL,GACpB4vB,GAAa5vB,aAAmBwJ,EACvCxJ,EAAQwK,UAER9G,EAASkI,UAEa,mBAAZ+H,EACTic,GAGGC,GAAiB7vB,EAAQsK,sBAC7B1S,KAAK83B,0BAA0B/b,EAASjQ,EAAU7J,EAAOmG,IAHzD2T,EAAQla,KAAKiK,EAAU7J,EAAOmG,GAK3B0D,aAAoB6F,EACtB7F,EAAS8H,gBACqB,IAAd,SAAXrB,GACFzG,EAAS2H,kBAAkBxR,EAAOmG,GAElC0D,EAAS4H,iBAAiBzR,EAAOmG,IAGlC4vB,IACHC,GAAiB7vB,EAAQsK,sBACE,IAAd,SAAXH,GACFnK,EAAQ0I,SAAS7O,GAEjBmG,EAAQ2I,QAAQ9O,KAK5BkG,EAAQ3G,UAAUk1B,uCAAyC,SAASvhB,GAChE,IAAI4G,EAAU5G,EAAI4G,QACd3T,EAAU+M,EAAI/M,QACd0D,EAAWqJ,EAAIrJ,SACf7J,EAAQkT,EAAIlT,MACO,mBAAZ8Z,EACD3T,aAAmBD,EAGrBnI,KAAK83B,0BAA0B/b,EAASjQ,EAAU7J,EAAOmG,GAFzD2T,EAAQla,KAAKiK,EAAU7J,EAAOmG,GAI3BA,aAAmBD,GAC1BC,EAAQ2I,QAAQ9O,IAIxBkG,EAAQ3G,UAAUi1B,kBAAoB,SAASthB,GAC3CnV,KAAK+3B,eAAe5iB,EAAI/M,QAAS+M,EAAI4G,QAAS5G,EAAIrJ,SAAUqJ,EAAIlT,QAGpEkG,EAAQ3G,UAAU02B,gBAAkB,SAASnc,EAAS9Z,EAAOsQ,GACzD,IAAInK,EAAUpI,KAAKk1B,UACfppB,EAAW9L,KAAKi3B,YAAY,GAChCj3B,KAAKk1B,eAAYn1B,EACjBC,KAAKm1B,gBAAap1B,EAClBC,KAAK+3B,eAAe3vB,EAAS2T,EAASjQ,EAAU7J,IAGpDkG,EAAQ3G,UAAU22B,0BAA4B,SAASrkB,GACnD,IAAI0jB,EAAe,EAAR1jB,EAAY,EACvB9T,KAAKw3B,EAAO,GACZx3B,KAAKw3B,EAAO,GACZx3B,KAAKw3B,EAAO,GACZx3B,KAAKw3B,EAAO,QAAKz3B,GAGrBoI,EAAQ3G,UAAUsP,SAAW,SAAU7O,GACnC,IAAIsQ,EAAWvS,KAAKyS,UACpB,MAAiB,UAAXF,KAA0B,IAAhC,CACA,GAAItQ,IAAUjC,KAAM,CAChB,IAAI+G,EAAM0tB,IAEV,OADAz0B,KAAK6X,kBAAkB9Q,GAChB/G,KAAK+Q,QAAQhK,GAExB/G,KAAKm2B,gBACLn2B,KAAKi1B,mBAAqBhzB,GAEV,MAAXsQ,GAAoB,IACW,IAAf,UAAXA,GACFvS,KAAKuN,kBAELqnB,EAAStmB,eAAetO,MAE5BA,KAAK+X,uBAIb5P,EAAQ3G,UAAUuP,QAAU,SAAUM,GAClC,IAAIkB,EAAWvS,KAAKyS,UACpB,MAAiB,UAAXF,KAA0B,IAAhC,CAIA,GAHAvS,KAAK62B,eACL72B,KAAKg1B,qBAAuB3jB,EAExBrR,KAAK+2B,WACL,OAAOnC,EAAS9mB,WAAWuD,EAAQhB,EAAQxI,SAG/B,MAAX0K,GAAoB,EACrBqiB,EAAStmB,eAAetO,MAExBA,KAAKqW,oCAIblO,EAAQ3G,UAAU42B,iBAAmB,SAAU5zB,EAAKvC,GAChD,IAAK,IAAIsC,EAAI,EAAGA,EAAIC,EAAKD,IAAK,CAC1B,IAAIwX,EAAU/b,KAAKm3B,sBAAsB5yB,GACrC6D,EAAUpI,KAAKk3B,WAAW3yB,GAC1BuH,EAAW9L,KAAKi3B,YAAY1yB,GAChCvE,KAAKm4B,0BAA0B5zB,GAC/BvE,KAAK+3B,eAAe3vB,EAAS2T,EAASjQ,EAAU7J,KAIxDkG,EAAQ3G,UAAU62B,gBAAkB,SAAU7zB,EAAK6M,GAC/C,IAAK,IAAI9M,EAAI,EAAGA,EAAIC,EAAKD,IAAK,CAC1B,IAAIwX,EAAU/b,KAAKo3B,oBAAoB7yB,GACnC6D,EAAUpI,KAAKk3B,WAAW3yB,GAC1BuH,EAAW9L,KAAKi3B,YAAY1yB,GAChCvE,KAAKm4B,0BAA0B5zB,GAC/BvE,KAAK+3B,eAAe3vB,EAAS2T,EAASjQ,EAAUuF,KAIxDlJ,EAAQ3G,UAAU+L,gBAAkB,WAChC,IAAIgF,EAAWvS,KAAKyS,UAChBjO,EAAkB,MAAX+N,EAEX,GAAI/N,EAAM,EAAG,CACT,GAA+B,IAAd,SAAX+N,GAA6B,CAC/B,IAAIlB,EAASrR,KAAKg1B,qBAClBh1B,KAAKk4B,gBAAgBl4B,KAAKi1B,mBAAoB5jB,EAAQkB,GACtDvS,KAAKq4B,gBAAgB7zB,EAAK6M,OACvB,CACH,IAAIpP,EAAQjC,KAAKi1B,mBACjBj1B,KAAKk4B,gBAAgBl4B,KAAKg1B,qBAAsB/yB,EAAOsQ,GACvDvS,KAAKo4B,iBAAiB5zB,EAAKvC,GAE/BjC,KAAK42B,WAAW,GAEpB52B,KAAK0b,0BAGTvT,EAAQ3G,UAAUqV,cAAgB,WAC9B,IAAItE,EAAWvS,KAAKyS,UACpB,OAA+B,IAAd,SAAXF,GACKvS,KAAKi1B,mBACsB,IAAd,SAAX1iB,GACFvS,KAAKg1B,0BADT,GAQX7sB,EAAQmwB,MAAQnwB,EAAQowB,QAAU,WAG9B,OAFA9U,EAAM/C,WAAW,gBAAiB,eAE3B,CACHtY,QAFU,IAAID,EAAQiI,GAGtBxG,QAASyrB,EACT3kB,OAAQ4kB,IAIhBjlB,EAAQzL,kBAAkBuD,EACH,2BACAssB,GAEvBvb,GAAO/Q,EAASiI,EAAUqB,EAAqBC,EAC3C+R,GACJlb,GAAKJ,EAASiI,EAAUqB,EAAqBgS,GAC7CzP,GAAO7L,EAASyJ,EAAcF,EAAc+R,GAC5C6B,GAAend,GACf0d,GAAuB1d,GACvB2H,GACI3H,EAASyJ,EAAcH,EAAqBrB,EAAUwkB,EAAUpf,GACpErN,EAAQA,QAAUA,EAClBA,EAAQQ,QAAU,QAClBK,GAAIb,EAASyJ,EAAcF,EAAcD,EAAqBrB,EAAUqT,GACxE+E,GAASrgB,GACTohB,GAAMphB,EAASuJ,EAAcD,EAAqB+X,EAAepZ,EAAUqT,GAC3E+H,GAAOrjB,EAASiI,EAAUqT,GAC1B2I,GAAWjkB,EAASuJ,EAActB,EAAUqB,EAAqBE,EAAW8R,GAC5EsK,GAAQ5lB,GACRmmB,GAAUnmB,EAASiI,GACnBkW,GAAMne,EAASyJ,EAAcH,EAAqBC,GAClD6f,GAAKppB,EAASiI,EAAUqB,EAAqBC,GAC7CkgB,GAAOzpB,EAASyJ,EAAcF,EAAcD,EAAqBrB,EAAUqT,GAC3EoP,GAAO1qB,EAASyJ,EAAc6R,GAC9BuP,GAAK7qB,EAASyJ,EAAcF,GAC5BtK,GAAOe,EAASiI,GAChB+jB,GAAKhsB,EAASiI,GACdokB,GAAIrsB,GAEAkI,EAAQrK,iBAAiBmC,GACzBkI,EAAQrK,iBAAiBmC,EAAQ3G,WAUjC+zB,EAAU,CAACiD,EAAG,IACdjD,EAAU,CAACkD,EAAG,IACdlD,EAAU,CAACmD,EAAG,IACdnD,EAAU,GACVA,EAAU,cACVA,OAAUx1B,GACVw1B,GAAU,GACVA,EAAU,IAAIptB,EAAQiI,IACtBqT,EAAMtD,UAAU7T,EAAMD,eAAgBgE,EAAQnH,eACvCf,KAKPwwB,GAEJ,SAASC,KACL,IAAUzwB,UAAY0wB,KAAU1wB,QAAUwwB,IAC1C,MAAO52B,IACP,OAAO82B,GAJY,oBAAZ1wB,UAAyBwwB,GAAMxwB,SAM1C,IAAI0wB,GAAWzwB,KACfywB,GAASD,WAAaA;;;;;;;;;;;;;;;;;;;;;;;;;AA2BhB,SAAUhgB,MAAMpX,WACpBtB,OAAOC,eAAeyY,MAAMpX,UAAW,OAAQ,CAC7CmD,IAAK,WAGH,IAFA,IAAIm0B,EAAO,GACPC,EAAc/4B,KAAKiD,OAChB81B,GACLD,EAAKh3B,KAAKi3B,GACVA,EAAcA,EAAYC,cAM5B,OAJ8B,IAA1BF,EAAKtZ,QAAQlgB,UAA8C,IAA5Bw5B,EAAKtZ,QAAQrV,WAC9C2uB,EAAKh3B,KAAKqI,WACkB,IAA1B2uB,EAAKtZ,QAAQlgB,SACfw5B,EAAKh3B,KAAKxC,QACLw5B,KAKb,MAAMG,WAA0BC,EAC9BvwB,qBACE,MAAO,sBAGTwwB,WACE,qpfACEn5B,KAAKo5B,QAAU,2DAA6D,wFAE3Ep5B,KAAKo5B,QAAuE,GAA7D,qJAOpBC,wBACE,MAAO,CAACC,KAAO,CAACrc,MAAQ,YAAYsE,KAAO,SAASgY,KAAO,CAAC,QAAQ,OAAO,QAAQ,SAAS,QAAQC,UAAW,IAGjHC,mBACE,MAAO,CAACC,QAAU,CAACzc,MAAQ,qBAAqBsE,KAAO,QAAQoY,WAAY,EAAKC,MAAQ,CAAC3c,MAAQ,OAAO4c,MAAQ,CAAC,CAACC,KAAO,UAAUC,KAAO,CAAC9c,MAAQ,kBAAkBsE,KAAO,QAAQoY,WAAY,EAAKC,MAAQ,CAAC3c,MAAQ,OAAO4c,MAAQ,CAAC,CAACC,KAAO,WAEhPE,iBACE,MAAO,sBAGTC,kBACE,MAAO,2BAGTC,eACE,MAAO,2BAGTC,gBACE,MAAO,2BAGTC,qBACE,OAAOlB,EAAUmB,SAASC,UAI5BlB,cACE,OAAOp5B,KAAKu6B,aAAa,YAG3BC,gCACE,MAAO,CAAC,YAGVC,aACE,OAAOz6B,KAAKu6B,aAAa,aAG3BE,WAAWC,IACTA,EAAWC,QAAQD,IAGjB16B,KAAK46B,aAAa,YAAa,IAE/B56B,KAAK66B,gBAAgB,aAIzBC,eACE,OAAO96B,KAAKyK,UAAUswB,SAAS,YAGjCD,aAAaE,IACXA,EAAaL,QAAQK,KAGnBh7B,KAAKyK,UAAUwwB,IAAI,YAEfj7B,KAAKk7B,UACPl7B,KAAKk7B,SAASN,aAAa,iBAAiB,GAG1C56B,KAAK+5B,MACP/5B,KAAK+5B,KAAKc,gBAAgB,UAGxB76B,KAAKm7B,OACPn7B,KAAKm7B,MAAMP,aAAa,iBAAiB,KAG3C56B,KAAKyK,UAAU2wB,OAAO,YAElBp7B,KAAKk7B,UACPl7B,KAAKk7B,SAASN,aAAa,iBAAiB,GAG1C56B,KAAK+5B,MACP/5B,KAAK+5B,KAAKa,aAAa,SAAU,IAG/B56B,KAAKm7B,OACPn7B,KAAKm7B,MAAMP,aAAa,iBAAiB,IAK/CS,cACE,OAAQr7B,KAAKu6B,aAAa,UAG5Bc,YAAYC,IACVA,EAAYX,QAAQW,IAGlBt7B,KAAK66B,gBAAgB,UAErB76B,KAAK46B,aAAa,SAAU,IAIhCW,KAAKjjB,GACCA,GAAOA,EAAMkjB,iBAEjBx7B,KAAKuY,cACH,IAAIF,eAAerY,KAAKg6B,aAAc,CACpCvhB,OAAQ,CACNgjB,eAAgBz7B,KAChB07B,OAAQ,QAEVC,SAAS,EACTC,UAAU,KAKhBL,MAAMjjB,GACAA,GAAOA,EAAMkjB,iBAEjBx7B,KAAKuY,cACH,IAAIF,eAAerY,KAAKg6B,aAAc,CACpCvhB,OAAQ,CACNgjB,eAAgBz7B,KAChB07B,OAAQ,SAEVC,SAAS,EACTC,UAAU,KAKhBL,OAAOjjB,GACDA,GAAOA,EAAMkjB,iBAEjBx7B,KAAKuY,cACH,IAAIF,eAAerY,KAAKg6B,aAAc,CACpCvhB,OAAQ,CACNgjB,eAAgBz7B,MAElB27B,SAAS,EACTC,UAAU,KAKhBL,cACEM,MAAM5C,IAENj5B,KAAKy6B,QAAS,EACdz6B,KAAK86B,UAAW,EAChB96B,KAAK05B,QAAU,KACf15B,KAAK+5B,KAAO,KACZ/5B,KAAK87B,WAAa,KAClB97B,KAAK+7B,QAAU,KAEf/7B,KAAKk7B,SAAWl7B,KAAKg8B,WAAWC,kBAAkBj8B,KAAKg6B,gBACvDh6B,KAAKm7B,MAAQn7B,KAAKg8B,WAAWC,kBAAkBj8B,KAAKg6B,aACpDh6B,KAAKk8B,MAAQl8B,KAAKg8B,WAAWC,kBAAkBj8B,KAAKg6B,sBAGpDh6B,KAAKm8B,MAAQn8B,KAAKm8B,MAAM5zB,KAAKvI,MAC7BA,KAAKo8B,KAAOp8B,KAAKo8B,KAAK7zB,KAAKvI,MAC3BA,KAAK0K,OAAS1K,KAAK0K,OAAOnC,KAAKvI,MAE/BA,KAAKmS,MAAQnS,KAAKmS,MAAM5J,KAAKvI,MAC7BA,KAAKq8B,gBAAkBr8B,KAAKq8B,gBAAgB9zB,KAAKvI,MACjDA,KAAKs8B,cAAgBt8B,KAAKs8B,cAAc/zB,KAAKvI,MAC7CA,KAAKu8B,eAAiBv8B,KAAKu8B,eAAeh0B,KAAKvI,MAC/CA,KAAKw8B,mBAAqBx8B,KAAKw8B,mBAAmBj0B,KAAKvI,MAGzDu7B,oBACEM,MAAMY,oBAGa,IAAIz8B,KAAK08B,UAAUt1B,OAAOwS,IAAUA,EAAM2gB,aAAa,SAC/DvxB,IAAIkY,GAAQA,EAAK0Z,aAAa,OAAQ,YAGjD56B,KAAK05B,QAAU15B,KAAKi8B,cAAc,oBAClCj8B,KAAK+5B,KAAO/5B,KAAKi8B,cAAc,iBAG/Bj8B,KAAK28B,YAAc,GAGf38B,KAAK+5B,OACP/5B,KAAK28B,YAAc38B,KAAK28B,YAAY3P,OAAO,IAAIhtB,KAAK+5B,KAAK6C,oBAAoB58B,KAAKg6B,SAClFh6B,KAAK28B,YAAc38B,KAAK28B,YAAY3P,OAAO,IAAIhtB,KAAK+5B,KAAK6C,iBAAiB,SAAS5zB,IAAI6zB,GAC9EA,EAAKC,mBAAmB9zB,IAAIF,GAC1B,IAAIA,EAAK8zB,oBAAoB58B,KAAKg6B,UAE1C+C,KAAK,KAGV/8B,KAAKmS,QAGLnS,KAAK05B,QAAQsD,iBAAiB,aAAch9B,KAAKmS,OAGnDopB,yBAAyB0B,EAAMC,EAAUC,GACvCtB,MAAMuB,yBAAyBH,EAAMC,EAAUC,GAGjD5B,uBACEv7B,KAAK05B,QAAQ2D,oBAAoB,aAAcr9B,KAAKmS,OAEhDnS,KAAK+5B,MACP/5B,KAAKq9B,oBAAoB,UAAWr9B,KAAKq8B,iBAEzCr8B,KAAKk7B,SAASmC,oBAAoB,QAASr9B,KAAK0K,QAC5C1K,KAAK87B,YACP97B,KAAK87B,WAAWuB,oBAAoB,QAASr9B,KAAKs8B,iBAGpDt8B,KAAKk7B,SAASmC,oBAAoB,QAASr9B,KAAKu8B,gBAChDv8B,KAAKk7B,SAASmC,oBAAoB,UAAWr9B,KAAKw8B,qBAItDjB,QACEv7B,KAAK87B,WAAa97B,KAAK05B,QAAQuC,cAAc,KAGzCj8B,KAAK+5B,MAEP/5B,KAAKk7B,SAAS8B,iBAAiB,QAASh9B,KAAK0K,QAE7C1K,KAAKg9B,iBAAiB,UAAWh9B,KAAKq8B,iBAGlCr8B,KAAK87B,aACP97B,KAAK87B,WAAWlB,aAAa,WAAY,MACzC56B,KAAK87B,WAAWkB,iBAAiB,QAASh9B,KAAKs8B,kBAGjDt8B,KAAK+7B,QAAU/7B,KAAK87B,WAAa97B,KAAK87B,WAAWwB,KAAO,IACxDt9B,KAAKk7B,SAAS8B,iBAAiB,QAASh9B,KAAKu8B,gBAC7Cv8B,KAAKk7B,SAAS8B,iBAAiB,UAAWh9B,KAAKw8B,qBAInDjB,cAAcjjB,GACZA,EAAMkjB,iBAGRD,eAAejjB,GACbA,EAAMkjB,iBACNl8B,OAAOi+B,SAASD,KAAOt9B,KAAK+7B,QAG9BR,mBAAmBjjB,GACjB,OAAQA,EAAM1W,KACZ,IAAK,WACL,IAAK,QACL,IAAK,IACH5B,KAAKu8B,eAAejkB,GACpB,MACF,QACE,QAINijB,gBAAgBjjB,GAEd,OAAQA,EAAM1W,KACZ,IAAK,WACL,IAAK,QACL,IAAK,IAEC0W,GAASA,EAAMwgB,MAAQxgB,EAAMwgB,KAAK,IAAMxgB,EAAMwgB,KAAK,GAAGruB,UAAUswB,YAAY/6B,KAAKg6B,iBACnFh6B,KAAK0K,OAAO4N,GAEd,MACF,IAAK,MACL,IAAK,SACHtY,KAAKm8B,MAAM7jB,GACXtY,KAAKw9B,QACL,MACF,QACE,SAKR,MAAMC,WAA0BvE,EAC9BvwB,qBACE,MAAO,sBAGTwwB,WACE,MAAO,m2BAGTE,wBACE,MAAO,CAACqE,OAAS,CAACzgB,MAAQ,oBAAoBsE,KAAO,UAAUoc,SAAU,EAAKnE,UAAW,GAAMoE,iBAAiB,CAAC3gB,MAAQ,kCAAkCsE,KAAO,SAASgY,KAAO,CAAC,YAAYoE,QAAU,WAAWnE,UAAW,IAGjOC,mBACE,MAAO,CAACoE,KAAO,CAAC5gB,MAAQ,kBAAkBsE,KAAO,QAAQoY,WAAY,EAAKC,MAAQ,CAAC3c,MAAQ,OAAO4c,MAAQ,CAAC,CAACC,KAAO,UAAUgE,KAAO,CAAC7gB,MAAQ,OAAOsE,KAAO,QAAQoY,WAAY,EAAKC,MAAQ,CAAC3c,MAAQ,OAAO4c,MAAQ,CAAC,CAACC,KAAO,UAAUiE,OAAS,CAAC9gB,MAAQ,SAASsE,KAAO,QAAQoY,WAAY,EAAKC,MAAQ,CAAC3c,MAAQ,OAAO4c,MAAQ,CAAC,CAACC,KAAO,0BAA0BkE,gBAAgB,CAAC/gB,MAAQ,8BAA8BsE,KAAO,QAAQoY,WAAY,EAAKC,MAAQ,CAAC3c,MAAQ,OAAO4c,MAAQ,CAAC,CAACC,KAAO,UAAUmE,KAAO,CAAChhB,MAAQ,kBAAkBsE,KAAO,QAAQoY,WAAY,EAAMC,MAAQ,CAAC3c,MAAQ,OAAO4c,MAAQ,CAAC,CAACC,KAAO,OAAO,CAACA,KAAO,UAAUoE,SAAW,CAACjhB,MAAQ,oBAAoBsE,KAAO,QAAQoY,WAAY,EAAKC,MAAQ,CAAC3c,MAAQ,OAAO4c,MAAQ,CAAC,CAACC,KAAO,0BAA0BqE,kBAAkB,CAAClhB,MAAQ,+BAA+BsE,KAAO,QAAQoY,WAAY,EAAKC,MAAQ,CAAC3c,MAAQ,OAAO4c,MAAQ,CAAC,CAACC,KAAO,QAAQsE,MAAQ,CAACnhB,MAAQ,SAASsE,KAAO,QAAQoY,WAAY,EAAKC,MAAQ,CAAC3c,MAAQ,OAAO4c,MAAQ,CAAC,CAACC,KAAO,0BAA0BuE,eAAe,CAACphB,MAAQ,6BAA6BsE,KAAO,QAAQoY,WAAY,EAAKC,MAAQ,CAAC3c,MAAQ,OAAO4c,MAAQ,CAAC,CAACC,KAAO,QAAQwE,gBAAgB,CAACrhB,MAAQ,gBAAgBsE,KAAO,QAAQoY,WAAY,EAAKC,MAAQ,CAAC3c,MAAQ,OAAO4c,MAAQ,CAAC,CAACC,KAAO,2BAEjwCE,iBACE,MAAO,sBAGTC,kBACE,MAAO,2BAGTC,eACE,MAAO,2BAGTE,qBACE,OAAOlB,EAAUmB,SAASC,UAG5BE,gCACE,MAAO,CAAC,gBAGVe,cACEM,MAAM4B,IAGNz9B,KAAKu+B,SAAWv+B,KAAK48B,iBAAiB,uBAEtC58B,KAAKw+B,MAAQx+B,KAAKu+B,SAASrd,KAAK,GAEhClhB,KAAK8mB,KAAO9mB,KAAKu+B,SAASrd,KAAKlhB,KAAKu+B,SAAS16B,OAAS,GAEtD7D,KAAKmS,MAAQnS,KAAKmS,MAAM5J,KAAKvI,MAG/Bu7B,oBACEM,MAAMY,oBAENz8B,KAAKmS,QAGLnS,KAAKg9B,iBAAiB,aAAch9B,KAAKmS,OAG3CopB,uBACEv7B,KAAKq9B,oBAAoB,aAAcr9B,KAAKmS,OAG9CopB,QAEEv7B,KAAK46B,aAAa,OAAQ,cAC1B56B,KAAK46B,aAAa,aAAc,QAGhC56B,KAAKu+B,SAASxN,QAAQ7P,IACpBA,EAAKuZ,QAAS,IAIZz6B,KAAKw+B,OAAOx+B,KAAKw+B,MAAM5D,aAAa,QAAS,IAC7C56B,KAAK8mB,MAAM9mB,KAAK8mB,KAAK8T,aAAa,OAAQ,KAIlD,MAAM6D,WAAsBvF,EAC1BvwB,qBACE,MAAO,sBAGTwwB,WACE,MAAO,lthDA2CTE,wBACE,MAAO,CAACqE,OAAS,CAACzgB,MAAQ,oBAAoBsE,KAAO,UAAUoc,SAAU,EAAKnE,UAAW,GAAMoE,iBAAiB,CAAC3gB,MAAQ,kCAAkCsE,KAAO,SAASgY,KAAO,CAAC,YAAYoE,QAAU,WAAWnE,UAAW,IAGjOC,mBACE,MAAO,CAACoE,KAAO,CAAC5gB,MAAQ,kBAAkBsE,KAAO,QAAQoY,WAAY,EAAKC,MAAQ,CAAC3c,MAAQ,OAAO4c,MAAQ,CAAC,CAACC,KAAO,UAAUgE,KAAO,CAAC7gB,MAAQ,OAAOsE,KAAO,QAAQoY,WAAY,EAAKC,MAAQ,CAAC3c,MAAQ,OAAO4c,MAAQ,CAAC,CAACC,KAAO,UAAUiE,OAAS,CAAC9gB,MAAQ,SAASsE,KAAO,QAAQoY,WAAY,EAAKC,MAAQ,CAAC3c,MAAQ,OAAO4c,MAAQ,CAAC,CAACC,KAAO,0BAA0BkE,gBAAgB,CAAC/gB,MAAQ,8BAA8BsE,KAAO,QAAQoY,WAAY,EAAKC,MAAQ,CAAC3c,MAAQ,OAAO4c,MAAQ,CAAC,CAACC,KAAO,UAAUmE,KAAO,CAAChhB,MAAQ,kBAAkBsE,KAAO,QAAQoY,WAAY,EAAMC,MAAQ,CAAC3c,MAAQ,OAAO4c,MAAQ,CAAC,CAACC,KAAO,OAAO,CAACA,KAAO,UAAUoE,SAAW,CAACjhB,MAAQ,oBAAoBsE,KAAO,QAAQoY,WAAY,EAAKC,MAAQ,CAAC3c,MAAQ,OAAO4c,MAAQ,CAAC,CAACC,KAAO,0BAA0BqE,kBAAkB,CAAClhB,MAAQ,+BAA+BsE,KAAO,QAAQoY,WAAY,EAAKC,MAAQ,CAAC3c,MAAQ,OAAO4c,MAAQ,CAAC,CAACC,KAAO,QAAQsE,MAAQ,CAACnhB,MAAQ,SAASsE,KAAO,QAAQoY,WAAY,EAAKC,MAAQ,CAAC3c,MAAQ,OAAO4c,MAAQ,CAAC,CAACC,KAAO,0BAA0BuE,eAAe,CAACphB,MAAQ,6BAA6BsE,KAAO,QAAQoY,WAAY,EAAKC,MAAQ,CAAC3c,MAAQ,OAAO4c,MAAQ,CAAC,CAACC,KAAO,QAAQwE,gBAAgB,CAACrhB,MAAQ,gBAAgBsE,KAAO,QAAQoY,WAAY,EAAKC,MAAQ,CAAC3c,MAAQ,OAAO4c,MAAQ,CAAC,CAACC,KAAO,2BAEjwCE,iBACE,MAAO,iBAGTC,kBACE,MAAO,sBAGTC,eACE,MAAO,sBAGTC,gBACE,MAAO,sBAGToB,0BACEv7B,KAAKuY,cACH,IAAIF,YAAY,6BAA8B,CAC5CI,OAAQ,CACNijB,OAAQ,SAEVC,SAAS,EACTC,UAAU,KAKhB8C,cACE,OAAQ1+B,KAAK2+B,SAASpE,aAAa,UAGrCmE,YAAYE,GACNA,GAEF5+B,KAAK2+B,SAAS9D,gBAAgB,UAE9B1wB,SAAS+lB,KAAK2O,MAAMC,SAAW,WAG/B9+B,KAAK2+B,SAAS/D,aAAa,SAAU,IAErCzwB,SAAS+lB,KAAK2O,MAAMC,SAAW,QAKnCvD,cACEM,MAAM4C,IAGNz+B,KAAKmS,MAAQnS,KAAKmS,MAAM5J,KAAKvI,MAC7BA,KAAK++B,eAAiB/+B,KAAK++B,eAAex2B,KAAKvI,MAG/CA,KAAKg/B,gBAAkBh/B,KAAKg/B,gBAAgBz2B,KAAKvI,MACjDA,KAAKi/B,yBAA2Bj/B,KAAKi/B,yBAAyB12B,KAAKvI,MACnEA,KAAKk/B,iBAAmBl/B,KAAKk/B,iBAAiB32B,KAAKvI,MACnDA,KAAKm/B,eAAiBn/B,KAAKm/B,eAAe52B,KAAKvI,MAC/CA,KAAKo/B,eAAiBp/B,KAAKo/B,eAAe72B,KAAKvI,MAC/CA,KAAKq/B,wBAA0Br/B,KAAKq/B,wBAAwB92B,KAAKvI,MACjEA,KAAKs/B,iBAAmBt/B,KAAKs/B,iBAAiB/2B,KAAKvI,MACnDA,KAAKu/B,UAAY,IAAIh2B,iBAAiBvJ,KAAKk/B,kBAG3Cl/B,KAAK2+B,SAAW3+B,KAAKg8B,WAAWC,cAAc,4BAC9Cj8B,KAAKw/B,UAAYx/B,KAAKg8B,WAAWC,cAAc,wCAG/Cj8B,KAAKy/B,uBAAyB,GAE9Bz/B,KAAK0/B,aAAc,EACnB1/B,KAAK0+B,SAAU,EAEf1+B,KAAK2/B,IAAM3/B,KAAK4/B,wBAAwBD,KAAO,EAIjDpE,oBACEM,MAAMY,oBAGFz8B,KAAK08B,SAAS74B,QAEhB7D,KAAK6/B,YAAc,CACjB5B,KAAM,CAAC,EAAG,MACVF,OAAQ,CAAC,KACTC,gBAAiB,CAAC,EAAG,KACrBE,SAAU,CAAC,KACXC,kBAAmB,CAAC,EAAG,KACvBC,MAAO,CAAC,KACRC,eAAgB,CAAC,EAAG,MAItBr+B,KAAK0/B,YAAc1/B,KAAKmS,QAGxBnS,KAAKg9B,iBAAiB,6BAA8Bh9B,KAAKg/B,iBAGzD1/B,OAAO09B,iBAAiB,SAAUh9B,KAAKm/B,iBAEvChiB,QAAQjB,MAAM,sGAIlBqf,uBAEEv7B,KAAKq9B,oBAAoB,6BAA8Br9B,KAAKg/B,iBAG5D1/B,OAAO+9B,oBAAoB,SAAUr9B,KAAKm/B,gBAC1C7/B,OAAO+9B,oBAAoB,SAAUr9B,KAAKo/B,gBAC1Cj1B,SAASkzB,oBAAoB,QAASr9B,KAAKs/B,kBAE3Ct/B,KAAKu/B,UAAU30B,aAGjB2wB,iBAAiBuE,GAEf9/B,KAAK0/B,aAAc,EACnB1/B,KAAK0/B,YAAc1/B,KAAKmS,QAG1BopB,eAAejjB,GAEbtY,KAAK++B,eAAe/+B,KAAK+/B,aAGzB//B,KAAKy/B,uBAAuB1O,QAAQ7P,IAE9BA,EAAK4Z,WAAa5Z,EAAKma,SACzBna,EAAK4Z,UAAW,EAChB96B,KAAKy/B,uBAAyBz/B,KAAKy/B,uBAAuBr4B,OAAO7C,GAAKA,IAAM2c,IACnEA,EAAK4Z,UAAY5Z,EAAKjG,QAAUiG,EAAKjG,OAAOogB,UACrDna,EAAKjG,OAAO6f,UAAW,EAElB96B,KAAKy/B,uBAAuBO,SAAS9e,EAAKjG,SAC7Cjb,KAAKy/B,uBAAuB39B,KAAKof,EAAKjG,WAK5Cjb,KAAK0+B,QAAU1+B,KAAKy/B,uBAAuB57B,OAAS,EAGtD03B,2BAEEv7B,KAAKy/B,uBAAyBz/B,KAAKy/B,uBAAuBr4B,OAAO8Z,IAC/DA,EAAK4Z,UAAW,GACT,IAGT96B,KAAK0+B,QAAU1+B,KAAKy/B,uBAAuB57B,OAAS,EAGtD03B,gBAAgBjjB,GACd,IAAI6jB,KAAQ7jB,IAASA,EAAMG,SAAiC,UAAxBH,EAAMG,OAAOijB,OAC7CuE,EAAU3nB,GAASA,EAAMG,OAASH,EAAMG,OAAOgjB,eAAiB,KAChEyE,EAAelgC,KAAKy/B,uBAGpBU,EAAcD,EAAa94B,OAAO8Z,GAAQ+e,GAAWA,EAAQhlB,QAAUglB,EAAQhlB,SAAWiG,EAAKjG,QAAUglB,EAAQhlB,OAAOogB,SACxH+E,EAAgBH,GAAWA,EAAQhlB,QAAUglB,EAAQhlB,OAAOogB,SAAW6E,EAAaF,SAASC,EAAQhlB,QACrGolB,EAASH,EAAaF,SAASC,GAG/B9D,IAAW8D,GAAWC,EAAar8B,OAAS,GAAOo8B,GAAWA,EAAQ5E,UAAY+E,GAEpFF,EAAal3B,IAAIkY,IACfA,EAAK4Z,UAAW,IAElB96B,KAAKy/B,uBAAyB,IAGvBQ,GAAWA,EAAQ5E,SAAW+E,GAAiBD,EAAYt8B,OAAS,IAE3E7D,KAAKy/B,uBAAyBS,EAAa94B,OAAO8Z,IAChD,GAAIA,IAAS+e,EAAQhlB,OAGnB,OAAOiG,EAFPA,EAAK4Z,UAAW,KAQlBuF,GACFJ,EAAQnF,UAAW,EAEnB96B,KAAKy/B,uBAAyBS,EAAa94B,OAAO8Z,GAAQA,IAAS+e,KAG7DA,GAAYI,GAAWlE,EAK7Bn8B,KAAKi/B,4BAHLgB,EAAQnF,UAAW,EACnB96B,KAAKy/B,uBAAuB39B,KAAKm+B,IAMnCjgC,KAAK0+B,QAAW1+B,KAAKy/B,uBAAuB57B,OAAS,EAKvD03B,iBACKj8B,OAAOghC,aAAetgC,KAAK2/B,IAC5B3/B,KAAKyK,UAAUwwB,IAAI,UAEnBj7B,KAAKyK,UAAU2wB,OAAO,UAI1BG,iBAAiBjjB,IACVA,EAAMrV,SAAWjD,MAAmD,OAA3CsY,EAAMrV,OAAOs9B,QAAQ,mBAA+BjoB,EAAMwgB,KAAKj1B,OAAS,GAAKyU,EAAMwgB,KAAK,KAAO94B,KAAK2+B,WAChI3+B,KAAKi/B,2BAIT1D,eAAeiF,GACbtgC,OAAO+wB,QAAQjxB,KAAK6/B,aAAa72B,IAAIkY,IACnC,IAAIuf,EAAQvf,EAAK,GACbwf,EAAMxf,EAAK,GACXyf,EAAQD,EAAI,GACZE,EAAMF,EAAI,GACVpF,GAAY,EAGZt7B,KAAKy5B,MAAMgH,IAAUzgC,KAAKy5B,MAAMgH,GAAOniB,MAAMza,OAAS,IACpD28B,EAAQG,KAAWC,GAAQA,GAAOJ,EAAQI,KAC5CtF,GAAY,GAGdt7B,KAAKy5B,MAAMgH,GAAOniB,MAAMyS,QAAQjoB,IAChB,SAAV23B,EACF33B,EAAKuyB,QAAUC,GAEfA,EAAYxyB,EAAK+xB,gBAAgB,gBAAkB/xB,EAAK8xB,aAAa,eAAgB,IACrF56B,KAAKw/B,UAAUnE,QAAUC,EACzBxyB,EAAKy1B,SAASxN,QAAQ7P,GAAQoa,EAAYpa,EAAK2Z,gBAAgB,iBAAmB3Z,EAAK0Z,aAAa,gBAAiB,WAO/HW,QACE,IAAIv7B,KAAK0/B,YAAa,CAEhBpgC,OAAOuhC,UACT7gC,KAAKu/B,UAAU30B,aAIjB,IAAIk2B,EAAU9gC,KAAKi8B,cAAc,uBAC7B6E,GAAWA,EAAQvC,UACrBuC,EAAQvC,SAASxN,QAAQ7P,IACvBA,EAAKjG,OAASjb,KAAKw/B,YAKvBx/B,KAAK++B,eAAe/+B,KAAK+/B,aAGtB//B,KAAKu6B,aAAa,eAAoD,SAAnCv6B,KAAK+gC,aAAa,gBAEtD/gC,KAAKo/B,iBAGL9/B,OAAO09B,iBAAiB,SAAUh9B,KAAKo/B,iBAItCp/B,KAAKu6B,aAAa,uBAAqE,aAA5Cv6B,KAAK+gC,aAAa,uBAC9D52B,SAAS6yB,iBAAiB,QAASh9B,KAAKs/B,kBAItChgC,OAAOuhC,UACT52B,WAAW,KACTjK,KAAKu/B,UAAU50B,QAAQ3K,KAAM,CAC3BghC,WAAW,EACXC,SAAS,EACTC,eAAe,KAEhB,GAIP,OAAO,GAIXhI,EAAU1zB,OAAOyzB,IACjBC,EAAU1zB,OAAOi4B,IACjBvE,EAAU1zB,OAAOi5B"}