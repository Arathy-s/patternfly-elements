import e from"../pfelement/pfelement.min.js";import"../pfe-accordion/pfe-accordion.min.js";var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(e,t){return e(t={exports:{}},t.exports),t.exports}var n=i(function(e){var t=function(){return void 0===this}();if(t)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:t,propertyIsWritable:function(e,t){var i=Object.getOwnPropertyDescriptor(e,t);return!(i&&!i.writable&&!i.set)}};else{var i={}.hasOwnProperty,n={}.toString,r={}.constructor.prototype,o=function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t};e.exports={isArray:function(e){try{return"[object Array]"===n.call(e)}catch(e){return!1}},keys:o,names:o,defineProperty:function(e,t,i){return e[t]=i.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return r}},isES5:t,propertyIsWritable:function(){return!0}}}}),r=n.freeze,o=n.defineProperty,a=n.getDescriptor,s=n.keys,l=n.names,c=n.getPrototypeOf,p=n.isArray,h=n.isES5,u=n.propertyIsWritable,f="undefined"==typeof navigator,d={e:{}},v,g="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:void 0!==t?t:null;function _(){try{var e=v;return v=null,e.apply(this,arguments)}catch(e){return d.e=e,d}}function m(e){return v=e,_}var y=function(e,t){var i={}.hasOwnProperty;function n(){for(var n in this.constructor=e,this.constructor$=t,t.prototype)i.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}return n.prototype=t.prototype,e.prototype=new n,e.prototype};function b(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function w(e){return"function"==typeof e||"object"==typeof e&&null!==e}function x(e){return b(e)?new Error(L(e)):e}function k(e,t){var i,n=e.length,r=new Array(n+1);for(i=0;i<n;++i)r[i]=e[i];return r[i]=t,r}function C(e,t,i){if(!n.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:i:void 0}function E(e,t,i){if(b(e))return e;var r={value:i,configurable:!0,enumerable:!1,writable:!0};return n.defineProperty(e,t,r),e}function j(e){throw e}var F=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var i=0;i<e.length;++i)if(e[i]===t)return!0;return!1};if(n.isES5){var i=Object.getOwnPropertyNames;return function(e){for(var r=[],o=Object.create(null);null!=e&&!t(e);){var a;try{a=i(e)}catch(e){return r}for(var s=0;s<a.length;++s){var l=a[s];if(!o[l]){o[l]=!0;var c=Object.getOwnPropertyDescriptor(e,l);null!=c&&null==c.get&&null==c.set&&r.push(l)}}e=n.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(i){if(t(i))return[];var n=[];e:for(var o in i)if(r.call(i,o))n.push(o);else{for(var a=0;a<e.length;++a)if(r.call(e[a],o))continue e;n.push(o)}return n}}(),T=/this\s*\.\s*\S+\s*=/;function S(e){try{if("function"==typeof e){var t=n.names(e.prototype),i=n.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),o=T.test(e+"")&&n.names(e).length>0;if(i||r||o)return!0}return!1}catch(e){return!1}}function P(e){return e}var O=/^[a-z$_][a-z$_0-9]*$/i;function A(e){return O.test(e)}function R(e,t,i){for(var n=new Array(e),r=0;r<e;++r)n[r]=t+r+i;return n}function L(e){try{return e+""}catch(e){return"[no string representation]"}}function I(e){return e instanceof Error||null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function B(e){try{E(e,"isOperational",!0)}catch(e){}}function z(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)}function N(e){return I(e)&&n.propertyIsWritable(e,"stack")}var H="stack"in new Error?function(e){return N(e)?e:new Error(L(e))}:function(e){if(N(e))return e;try{throw new Error(L(e))}catch(e){return e}};function M(e){return{}.toString.call(e)}function D(e,t,i){for(var r=n.names(e),o=0;o<r.length;++o){var a=r[o];if(i(a))try{n.defineProperty(t,a,n.getDescriptor(e,a))}catch(e){}}}var V=function(e){return n.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var U="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,i=[],n=e[Symbol.iterator]();!(t=n.next()).done;)i.push(t.value);return i};V=function(e){return n.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?U(e):null}}var $="undefined"!=typeof process&&"[object process]"===M(process).toLowerCase(),q="undefined"!=typeof process&&void 0!==process.env;function W(e){return q?process.env[e]:void 0}function Q(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(e){}}function G(e,t){return e.bind(t)}var X={isClass:S,isIdentifier:A,inheritedDataKeys:F,getDataPropertyOrDefault:C,thrower:j,isArray:n.isArray,asArray:V,notEnumerableProp:E,isPrimitive:b,isObject:w,isError:I,canEvaluate:f,errorObj:d,tryCatch:m,inherits:y,withAppended:k,maybeWrapAsError:x,toFastProperties:P,filledRange:R,toString:L,canAttachTrace:N,ensureErrorObject:H,originatesFromRejection:z,markAsOriginatingFromRejection:B,classString:M,copyDescriptors:D,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:$,hasEnvVariables:q,env:W,global:g,getNativePromise:Q,domainBind:G},K;X.isRecentNode=X.isNode&&(K=process.versions.node.split(".").map(Number),0===K[0]&&K[1]>10||K[0]>0),X.isNode&&X.toFastProperties(process);try{throw new Error}catch(e){X.lastLineError=e}var Y=X,J,Z=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},ee=Y.getNativePromise();if(Y.isNode&&"undefined"==typeof MutationObserver){var te=t.setImmediate,ie=process.nextTick;J=Y.isRecentNode?function(e){te.call(t,e)}:function(e){ie.call(process,e)}}else if("function"==typeof ee&&"function"==typeof ee.resolve){var ne=ee.resolve();J=function(e){ne.then(e)}}else J="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:Z:function(){var e=document.createElement("div"),t={attributes:!0},i=!1,n=document.createElement("div");new MutationObserver(function(){e.classList.toggle("foo"),i=!1}).observe(n,t);return function(r){var o=new MutationObserver(function(){o.disconnect(),r()});o.observe(e,t),i||(i=!0,n.classList.toggle("foo"))}}();var re=J;function oe(e,t,i,n,r){for(var o=0;o<r;++o)i[o+n]=e[o+t],e[o+t]=void 0}function ae(e){this._capacity=e,this._length=0,this._front=0}ae.prototype._willBeOverCapacity=function(e){return this._capacity<e},ae.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},ae.prototype.push=function(e,t,i){var n=this.length()+3;if(this._willBeOverCapacity(n))return this._pushOne(e),this._pushOne(t),void this._pushOne(i);var r=this._front+n-3;this._checkCapacity(n);var o=this._capacity-1;this[r+0&o]=e,this[r+1&o]=t,this[r+2&o]=i,this._length=n},ae.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},ae.prototype.length=function(){return this._length},ae.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},ae.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e,oe(this,0,this,t,this._front+this._length&t-1)};var se=ae,le;try{throw new Error}catch(e){le=e}function ce(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new se(16),this._normalQueue=new se(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=re}function pe(e,t,i){this._lateQueue.push(e,t,i),this._queueTick()}function he(e,t,i){this._normalQueue.push(e,t,i),this._queueTick()}function ue(e){this._normalQueue._pushOne(e),this._queueTick()}function fe(e){for(;e.length()>0;)de(e)}function de(e){var t=e.shift();if("function"!=typeof t)t._settlePromises();else{var i=e.shift(),n=e.shift();t.call(i,n)}}ce.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},ce.prototype.hasCustomScheduler=function(){return this._customScheduler},ce.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},ce.prototype.disableTrampolineIfNecessary=function(){Y.hasDevTools&&(this._trampolineEnabled=!1)},ce.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},ce.prototype.fatalError=function(e,t){t?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),process.exit(2)):this.throwLater(e)},ce.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},Y.hasDevTools?(ce.prototype.invokeLater=function(e,t,i){this._trampolineEnabled?pe.call(this,e,t,i):this._schedule(function(){setTimeout(function(){e.call(t,i)},100)})},ce.prototype.invoke=function(e,t,i){this._trampolineEnabled?he.call(this,e,t,i):this._schedule(function(){e.call(t,i)})},ce.prototype.settlePromises=function(e){this._trampolineEnabled?ue.call(this,e):this._schedule(function(){e._settlePromises()})}):(ce.prototype.invokeLater=pe,ce.prototype.invoke=he,ce.prototype.settlePromises=ue),ce.prototype._drainQueues=function(){fe(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,fe(this._lateQueue)},ce.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},ce.prototype._reset=function(){this._isTickUsed=!1};var ve=ce,ge=le;ve.firstLineError=ge;var _e=n.freeze,me=Y.inherits,ye=Y.notEnumerableProp,be,we;function xe(e,t){function i(n){if(!(this instanceof i))return new i(n);ye(this,"message","string"==typeof n?n:t),ye(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return me(i,Error),i}var ke=xe("Warning","warning"),Ce=xe("CancellationError","cancellation error"),Ee=xe("TimeoutError","timeout error"),je=xe("AggregateError","aggregate error");try{be=TypeError,we=RangeError}catch(e){be=xe("TypeError","type error"),we=xe("RangeError","range error")}for(var Fe="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),Te=0;Te<Fe.length;++Te)"function"==typeof Array.prototype[Fe[Te]]&&(je.prototype[Fe[Te]]=Array.prototype[Fe[Te]]);n.defineProperty(je.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),je.prototype.isOperational=!0;var Se=0;function Pe(e){if(!(this instanceof Pe))return new Pe(e);ye(this,"name","OperationalError"),ye(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(ye(this,"message",e.message),ye(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}je.prototype.toString=function(){var e=Array(4*Se+1).join(" "),t="\n"+e+"AggregateError of:\n";Se++,e=Array(4*Se+1).join(" ");for(var i=0;i<this.length;++i){for(var n=this[i]===this?"[Circular AggregateError]":this[i]+"",r=n.split("\n"),o=0;o<r.length;++o)r[o]=e+r[o];t+=(n=r.join("\n"))+"\n"}return Se--,t},me(Pe,Error);var Oe=Error.__BluebirdErrorTypes__;Oe||(Oe=_e({CancellationError:Ce,TimeoutError:Ee,OperationalError:Pe,RejectionError:Pe,AggregateError:je}),n.defineProperty(Error,"__BluebirdErrorTypes__",{value:Oe,writable:!1,enumerable:!1,configurable:!1}));var Ae={Error:Error,TypeError:be,RangeError:we,CancellationError:Oe.CancellationError,OperationalError:Oe.OperationalError,TimeoutError:Oe.TimeoutError,AggregateError:Oe.AggregateError,Warning:ke},Re=function(e,t){var i=Y,n=i.errorObj,r=i.isObject;var o={}.hasOwnProperty;return function(a,s){if(r(a)){if(a instanceof e)return a;var l=function(e){try{return function(e){return e.then}(e)}catch(e){return n.e=e,n}}(a);if(l===n){s&&s._pushContext();var c=e.reject(l.e);return s&&s._popContext(),c}if("function"==typeof l)return function(e){try{return o.call(e,"_promise0")}catch(e){return!1}}(a)?(c=new e(t),a._then(c._fulfill,c._reject,void 0,c,null),c):function(r,o,a){var s=new e(t),l=s;a&&a._pushContext(),s._captureStackTrace(),a&&a._popContext();var c=!0,p=i.tryCatch(o).call(r,function(e){s&&(s._resolveCallback(e),s=null)},function(e){s&&(s._rejectCallback(e,c,!0),s=null)});return c=!1,s&&p===n&&(s._rejectCallback(p.e,!0,!0),s=null),l}(a,l,s)}return a}},Le=function(e,t,i,n,r){var o=Y;function a(i){var n=this._promise=new e(t);i instanceof e&&n._propagateFrom(i,3),n._setOnCancel(this),this._values=i,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return o.inherits(a,r),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function t(r,a){var s=i(this._values,this._promise);if(s instanceof e){var l=(s=s._target())._bitField;if(this._values=s,0==(50397184&l))return this._promise._setAsyncGuaranteed(),s._then(t,this._reject,void 0,this,a);if(0==(33554432&l))return 0!=(16777216&l)?this._reject(s._reason()):this._cancel();s=s._value()}if(null!==(s=o.asArray(s)))0!==s.length?this._iterate(s):-5===a?this._resolveEmptyArray():this._resolve(function(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}(a));else{var c=n("expecting an array or an iterable object but got "+o.classString(s)).reason();this._promise._rejectCallback(c,!1)}},a.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var r=this._promise,o=!1,a=null,s=0;s<n;++s){var l=i(t[s],r);a=l instanceof e?(l=l._target())._bitField:null,o?null!==a&&l.suppressUnhandledRejections():null!==a?0==(50397184&a)?(l._proxy(this,s),this._values[s]=l):o=0!=(33554432&a)?this._promiseFulfilled(l._value(),s):0!=(16777216&a)?this._promiseRejected(l._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(l,s)}o||r._setAsyncGuaranteed()},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},a.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},a.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},a.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var i=0;i<t.length;++i)t[i]instanceof e&&t[i].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(e){return e},a},Ie=function(e){var t=!1,i=[];function n(){this._trace=new n.CapturedTrace(r())}function r(){var e=i.length-1;if(e>=0)return i[e]}return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},n.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,i.push(this._trace))},n.prototype._popContext=function(){if(void 0!==this._trace){var e=i.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},n.CapturedTrace=null,n.create=function(){if(t)return new n},n.deactivateLongStackTraces=function(){},n.activateLongStackTraces=function(){var i=e.prototype._pushContext,o=e.prototype._popContext,a=e._peekContext,s=e.prototype._peekContext,l=e.prototype._promiseCreated;n.deactivateLongStackTraces=function(){e.prototype._pushContext=i,e.prototype._popContext=o,e._peekContext=a,e.prototype._peekContext=s,e.prototype._promiseCreated=l,t=!1},t=!0,e.prototype._pushContext=n.prototype._pushContext,e.prototype._popContext=n.prototype._popContext,e._peekContext=e.prototype._peekContext=r,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},n},Be=function(e,t){var i,r,o,a=e._getDomain,s=e._async,l=Ae.Warning,c=Y,p=n,h=c.canAttachTrace,u=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,f=/\((?:timers\.js):\d+:\d+\)/,d=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,v=null,g=null,_=!1,m=!(0==c.env("BLUEBIRD_DEBUG")||!c.env("BLUEBIRD_DEBUG")&&"development"!==c.env("NODE_ENV")),y=!(0==c.env("BLUEBIRD_WARNINGS")||!m&&!c.env("BLUEBIRD_WARNINGS")),b=!(0==c.env("BLUEBIRD_LONG_STACK_TRACES")||!m&&!c.env("BLUEBIRD_LONG_STACK_TRACES")),w=0!=c.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(y||!!c.env("BLUEBIRD_W_FORGOTTEN_RETURN"));e.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},e.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var e=this;setTimeout(function(){e._notifyUnhandledRejection()},1)}},e.prototype._notifyUnhandledRejectionIsHandled=function(){$("rejectionHandled",i,void 0,this)},e.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},e.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),$("unhandledRejection",r,e,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},e.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},e.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},e.prototype._warn=function(e,t,i){return M(e,t,i||this)},e.onPossiblyUnhandledRejection=function(e){var t=a();r="function"==typeof e?null===t?e:c.domainBind(t,e):void 0},e.onUnhandledRejectionHandled=function(e){var t=a();i="function"==typeof e?null===t?e:c.domainBind(t,e):void 0};var x=function(){};e.longStackTraces=function(){if(s.haveItemsQueued()&&!Z.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!Z.longStackTraces&&W()){var i=e.prototype._captureStackTrace,n=e.prototype._attachExtraTrace,r=e.prototype._dereferenceTrace;Z.longStackTraces=!0,x=function(){if(s.haveItemsQueued()&&!Z.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");e.prototype._captureStackTrace=i,e.prototype._attachExtraTrace=n,e.prototype._dereferenceTrace=r,t.deactivateLongStackTraces(),s.enableTrampoline(),Z.longStackTraces=!1},e.prototype._captureStackTrace=z,e.prototype._attachExtraTrace=N,e.prototype._dereferenceTrace=H,t.activateLongStackTraces(),s.disableTrampolineIfNecessary()}},e.hasLongStackTraces=function(){return Z.longStackTraces&&W()};var k=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return c.global.dispatchEvent(e),function(e,t){var i={detail:t,cancelable:!0};p.defineProperty(i,"promise",{value:t.promise}),p.defineProperty(i,"reason",{value:t.reason});var n=new CustomEvent(e.toLowerCase(),i);return!c.global.dispatchEvent(n)}}if("function"==typeof Event){e=new Event("CustomEvent");return c.global.dispatchEvent(e),function(e,t){var i=new Event(e.toLowerCase(),{cancelable:!0});return i.detail=t,p.defineProperty(i,"promise",{value:t.promise}),p.defineProperty(i,"reason",{value:t.reason}),!c.global.dispatchEvent(i)}}return(e=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),c.global.dispatchEvent(e),function(e,t){var i=document.createEvent("CustomEvent");return i.initCustomEvent(e.toLowerCase(),!1,!0,t),!c.global.dispatchEvent(i)}}catch(e){}return function(){return!1}}(),C=c.isNode?function(){return process.emit.apply(process,arguments)}:c.global?function(e){var t="on"+e.toLowerCase(),i=c.global[t];return!!i&&(i.apply(c.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function E(e,t){return{promise:t}}var j={promiseCreated:E,promiseFulfilled:E,promiseRejected:E,promiseResolved:E,promiseCancelled:E,promiseChained:function(e,t,i){return{promise:t,child:i}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,i){return{reason:t,promise:i}},rejectionHandled:E},F=function(e){var t=!1;try{t=C.apply(null,arguments)}catch(e){s.throwLater(e),t=!0}var i=!1;try{i=k(e,j[e].apply(null,arguments))}catch(e){s.throwLater(e),i=!0}return i||t};function T(){return!1}function S(e,t,i){var n=this;try{e(t,i,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+c.toString(e));n._attachCancellationCallback(e)})}catch(e){return e}}function P(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?c.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function O(){return this._onCancelField}function A(e){this._onCancelField=e}function R(){this._cancellationParent=void 0,this._onCancelField=void 0}function L(e,t){if(0!=(1&t)){this._cancellationParent=e;var i=e._branchesRemainingToCancel;void 0===i&&(i=0),e._branchesRemainingToCancel=i+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}e.config=function(t){if("longStackTraces"in(t=Object(t))&&(t.longStackTraces?e.longStackTraces():!t.longStackTraces&&e.hasLongStackTraces()&&x()),"warnings"in t){var i=t.warnings;Z.warnings=!!i,w=Z.warnings,c.isObject(i)&&"wForgottenReturn"in i&&(w=!!i.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!Z.cancellation){if(s.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");e.prototype._clearCancellationData=R,e.prototype._propagateFrom=L,e.prototype._onCancel=O,e.prototype._setOnCancel=A,e.prototype._attachCancellationCallback=P,e.prototype._execute=S,I=L,Z.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!Z.monitoring?(Z.monitoring=!0,e.prototype._fireEvent=F):!t.monitoring&&Z.monitoring&&(Z.monitoring=!1,e.prototype._fireEvent=T)),e},e.prototype._fireEvent=T,e.prototype._execute=function(e,t,i){try{e(t,i)}catch(e){return e}},e.prototype._onCancel=function(){},e.prototype._setOnCancel=function(e){},e.prototype._attachCancellationCallback=function(e){},e.prototype._captureStackTrace=function(){},e.prototype._attachExtraTrace=function(){},e.prototype._dereferenceTrace=function(){},e.prototype._clearCancellationData=function(){},e.prototype._propagateFrom=function(e,t){};var I=function(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)};function B(){var t=this._boundTo;return void 0!==t&&t instanceof e?t.isFulfilled()?t.value():void 0:t}function z(){this._trace=new K(this._peekContext())}function N(e,t){if(h(e)){var i=this._trace;if(void 0!==i&&t&&(i=i._parent),void 0!==i)i.attachExtraTrace(e);else if(!e.__stackCleaned__){var n=V(e);c.notEnumerableProp(e,"stack",n.message+"\n"+n.stack.join("\n")),c.notEnumerableProp(e,"__stackCleaned__",!0)}}}function H(){this._trace=void 0}function M(t,i,n){if(Z.warnings){var r,o=new l(t);if(i)n._attachExtraTrace(o);else if(Z.longStackTraces&&(r=e._peekContext()))r.attachExtraTrace(o);else{var a=V(o);o.stack=a.message+"\n"+a.stack.join("\n")}F("warning",o)||U(o,"",!0)}}function D(e){for(var t=[],i=0;i<e.length;++i){var n=e[i],r="    (No stack trace)"===n||v.test(n),o=r&&Q(n);r&&!o&&(_&&" "!==n.charAt(0)&&(n="    "+n),t.push(n))}return t}function V(e){var t=e.stack,i=e.toString();return t="string"==typeof t&&t.length>0?function(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),i=0;i<t.length;++i){var n=t[i];if("    (No stack trace)"===n||v.test(n))break}return i>0&&"SyntaxError"!=e.name&&(t=t.slice(i)),t}(e):["    (No stack trace)"],{message:i,stack:"SyntaxError"==e.name?t:D(t)}}function U(e,t,i){if("undefined"!=typeof console){var n;if(c.isObject(e)){var r=e.stack;n=t+g(r,e)}else n=t+String(e);"function"==typeof o?o(n,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(n)}}function $(e,t,i,n){var r=!1;try{"function"==typeof t&&(r=!0,"rejectionHandled"===e?t(n):t(i,n))}catch(e){s.throwLater(e)}"unhandledRejection"===e?F(e,i,n)||r||U(i,"Unhandled rejection "):F(e,n)}function q(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e&&"function"==typeof e.toString?e.toString():c.toString(e);if(/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+function(e){if(e.length<41)return e;return e.substr(0,38)+"..."}(t)+">, no stack trace)"}function W(){return"function"==typeof J}var Q=function(){return!1},G=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function X(e){var t=e.match(G);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function K(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);J(this,K),t>32&&this.uncycle()}c.inherits(K,Error),t.CapturedTrace=K,K.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],i={},n=0,r=this;void 0!==r;++n)t.push(r),r=r._parent;for(n=(e=this._length=n)-1;n>=0;--n){var o=t[n].stack;void 0===i[o]&&(i[o]=n)}for(n=0;n<e;++n){var a=i[t[n].stack];if(void 0!==a&&a!==n){a>0&&(t[a-1]._parent=void 0,t[a-1]._length=1),t[n]._parent=void 0,t[n]._length=1;var s=n>0?t[n-1]:this;a<e-1?(s._parent=t[a+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1);for(var l=s._length+1,c=n-2;c>=0;--c)t[c]._length=l,l++;return}}}},K.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=V(e),i=t.message,n=[t.stack],r=this;void 0!==r;)n.push(D(r.stack.split("\n"))),r=r._parent;!function(e){for(var t=e[0],i=1;i<e.length;++i){for(var n=e[i],r=t.length-1,o=t[r],a=-1,s=n.length-1;s>=0;--s)if(n[s]===o){a=s;break}for(s=a;s>=0;--s){var l=n[s];if(t[r]!==l)break;t.pop(),r--}t=n}}(n),function(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}(n),c.notEnumerableProp(e,"stack",function(e,t){for(var i=0;i<t.length-1;++i)t[i].push("From previous event:"),t[i]=t[i].join("\n");return i<t.length&&(t[i]=t[i].join("\n")),e+"\n"+t.join("\n")}(i,n)),c.notEnumerableProp(e,"__stackCleaned__",!0)}};var J=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():q(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,v=e,g=t;var i=Error.captureStackTrace;return Q=function(e){return u.test(e)},function(e,t){Error.stackTraceLimit+=6,i(e,t),Error.stackTraceLimit-=6}}var n,r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return v=/@/,g=t,_=!0,function(e){e.stack=(new Error).stack};try{throw new Error}catch(e){n="stack"in e}return"stack"in r||!n||"number"!=typeof Error.stackTraceLimit?(g=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?q(t):t.toString()},null):(v=e,g=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(o=function(e){console.warn(e)},c.isNode&&process.stderr.isTTY?o=function(e,t){var i=t?"[33m":"[31m";console.warn(i+e+"[0m\n")}:c.isNode||"string"!=typeof(new Error).stack||(o=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var Z={warnings:y,longStackTraces:!1,cancellation:!1,monitoring:!1};return b&&e.longStackTraces(),{longStackTraces:function(){return Z.longStackTraces},warnings:function(){return Z.warnings},cancellation:function(){return Z.cancellation},monitoring:function(){return Z.monitoring},propagateFromFunction:function(){return I},boundValueFunction:function(){return B},checkForgottenReturns:function(e,t,i,n,r){if(void 0===e&&null!==t&&w){if(void 0!==r&&r._returnedNonUndefined())return;if(0==(65535&n._bitField))return;i&&(i+=" ");var o="",a="";if(t._trace){for(var s=t._trace.stack.split("\n"),l=D(s),c=l.length-1;c>=0;--c){var p=l[c];if(!f.test(p)){var h=p.match(d);h&&(o="at "+h[1]+":"+h[2]+":"+h[3]+" ");break}}if(l.length>0){var u=l[0];for(c=0;c<s.length;++c)if(s[c]===u){c>0&&(a="\n"+s[c-1]);break}}}var v="a promise was created in a "+i+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;n._warn(v,!0,t)}},setBounds:function(e,t){if(W()){for(var i,n,r=e.stack.split("\n"),o=t.stack.split("\n"),a=-1,s=-1,l=0;l<r.length;++l)if(c=X(r[l])){i=c.fileName,a=c.line;break}for(l=0;l<o.length;++l){var c;if(c=X(o[l])){n=c.fileName,s=c.line;break}}a<0||s<0||!i||!n||i!==n||a>=s||(Q=function(e){if(u.test(e))return!0;var t=X(e);return!!(t&&t.fileName===i&&a<=t.line&&t.line<=s)})}},warn:M,deprecated:function(e,t){var i=e+" is deprecated and will be removed in a future version.";return t&&(i+=" Use "+t+" instead."),M(i)},CapturedTrace:K,fireDomEvent:k,fireGlobalEvent:C}},ze=function(e){var t=Y,i=n.keys,r=t.tryCatch,o=t.errorObj;return function(n,a,s){return function(l){var c=s._boundValue();e:for(var p=0;p<n.length;++p){var h=n[p];if(h===Error||null!=h&&h.prototype instanceof Error){if(l instanceof h)return r(a).call(c,l)}else if("function"==typeof h){var u=r(h).call(c,l);if(u===o)return u;if(u)return r(a).call(c,l)}else if(t.isObject(l)){for(var f=i(h),d=0;d<f.length;++d){var v=f[d];if(h[v]!=l[v])continue e}return r(a).call(c,l)}}return e}}},Ne=function(e,t,i){var n=Y,r=e.CancellationError,o=n.errorObj,a=ze(i);function s(e,t,i){this.promise=e,this.type=t,this.handler=i,this.called=!1,this.cancelPromise=null}function l(e){this.finallyHandler=e}function c(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function p(){return u.call(this,this.promise._target()._settledValue())}function h(e){if(!c(this,e))return o.e=e,o}function u(n){var a=this.promise,s=this.handler;if(!this.called){this.called=!0;var u=this.isFinallyHandler()?s.call(a._boundValue()):s.call(a._boundValue(),n);if(u===i)return u;if(void 0!==u){a._setReturnedNonUndefined();var f=t(u,a);if(f instanceof e){if(null!=this.cancelPromise){if(f._isCancelled()){var d=new r("late cancellation observer");return a._attachExtraTrace(d),o.e=d,o}f.isPending()&&f._attachCancellationCallback(new l(this))}return f._then(p,h,void 0,this,void 0)}}}return a.isRejected()?(c(this),o.e=n,o):(c(this),n)}return s.prototype.isFinallyHandler=function(){return 0===this.type},l.prototype._resultCancelled=function(){c(this.finallyHandler)},e.prototype._passThrough=function(e,t,i,n){return"function"!=typeof e?this.then():this._then(i,n,void 0,new s(this,t,e),void 0)},e.prototype.lastly=e.prototype.finally=function(e){return this._passThrough(e,0,u,u)},e.prototype.tap=function(e){return this._passThrough(e,1,u)},e.prototype.tapCatch=function(t){var i=arguments.length;if(1===i)return this._passThrough(t,1,void 0,u);var r,o=new Array(i-1),s=0;for(r=0;r<i-1;++r){var l=arguments[r];if(!n.isObject(l))return e.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+n.classString(l)));o[s++]=l}o.length=s;var c=arguments[r];return this._passThrough(a(o,c,this),1,void 0,u)},s},He=Y.maybeWrapAsError,Me=Ae.OperationalError;function De(e){return e instanceof Error&&n.getPrototypeOf(e)===Error.prototype}var Ve=/^(?:name|message|stack|cause)$/;function Ue(e){var t;if(De(e)){(t=new Me(e)).name=e.name,t.message=e.message,t.stack=e.stack;for(var i=n.keys(e),r=0;r<i.length;++r){var o=i[r];Ve.test(o)||(t[o]=e[o])}return t}return Y.markAsOriginatingFromRejection(e),e}function $e(e,t){return function(i,n){if(null!==e){if(i){var r=Ue(He(i));e._attachExtraTrace(r),e._reject(r)}else if(t){for(var o=arguments.length,a=new Array(Math.max(o-1,0)),s=1;s<o;++s)a[s-1]=arguments[s];e._fulfill(a)}else e._fulfill(n);e=null}}}var qe=$e,We=function(e,t,i,n,r){var o=Y,a=o.tryCatch;e.method=function(i){if("function"!=typeof i)throw new e.TypeError("expecting a function but got "+o.classString(i));return function(){var n=new e(t);n._captureStackTrace(),n._pushContext();var o=a(i).apply(this,arguments),s=n._popContext();return r.checkForgottenReturns(o,s,"Promise.method",n),n._resolveFromSyncValue(o),n}},e.attempt=e.try=function(i){if("function"!=typeof i)return n("expecting a function but got "+o.classString(i));var s,l=new e(t);if(l._captureStackTrace(),l._pushContext(),arguments.length>1){r.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],p=arguments[2];s=o.isArray(c)?a(i).apply(p,c):a(i).call(p,c)}else s=a(i)();var h=l._popContext();return r.checkForgottenReturns(s,h,"Promise.try",l),l._resolveFromSyncValue(s),l},e.prototype._resolveFromSyncValue=function(e){e===o.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}},Qe=function(e,t,i,n){var r=!1,o=function(e,t){this._reject(t)},a=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},s=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},l=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){r||(r=!0,e.prototype._propagateFrom=n.propagateFromFunction(),e.prototype._boundValue=n.boundValueFunction());var c=i(o),p=new e(t);p._propagateFrom(this,1);var h=this._target();if(p._setBoundTo(c),c instanceof e){var u={promiseRejectionQueued:!1,promise:p,target:h,bindingPromise:c};h._then(t,a,void 0,p,u),c._then(s,l,void 0,p,u),p._setOnCancel(c)}else p._resolveCallback(h);return p},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},e.bind=function(t,i){return e.resolve(i).bind(t)}},Ge=function(e,t,i,n){var r=Y,o=r.tryCatch,a=r.errorObj,s=e._async;e.prototype.break=e.prototype.cancel=function(){if(!n.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var i=e._cancellationParent;if(null==i||!i._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=i}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),s.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(e,t){if(r.isArray(e))for(var i=0;i<e.length;++i)this._doInvokeOnCancel(e[i],t);else if(void 0!==e)if("function"==typeof e){if(!t){var n=o(e).call(this._boundValue());n===a&&(this._attachExtraTrace(n.e),s.throwLater(n.e))}}else e._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),s.invoke(this._doInvokeOnCancel,this,e)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}},Xe=function(e){function t(){return this.value}function i(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(i){return i instanceof e&&i.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:i},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(i,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,i,void 0,{reason:e},void 0);var t=arguments[1];return this.caught(e,function(){throw t})},e.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof e&&i.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:i},void 0);var n=arguments[1];n instanceof e&&n.suppressUnhandledRejections();return this.caught(i,function(){return n})}},Ke=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var i=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},n=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},e.prototype.isPending=function(){return a.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return r.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return i.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),n.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t},Ye=function(e,t,i,n,r,o){var a,s=Y,l=s.canEvaluate,c=s.tryCatch,p=s.errorObj;if(l){for(var h=function(e){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,e))},u=function(e){return new Function("promise","holder","                           \n            'use strict';                                                    \n            holder.pIndex = promise;                                         \n            ".replace(/Index/g,e))},f=function(t){for(var i=new Array(t),n=0;n<i.length;++n)i[n]="this.p"+(n+1);var o=i.join(" = ")+" = null;",a="var promise;\n"+i.map(function(e){return"                                                         \n                promise = "+e+";                                      \n                if (promise instanceof Promise) {                            \n                    promise.cancel();                                        \n                }                                                            \n            "}).join("\n"),s=i.join(", "),l="Holder$"+t,h="return function(tryCatch, errorObj, Promise, async) {    \n            'use strict';                                                    \n            function [TheName](fn) {                                         \n                [TheProperties]                                              \n                this.fn = fn;                                                \n                this.asyncNeeded = true;                                     \n                this.now = 0;                                                \n            }                                                                \n                                                                             \n            [TheName].prototype._callFunction = function(promise) {          \n                promise._pushContext();                                      \n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \n                promise._popContext();                                       \n                if (ret === errorObj) {                                      \n                    promise._rejectCallback(ret.e, false);                   \n                } else {                                                     \n                    promise._resolveCallback(ret);                           \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype.checkFulfillment = function(promise) {       \n                var now = ++this.now;                                        \n                if (now === [TheTotal]) {                                    \n                    if (this.asyncNeeded) {                                  \n                        async.invoke(this._callFunction, this, promise);     \n                    } else {                                                 \n                        this._callFunction(promise);                         \n                    }                                                        \n                                                                             \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype._resultCancelled = function() {              \n                [CancellationCode]                                           \n            };                                                               \n                                                                             \n            return [TheName];                                                \n        }(tryCatch, errorObj, Promise, async);                               \n        ";return h=h.replace(/\[TheName\]/g,l).replace(/\[TheTotal\]/g,t).replace(/\[ThePassedArguments\]/g,s).replace(/\[TheProperties\]/g,o).replace(/\[CancellationCode\]/g,a),new Function("tryCatch","errorObj","Promise","async",h)(c,p,e,r)},d=[],v=[],g=[],_=0;_<8;++_)d.push(f(_+1)),v.push(h(_+1)),g.push(u(_+1));a=function(e){this._reject(e)}}e.join=function(){var r,c=arguments.length-1;if(c>0&&"function"==typeof arguments[c]&&(r=arguments[c],c<=8&&l)){(x=new e(n))._captureStackTrace();for(var p=new(0,d[c-1])(r),h=v,u=0;u<c;++u){var f=i(arguments[u],x);if(f instanceof e){var _=(f=f._target())._bitField;0==(50397184&_)?(f._then(h[u],a,void 0,x,p),g[u](f,p),p.asyncNeeded=!1):0!=(33554432&_)?h[u].call(x,f._value(),p):0!=(16777216&_)?x._reject(f._reason()):x._cancel()}else h[u].call(x,f,p)}if(!x._isFateSealed()){if(p.asyncNeeded){var m=o();null!==m&&(p.fn=s.domainBind(m,p.fn))}x._setAsyncGuaranteed(),x._setOnCancel(p)}return x}for(var y=arguments.length,b=new Array(y),w=0;w<y;++w)b[w]=arguments[w];r&&b.pop();var x=new t(b).promise();return void 0!==r?x.spread(r):x}},Je=function(e,t,i,n,r,o){var a=e._getDomain,s=Y,l=s.tryCatch,c=s.errorObj,p=e._async;function h(e,t,i,n){this.constructor$(e),this._promise._captureStackTrace();var o=a();this._callback=null===o?t:s.domainBind(o,t),this._preservedValues=n===r?new Array(this.length()):null,this._limit=i,this._inFlight=0,this._queue=[],p.invoke(this._asyncInit,this,void 0)}function u(t,n,r,o){if("function"!=typeof n)return i("expecting a function but got "+s.classString(n));var a=0;if(void 0!==r){if("object"!=typeof r||null===r)return e.reject(new TypeError("options argument must be an object but it is "+s.classString(r)));if("number"!=typeof r.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+s.classString(r.concurrency)));a=r.concurrency}return new h(t,n,a="number"==typeof a&&isFinite(a)&&a>=1?a:0,o).promise()}s.inherits(h,t),h.prototype._asyncInit=function(){this._init$(void 0,-2)},h.prototype._init=function(){},h.prototype._promiseFulfilled=function(t,i){var r=this._values,a=this.length(),s=this._preservedValues,p=this._limit;if(i<0){if(r[i=-1*i-1]=t,p>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(p>=1&&this._inFlight>=p)return r[i]=t,this._queue.push(i),!1;null!==s&&(s[i]=t);var h=this._promise,u=this._callback,f=h._boundValue();h._pushContext();var d=l(u).call(f,t,i,a),v=h._popContext();if(o.checkForgottenReturns(d,v,null!==s?"Promise.filter":"Promise.map",h),d===c)return this._reject(d.e),!0;var g=n(d,this._promise);if(g instanceof e){var _=(g=g._target())._bitField;if(0==(50397184&_))return p>=1&&this._inFlight++,r[i]=g,g._proxy(this,-1*(i+1)),!1;if(0==(33554432&_))return 0!=(16777216&_)?(this._reject(g._reason()),!0):(this._cancel(),!0);d=g._value()}r[i]=d}return++this._totalResolved>=a&&(null!==s?this._filter(r,s):this._resolve(r),!0)},h.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,i=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var n=e.pop();this._promiseFulfilled(i[n],n)}},h.prototype._filter=function(e,t){for(var i=t.length,n=new Array(i),r=0,o=0;o<i;++o)e[o]&&(n[r++]=t[o]);n.length=r,this._resolve(n)},h.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(e,t){return u(this,e,t,null)},e.map=function(e,t,i,n){return u(e,t,i,n)}},Ze=Object.create;if(Ze){var et=Ze(null),tt=Ze(null);et[" size"]=tt[" size"]=0}var it=function(e){var t,i,n=Y,r=n.canEvaluate,o=n.isIdentifier,a=function(e){return new Function("ensureMethod","                                    \n        return function(obj) {                                               \n            'use strict'                                                     \n            var len = this.length;                                           \n            ensureMethod(obj, 'methodName');                                 \n            switch(len) {                                                    \n                case 1: return obj.methodName(this[0]);                      \n                case 2: return obj.methodName(this[0], this[1]);             \n                case 3: return obj.methodName(this[0], this[1], this[2]);    \n                case 0: return obj.methodName();                             \n                default:                                                     \n                    return obj.methodName.apply(obj, this);                  \n            }                                                                \n        };                                                                   \n        ".replace(/methodName/g,e))(c)},s=function(e){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",e))},l=function(e,t,i){var n=i[e];if("function"!=typeof n){if(!o(e))return null;if(n=t(e),i[e]=n,i[" size"]++,i[" size"]>512){for(var r=Object.keys(i),a=0;a<256;++a)delete i[r[a]];i[" size"]=r.length-256}}return n};function c(t,i){var r;if(null!=t&&(r=t[i]),"function"!=typeof r){var o="Object "+n.classString(t)+" has no method '"+n.toString(i)+"'";throw new e.TypeError(o)}return r}function p(e){return c(e,this.pop()).apply(e,this)}function h(e){return e[this]}function u(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}t=function(e){return l(e,a,et)},i=function(e){return l(e,s,tt)},e.prototype.call=function(e){for(var i=arguments.length,n=new Array(Math.max(i-1,0)),o=1;o<i;++o)n[o-1]=arguments[o];if(r){var a=t(e);if(null!==a)return this._then(a,void 0,void 0,n,void 0)}return n.push(e),this._then(p,void 0,void 0,n,void 0)},e.prototype.get=function(e){var t;if("number"==typeof e)t=u;else if(r){var n=i(e);t=null!==n?n:h}else t=h;return this._then(t,void 0,void 0,e,void 0)}},nt=function(e,t,i,n,r,o){var a=Y,s=Ae.TypeError,l=Y.inherits,c=a.errorObj,p=a.tryCatch,h={};function u(e){setTimeout(function(){throw e},0)}function f(t,n){var o=0,a=t.length,s=new e(r);return function r(){if(o>=a)return s._fulfill();var l=function(e){var t=i(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}(t[o++]);if(l instanceof e&&l._isDisposable()){try{l=i(l._getDisposer().tryDispose(n),t.promise)}catch(e){return u(e)}if(l instanceof e)return l._then(r,u,null,null,null)}r()}(),s}function d(e,t,i){this._data=e,this._promise=t,this._context=i}function v(e,t,i){this.constructor$(e,t,i)}function g(e){return d.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function _(e){this.length=e,this.promise=null,this[e-1]=null}d.prototype.data=function(){return this._data},d.prototype.promise=function(){return this._promise},d.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():h},d.prototype.tryDispose=function(e){var t=this.resource(),i=this._context;void 0!==i&&i._pushContext();var n=t!==h?this.doDispose(t,e):null;return void 0!==i&&i._popContext(),this._promise._unsetDisposable(),this._data=null,n},d.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},l(v,d),v.prototype.doDispose=function(e,t){return this.data().call(e,e,t)},_.prototype._resultCancelled=function(){for(var t=this.length,i=0;i<t;++i){var n=this[i];n instanceof e&&n.cancel()}},e.using=function(){var n=arguments.length;if(n<2)return t("you must pass at least 2 arguments to Promise.using");var r,s=arguments[n-1];if("function"!=typeof s)return t("expecting a function but got "+a.classString(s));var l=!0;2===n&&Array.isArray(arguments[0])?(n=(r=arguments[0]).length,l=!1):(r=arguments,n--);for(var h=new _(n),u=0;u<n;++u){var v=r[u];if(d.isDisposer(v)){var m=v;(v=v.promise())._setDisposable(m)}else{var y=i(v);y instanceof e&&(v=y._then(g,null,null,{resources:h,index:u},void 0))}h[u]=v}var b=new Array(h.length);for(u=0;u<b.length;++u)b[u]=e.resolve(h[u]).reflect();var w=e.all(b).then(function(e){for(var t=0;t<e.length;++t){var i=e[t];if(i.isRejected())return c.e=i.error(),c;if(!i.isFulfilled())return void w.cancel();e[t]=i.value()}x._pushContext(),s=p(s);var n=l?s.apply(void 0,e):s(e),r=x._popContext();return o.checkForgottenReturns(n,r,"Promise.using",x),n}),x=w.lastly(function(){var t=new e.PromiseInspection(w);return f(h,t)});return h.promise=x,x._setOnCancel(h),x},e.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(e){if("function"==typeof e)return new v(e,this,n());throw new s}},rt=function(e,t,i){var n=Y,r=e.TimeoutError;function o(e){this.handle=e}o.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(e){return s(+this).thenReturn(e)},s=e.delay=function(n,r){var s,l;return void 0!==r?(s=e.resolve(r)._then(a,null,null,n,void 0),i.cancellation()&&r instanceof e&&s._setOnCancel(r)):(s=new e(t),l=setTimeout(function(){s._fulfill()},+n),i.cancellation()&&s._setOnCancel(new o(l)),s._captureStackTrace()),s._setAsyncGuaranteed(),s};e.prototype.delay=function(e){return s(e,this)};function l(e){return clearTimeout(this.handle),e}function c(e){throw clearTimeout(this.handle),e}e.prototype.timeout=function(e,t){var a,s;e=+e;var p=new o(setTimeout(function(){a.isPending()&&function(e,t,i){var o;o="string"!=typeof t?t instanceof Error?t:new r("operation timed out"):new r(t),n.markAsOriginatingFromRejection(o),e._attachExtraTrace(o),e._reject(o),null!=i&&i.cancel()}(a,t,s)},e));return i.cancellation()?(s=this.then(),(a=s._then(l,c,void 0,p,void 0))._setOnCancel(p)):a=this._then(l,c,void 0,p,void 0),a}},ot=function(e,t,i,n,r,o){var a=Ae.TypeError,s=Y,l=s.errorObj,c=s.tryCatch,p=[];function h(t,n,r,a){if(o.cancellation()){var s=new e(i),l=this._finallyPromise=new e(i);this._promise=s.lastly(function(){return l}),s._captureStackTrace(),s._setOnCancel(this)}else{(this._promise=new e(i))._captureStackTrace()}this._stack=a,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof r?[r].concat(p):p,this._yieldedPromise=null,this._cancellationPhase=!1}s.inherits(h,r),h.prototype._isResolved=function(){return null===this._promise},h.prototype._cleanup=function(){this._promise=this._generator=null,o.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},h.prototype._promiseCancelled=function(){if(!this._isResolved()){var t;if(void 0!==this._generator.return)this._promise._pushContext(),t=c(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var i=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=i,this._promise._attachExtraTrace(i),this._promise._pushContext(),t=c(this._generator.throw).call(this._generator,i),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},h.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=c(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},h.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=c(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},h.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},h.prototype.promise=function(){return this._promise},h.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},h.prototype._continue=function(t){var i=this._promise;if(t===l)return this._cleanup(),this._cancellationPhase?i.cancel():i._rejectCallback(t.e,!1);var r=t.value;if(!0===t.done)return this._cleanup(),this._cancellationPhase?i.cancel():i._resolveCallback(r);var o=n(r,this._promise);if(o instanceof e||null!==(o=function(t,i,r){for(var o=0;o<i.length;++o){r._pushContext();var a=c(i[o])(t);if(r._popContext(),a===l){r._pushContext();var s=e.reject(l.e);return r._popContext(),s}var p=n(a,r);if(p instanceof e)return p}return null}(o,this._yieldHandlers,this._promise))){var s=(o=o._target())._bitField;0==(50397184&s)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&s)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&s)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()}else this._promiseRejected(new a("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},e.coroutine=function(e,t){if("function"!=typeof e)throw new a("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=Object(t).yieldHandler,n=h,r=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new n(void 0,void 0,i,r),a=o.promise();return o._generator=t,o._promiseFulfilled(void 0),a}},e.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new a("expecting a function but got "+s.classString(e));p.push(e)},e.spawn=function(i){if(o.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof i)return t("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=new h(i,this),r=n.promise();return n._run(e.spawn),r}},at=function(e){var t=Y,i=e._async,n=t.tryCatch,r=t.errorObj;function o(e,o){if(!t.isArray(e))return a.call(this,e,o);var s=n(o).apply(this._boundValue(),[null].concat(e));s===r&&i.throwLater(s.e)}function a(e,t){var o=this._boundValue(),a=void 0===e?n(t).call(o,null):n(t).call(o,null,e);a===r&&i.throwLater(a.e)}function s(e,t){if(!e){var o=new Error(e+"");o.cause=e,e=o}var a=n(t).call(this._boundValue(),e);a===r&&i.throwLater(a.e)}e.prototype.asCallback=e.prototype.nodeify=function(e,t){if("function"==typeof e){var i=a;void 0!==t&&Object(t).spread&&(i=o),this._then(i,s,void 0,this,e)}return this}},st=function(e,t){var i={},n=Y,r=qe,o=n.withAppended,a=n.maybeWrapAsError,s=n.canEvaluate,l=Ae.TypeError,c={__isPromisified__:!0},p=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),h=function(e){return n.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e};function u(e){return!p.test(e)}function f(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function d(e,t,i){var r=n.getDataPropertyOrDefault(e,t+i,c);return!!r&&f(r)}function v(e,t,i,r){for(var o=n.inheritedDataKeys(e),a=[],s=0;s<o.length;++s){var c=o[s],p=e[c],u=r===h||h(c,p,e);"function"!=typeof p||f(p)||d(e,c,t)||!r(c,p,e,u)||a.push(c,p)}return function(e,t,i){for(var n=0;n<e.length;n+=2){var r=e[n];if(i.test(r))for(var o=r.replace(i,""),a=0;a<e.length;a+=2)if(e[a]===o)throw new l("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}(a,t,i),a}var g=function(e){return e.replace(/([$])/,"\\$")},_=function(e){return n.filledRange(e,"_arg","")};var m=s?function(s,l,c,p,h,u){var f=Math.max(0,function(e){return"number"==typeof e.length?Math.max(Math.min(e.length,1024),0):0}(p)-1),d=function(e){for(var t=[e],i=Math.max(0,e-1-3),n=e-1;n>=i;--n)t.push(n);for(n=e+1;n<=3;++n)t.push(n);return t}(f),v="string"==typeof s||l===i;var g="string"==typeof s?"this != null ? this['"+s+"'] : fn":"fn",m="'use strict';                                                \n        var ret = function (Parameters) {                                    \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._captureStackTrace();                                    \n            var nodeback = nodebackForPromise(promise, "+u+");   \n            var ret;                                                         \n            var callback = tryCatch([GetFunctionCode]);                      \n            switch(len) {                                                    \n                [CodeForSwitchCase]                                          \n            }                                                                \n            if (ret === errorObj) {                                          \n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n            }                                                                \n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \n            return promise;                                                  \n        };                                                                   \n        notEnumerableProp(ret, '__isPromisified__', true);                   \n        return ret;                                                          \n    ".replace("[CodeForSwitchCase]",function(){for(var e,t,i,n="",r=0;r<d.length;++r)n+="case "+d[r]+":"+(e=d[r],t=void 0,i=void 0,t=_(e).join(", "),i=e>0?", ":"",(v?"ret = callback.call(this, {{args}}, nodeback); break;\n":void 0===l?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n").replace("{{args}}",t).replace(", ",i));return n+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = nodeback;                                              \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",v?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n")}()).replace("[GetFunctionCode]",g);return m=m.replace("Parameters",function(e){return n.filledRange(Math.max(e,3),"_arg","")}(f)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",m)(e,p,l,o,a,r,n.tryCatch,n.errorObj,n.notEnumerableProp,t)}:function(s,l,c,p,h,u){var f=function(){return this}(),d=s;function v(){var n=l;l===i&&(n=this);var c=new e(t);c._captureStackTrace();var p="string"==typeof d&&this!==f?this[d]:s,h=r(c,u);try{p.apply(n,o(arguments,h))}catch(e){c._rejectCallback(a(e),!0,!0)}return c._isFateSealed()||c._setAsyncGuaranteed(),c}return"string"==typeof d&&(s=p),n.notEnumerableProp(v,"__isPromisified__",!0),v};function y(e,t,r,o,a){for(var s=new RegExp(g(t)+"$"),l=v(e,t,s,r),c=0,p=l.length;c<p;c+=2){var h=l[c],u=l[c+1],f=h+t;if(o===m)e[f]=m(h,i,h,u,t,a);else{var d=o(u,function(){return m(h,i,h,u,t,a)});n.notEnumerableProp(d,"__isPromisified__",!0),e[f]=d}}return n.toFastProperties(e),e}e.promisify=function(e,t){if("function"!=typeof e)throw new l("expecting a function but got "+n.classString(e));if(f(e))return e;var r=function(e,t,i){return m(e,t,void 0,e,null,i)}(e,void 0===(t=Object(t)).context?i:t.context,!!t.multiArgs);return n.copyDescriptors(e,r,u),r},e.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new l("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(t=Object(t)).multiArgs,r=t.suffix;"string"!=typeof r&&(r="Async");var o=t.filter;"function"!=typeof o&&(o=h);var a=t.promisifier;if("function"!=typeof a&&(a=m),!n.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=n.inheritedDataKeys(e),c=0;c<s.length;++c){var p=e[s[c]];"constructor"!==s[c]&&n.isClass(p)&&(y(p.prototype,r,o,a,i),y(p,r,o,a,i))}return y(e,r,o,a,i)}},lt=function(e,t,i,r){var o,a=Y,s=a.isObject,l=n;"function"==typeof Map&&(o=Map);var c=function(){var e=0,t=0;function i(i,n){this[e]=i,this[e+t]=n,e++}return function(n){t=n.size,e=0;var r=new Array(2*n.size);return n.forEach(i,r),r}}();function p(e){var t,i=!1;if(void 0!==o&&e instanceof o)t=c(e),i=!0;else{var n=l.keys(e),r=n.length;t=new Array(2*r);for(var a=0;a<r;++a){var s=n[a];t[a]=e[s],t[a+r]=s}}this.constructor$(t),this._isMap=i,this._init$(void 0,i?-6:-3)}function h(t){var n,o=i(t);return s(o)?(n=o instanceof e?o._then(e.props,void 0,void 0,void 0,void 0):new p(o).promise(),o instanceof e&&n._propagateFrom(o,2),n):r("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}a.inherits(p,t),p.prototype._init=function(){},p.prototype._promiseFulfilled=function(e,t){if(this._values[t]=e,++this._totalResolved>=this._length){var i;if(this._isMap)i=function(e){for(var t=new o,i=e.length/2|0,n=0;n<i;++n){var r=e[i+n],a=e[n];t.set(r,a)}return t}(this._values);else{i={};for(var n=this.length(),r=0,a=this.length();r<a;++r)i[this._values[r+n]]=this._values[r]}return this._resolve(i),!0}return!1},p.prototype.shouldCopyValues=function(){return!1},p.prototype.getActualLength=function(e){return e>>1},e.prototype.props=function(){return h(this)},e.props=function(e){return h(e)}},ct=function(e,t,i,n){var r=Y,o=function(e){return e.then(function(t){return a(t,e)})};function a(a,s){var l=i(a);if(l instanceof e)return o(l);if(null===(a=r.asArray(a)))return n("expecting an array or an iterable object but got "+r.classString(a));var c=new e(t);void 0!==s&&c._propagateFrom(s,3);for(var p=c._fulfill,h=c._reject,u=0,f=a.length;u<f;++u){var d=a[u];(void 0!==d||u in a)&&e.cast(d)._then(p,h,void 0,c,null)}return c}e.race=function(e){return a(e,void 0)},e.prototype.race=function(){return a(this,void 0)}},pt=function(e,t,i,n,r,o){var a=e._getDomain,s=Y,l=s.tryCatch;function c(t,i,n,o){this.constructor$(t);var l=a();this._fn=null===l?i:s.domainBind(l,i),void 0!==n&&(n=e.resolve(n))._attachCancellationCallback(this),this._initialValue=n,this._currentCancellable=null,this._eachValues=o===r?Array(this._length):0===o?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function p(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function h(e,t,n,r){return"function"!=typeof t?i("expecting a function but got "+s.classString(t)):new c(e,t,n,r).promise()}function u(t){this.accum=t,this.array._gotAccum(t);var i=n(this.value,this.array._promise);return i instanceof e?(this.array._currentCancellable=i,i._then(f,void 0,void 0,this,void 0)):f.call(this,i)}function f(t){var i,n=this.array,r=n._promise,a=l(n._fn);r._pushContext(),(i=void 0!==n._eachValues?a.call(r._boundValue(),t,this.index,this.length):a.call(r._boundValue(),this.accum,t,this.index,this.length))instanceof e&&(n._currentCancellable=i);var s=r._popContext();return o.checkForgottenReturns(i,s,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),i}s.inherits(c,t),c.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==r&&this._eachValues.push(e)},c.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},c.prototype._init=function(){},c.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},c.prototype.shouldCopyValues=function(){return!1},c.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},c.prototype._resultCancelled=function(t){if(t===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel())},c.prototype._iterate=function(t){var i,n;this._values=t;var r=t.length;if(void 0!==this._initialValue?(i=this._initialValue,n=0):(i=e.resolve(t[0]),n=1),this._currentCancellable=i,!i.isRejected())for(;n<r;++n){var o={accum:null,value:t[n],index:n,length:r,array:this};i=i._then(u,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(i=i._then(this._eachComplete,void 0,void 0,this,void 0)),i._then(p,p,void 0,i,this)},e.prototype.reduce=function(e,t){return h(this,e,t,null)},e.reduce=function(e,t,i,n){return h(e,t,i,n)}},ht=function(e,t,i){var n=e.PromiseInspection;function r(e){this.constructor$(e)}Y.inherits(r,t),r.prototype._promiseResolved=function(e,t){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},r.prototype._promiseFulfilled=function(e,t){var i=new n;return i._bitField=33554432,i._settledValueField=e,this._promiseResolved(t,i)},r.prototype._promiseRejected=function(e,t){var i=new n;return i._bitField=16777216,i._settledValueField=e,this._promiseResolved(t,i)},e.settle=function(e){return i.deprecated(".settle()",".reflect()"),new r(e).promise()},e.prototype.settle=function(){return e.settle(this)}},ut=function(e,t,i){var n=Y,r=Ae.RangeError,o=Ae.AggregateError,a=n.isArray,s={};function l(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function c(e,t){if((0|t)!==t||t<0)return i("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new l(e),r=n.promise();return n.setHowMany(t),n.init(),r}n.inherits(l,t),l.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var e=a(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},l.prototype.init=function(){this._initialized=!0,this._init()},l.prototype.setUnwrap=function(){this._unwrap=!0},l.prototype.howMany=function(){return this._howMany},l.prototype.setHowMany=function(e){this._howMany=e},l.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},l.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},l.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(s),this._checkOutcome())},l.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new o,t=this.length();t<this._values.length;++t)this._values[t]!==s&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},l.prototype._fulfilled=function(){return this._totalResolved},l.prototype._rejected=function(){return this._values.length-this.length()},l.prototype._addRejected=function(e){this._values.push(e)},l.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},l.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new r(t)},l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(e,t){return c(e,t)},e.prototype.some=function(e){return c(this,e)},e._SomePromiseArray=l},ft=function(e,t){var i=e.map;e.prototype.filter=function(e,n){return i(this,e,n,t)},e.filter=function(e,n,r){return i(e,n,r,t)}},dt=function(e,t){var i=e.reduce,n=e.all;function r(){return n(this)}e.prototype.each=function(e){return i(this,e,t,0)._then(r,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return i(this,e,t,t)},e.each=function(e,n){return i(e,n,t,0)._then(r,void 0,void 0,e,void 0)},e.mapSeries=function(e,n){return i(e,n,t,t)}},vt=function(e){var t=e._SomePromiseArray;function i(e){var i=new t(e),n=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),n}e.any=function(e){return i(e)},e.prototype.any=function(){return i(this)}},gt=i(function(e){e.exports=function(){var t=function(){return new f("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},i=function(){return new T.PromiseInspection(this._target())},r=function(e){return T.reject(new f(e))};function o(){}var a,s={},l=Y;a=l.isNode?function(){var e=process.domain;return void 0===e&&(e=null),e}:function(){return null},l.notEnumerableProp(T,"_getDomain",a);var c=n,p=ve,h=new p;c.defineProperty(T,"_async",{value:h});var u=Ae,f=T.TypeError=u.TypeError;T.RangeError=u.RangeError;var d=T.CancellationError=u.CancellationError;T.TimeoutError=u.TimeoutError,T.OperationalError=u.OperationalError,T.RejectionError=u.OperationalError,T.AggregateError=u.AggregateError;var v=function(){},g={},_={},m=Re(T,v),y=Le(T,v,m,r,o),b=Ie(T),w=b.create,x=Be(T,b),k=Ne(T,m,_),C=ze(_),E=qe,j=l.errorObj,F=l.tryCatch;function T(e){e!==v&&function(e,t){if(null==e||e.constructor!==T)throw new f("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new f("expecting a function but got "+l.classString(t))}(this,e),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function S(e){this.promise._resolveCallback(e)}function P(e){this.promise._rejectCallback(e,!1)}function O(e){var t=new T(v);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}return T.prototype.toString=function(){return"[object Promise]"},T.prototype.caught=T.prototype.catch=function(e){var t=arguments.length;if(t>1){var i,n=new Array(t-1),o=0;for(i=0;i<t-1;++i){var a=arguments[i];if(!l.isObject(a))return r("Catch statement predicate: expecting an object but got "+l.classString(a));n[o++]=a}return n.length=o,e=arguments[i],this.then(void 0,C(n,e,this))}return this.then(void 0,e)},T.prototype.reflect=function(){return this._then(i,i,void 0,this,void 0)},T.prototype.then=function(e,t){if(x.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var i=".then() only accepts functions but was passed: "+l.classString(e);arguments.length>1&&(i+=", "+l.classString(t)),this._warn(i)}return this._then(e,t,void 0,void 0,void 0)},T.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()},T.prototype.spread=function(e){return"function"!=typeof e?r("expecting a function but got "+l.classString(e)):this.all()._then(e,void 0,void 0,g,void 0)},T.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},T.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new y(this).promise()},T.prototype.error=function(e){return this.caught(l.originatesFromRejection,e)},T.getNewLibraryCopy=e.exports,T.is=function(e){return e instanceof T},T.fromNode=T.fromCallback=function(e){var t=new T(v);t._captureStackTrace();var i=arguments.length>1&&!!Object(arguments[1]).multiArgs,n=F(e)(E(t,i));return n===j&&t._rejectCallback(n.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},T.all=function(e){return new y(e).promise()},T.cast=function(e){var t=m(e);return t instanceof T||((t=new T(v))._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},T.resolve=T.fulfilled=T.cast,T.reject=T.rejected=function(e){var t=new T(v);return t._captureStackTrace(),t._rejectCallback(e,!0),t},T.setScheduler=function(e){if("function"!=typeof e)throw new f("expecting a function but got "+l.classString(e));return h.setScheduler(e)},T.prototype._then=function(e,t,i,n,r){var o=void 0!==r,s=o?r:new T(v),c=this._target(),p=c._bitField;o||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===n&&0!=(2097152&this._bitField)&&(n=0!=(50397184&p)?this._boundValue():c===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var u=a();if(0!=(50397184&p)){var f,g,_=c._settlePromiseCtx;0!=(33554432&p)?(g=c._rejectionHandler0,f=e):0!=(16777216&p)?(g=c._fulfillmentHandler0,f=t,c._unsetRejectionIsUnhandled()):(_=c._settlePromiseLateCancellationObserver,g=new d("late cancellation observer"),c._attachExtraTrace(g),f=t),h.invoke(_,c,{handler:null===u?f:"function"==typeof f&&l.domainBind(u,f),promise:s,receiver:n,value:g})}else c._addCallbacks(e,t,s,n,u);return s},T.prototype._length=function(){return 65535&this._bitField},T.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},T.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},T.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},T.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},T.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},T.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},T.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},T.prototype._isFinal=function(){return(4194304&this._bitField)>0},T.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},T.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},T.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},T.prototype._setAsyncGuaranteed=function(){h.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},T.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==s)return void 0===t&&this._isBound()?this._boundValue():t},T.prototype._promiseAt=function(e){return this[4*e-4+2]},T.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},T.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},T.prototype._boundValue=function(){},T.prototype._migrateCallback0=function(e){e._bitField;var t=e._fulfillmentHandler0,i=e._rejectionHandler0,n=e._promise0,r=e._receiverAt(0);void 0===r&&(r=s),this._addCallbacks(t,i,n,r,null)},T.prototype._migrateCallbackAt=function(e,t){var i=e._fulfillmentHandlerAt(t),n=e._rejectionHandlerAt(t),r=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=s),this._addCallbacks(i,n,r,o,null)},T.prototype._addCallbacks=function(e,t,i,n,r){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=i,this._receiver0=n,"function"==typeof e&&(this._fulfillmentHandler0=null===r?e:l.domainBind(r,e)),"function"==typeof t&&(this._rejectionHandler0=null===r?t:l.domainBind(r,t));else{var a=4*o-4;this[a+2]=i,this[a+3]=n,"function"==typeof e&&(this[a+0]=null===r?e:l.domainBind(r,e)),"function"==typeof t&&(this[a+1]=null===r?t:l.domainBind(r,t))}return this._setLength(o+1),o},T.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},T.prototype._resolveCallback=function(e,i){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(t(),!1);var n=m(e,this);if(!(n instanceof T))return this._fulfill(e);i&&this._propagateFrom(n,2);var r=n._target();if(r!==this){var o=r._bitField;if(0==(50397184&o)){var a=this._length();a>0&&r._migrateCallback0(this);for(var s=1;s<a;++s)r._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!=(33554432&o))this._fulfill(r._value());else if(0!=(16777216&o))this._reject(r._reason());else{var l=new d("late cancellation observer");r._attachExtraTrace(l),this._reject(l)}}else this._reject(t())}},T.prototype._rejectCallback=function(e,t,i){var n=l.ensureErrorObject(e),r=n===e;if(!r&&!i&&x.warnings()){var o="a promise was rejected with a non-error: "+l.classString(e);this._warn(o,!0)}this._attachExtraTrace(n,!!t&&r),this._reject(e)},T.prototype._resolveFromExecutor=function(e){if(e!==v){var t=this;this._captureStackTrace(),this._pushContext();var i=!0,n=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,i)});i=!1,this._popContext(),void 0!==n&&t._rejectCallback(n,!0)}},T.prototype._settlePromiseFromHandler=function(e,t,i,n){var r=n._bitField;if(0==(65536&r)){var o;n._pushContext(),t===g?i&&"number"==typeof i.length?o=F(e).apply(this._boundValue(),i):(o=j).e=new f("cannot .spread() a non-array: "+l.classString(i)):o=F(e).call(t,i);var a=n._popContext();0==(65536&(r=n._bitField))&&(o===_?n._reject(i):o===j?n._rejectCallback(o.e,!1):(x.checkForgottenReturns(o,a,"",n,this),n._resolveCallback(o)))}},T.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},T.prototype._followee=function(){return this._rejectionHandler0},T.prototype._setFollowee=function(e){this._rejectionHandler0=e},T.prototype._settlePromise=function(e,t,n,r){var a=e instanceof T,s=this._bitField,l=0!=(134217728&s);0!=(65536&s)?(a&&e._invokeInternalOnCancel(),n instanceof k&&n.isFinallyHandler()?(n.cancelPromise=e,F(t).call(n,r)===j&&e._reject(j.e)):t===i?e._fulfill(i.call(n)):n instanceof o?n._promiseCancelled(e):a||e instanceof y?e._cancel():n.cancel()):"function"==typeof t?a?(l&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,n,r,e)):t.call(n,r,e):n instanceof o?n._isResolved()||(0!=(33554432&s)?n._promiseFulfilled(r,e):n._promiseRejected(r,e)):a&&(l&&e._setAsyncGuaranteed(),0!=(33554432&s)?e._fulfill(r):e._reject(r))},T.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,i=e.promise,n=e.receiver,r=e.value;"function"==typeof t?i instanceof T?this._settlePromiseFromHandler(t,n,r,i):t.call(n,r,i):i instanceof T&&i._reject(r)},T.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},T.prototype._settlePromise0=function(e,t,i){var n=this._promise0,r=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(n,e,r,t)},T.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},T.prototype._fulfill=function(e){var i=this._bitField;if(!((117506048&i)>>>16)){if(e===this){var n=t();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,(65535&i)>0&&(0!=(134217728&i)?this._settlePromises():h.settlePromises(this),this._dereferenceTrace())}},T.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return h.fatalError(e,l.isNode);(65535&t)>0?h.settlePromises(this):this._ensurePossibleRejectionHandled()}},T.prototype._fulfillPromises=function(e,t){for(var i=1;i<e;i++){var n=this._fulfillmentHandlerAt(i),r=this._promiseAt(i),o=this._receiverAt(i);this._clearCallbackDataAtIndex(i),this._settlePromise(r,n,o,t)}},T.prototype._rejectPromises=function(e,t){for(var i=1;i<e;i++){var n=this._rejectionHandlerAt(i),r=this._promiseAt(i),o=this._receiverAt(i);this._clearCallbackDataAtIndex(i),this._settlePromise(r,n,o,t)}},T.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!=(16842752&e)){var i=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,i,e),this._rejectPromises(t,i)}else{var n=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,n,e),this._fulfillPromises(t,n)}this._setLength(0)}this._clearCancellationData()},T.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},T.defer=T.pending=function(){return x.deprecated("Promise.defer","new Promise"),{promise:new T(v),resolve:S,reject:P}},l.notEnumerableProp(T,"_makeSelfResolutionError",t),We(T,v,m,r,x),Qe(T,v,m,x),Ge(T,y,r,x),Xe(T),Ke(T),Ye(T,y,m,v,h,a),T.Promise=T,T.version="3.5.3",Je(T,y,r,m,v,x),it(T),nt(T,r,m,w,v,x),rt(T,v,x),ot(T,r,v,m,o,x),at(T),st(T,v),lt(T,y,m,r),ct(T,v,m,r),pt(T,y,r,m,v,x),ht(T,y,x),ut(T,y,r),ft(T,v),dt(T,v),vt(T),l.toFastProperties(T),l.toFastProperties(T.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new T(v)),x.setBounds(p.firstLineError,l.lastLineError),T}}),_t;function mt(){try{Promise===yt&&(Promise=_t)}catch(e){}return yt}"undefined"!=typeof Promise&&(_t=Promise);var yt=gt();yt.noConflict=mt,
/*!
 * PatternFly Elements: PfeNavigation 1.0.0-prerelease.19
 * @license
 * Copyright 2019 Red Hat, Inc.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
*/
"path"in Event.prototype||Object.defineProperty(Event.prototype,"path",{get:function(){for(var e=[],t=this.target;t;)e.push(t),t=t.parentElement;return-1===e.indexOf(window)&&-1===e.indexOf(document)&&e.push(document),-1===e.indexOf(window)&&e.push(window),e}});class bt extends e{static get version(){return"1.0.0-prerelease.19"}get html(){return`<style>:host{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}::slotted([slot=tray][hidden]),:host([hidden]:not([pfe-icon=menu])){display:none;visibility:hidden}::slotted([slot=trigger]){--pfe-theme--link--text-decoration:none;--pfe-theme--link--text-decoration--hover:none;--pfe-theme--link--text-decoration--focus:none;--pfe-broadcasted--color--text:var(--pfe-navigation--Color, #fff);--pfe-broadcasted--color--ui-link:var(--pfe-navigation--Color, #fff);--pfe-broadcasted--color--ui-link--hover:var(--pfe-navigation--Color, #fff);--pfe-broadcasted--color--ui-link--visited:var(--pfe-navigation--Color, #fff);--pfe-broadcasted--color--ui-link--focus:var(--pfe-navigation--Color, #fff);--pfe-theme--font-size--alpha:var(--pfe-navigation--FontSize, 14px);--pfe-theme--font-weight--alpha:var(--pfe-navigation--FontWeight, 14px);--pfe-theme--font-size--beta:var(--pfe-navigation--FontSize, 14px);--pfe-theme--font-weight--beta:var(--pfe-navigation--FontWeight, 14px);--pfe-theme--font-size--gamma:var(--pfe-navigation--FontSize, 14px);--pfe-theme--font-weight--gamma:var(--pfe-navigation--FontWeight, 14px);font-family:Overpass,Overpass,Helvetica,helvetica,arial,sans-serif;font-family:var(--pfe-theme--font-family, "Overpass", Overpass, Helvetica, helvetica, arial, sans-serif);font-size:14px;font-size:var(--pfe-navigation--FontSize,14px);font-weight:14px;font-weight:var(--pfe-navigation--FontWeight,14px);color:#fff;color:var(--pfe-navigation--Color,#fff);margin:0}@media screen and (max-width:1199px){:host([is_nested]) ::slotted([slot=trigger]){--pfe-navigation--Color:var(--pfe-theme--color--text, #333)}}::slotted([slot=tray]){--pfe-navigation--Color:var(--pfe-theme--color--text, #333);--pfe-navigation--FontWeight:var(--pfe-theme--color--text, #333);-webkit-transition:all cubic-bezier(.465,.183,.153,.946);transition:all cubic-bezier(.465,.183,.153,.946);-webkit-transition:all var(--pfe-theme--animation-timing,cubic-bezier(.465,.183,.153,.946));transition:all var(--pfe-theme--animation-timing,cubic-bezier(.465,.183,.153,.946));-webkit-box-sizing:border-box;box-sizing:border-box}:host([pfe-icon=menu][hidden]) ::slotted([slot=tray]){display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;visibility:visible}:host(:not([pfe-icon=menu]):not([is_nested])) ::slotted([slot=tray]),:host([is_nested][parent_hidden]) ::slotted([slot=tray]),:host([pfe-icon=menu]:not([hidden])) ::slotted([slot=tray]){position:absolute;top:100%;left:0;background-color:#fff;background-color:var(--pfe-theme--color--surface--lightest,#fff);color:var(--pfe-navigation--Color);padding:var(--pfe-navigation__tray--Padding);width:100%;max-height:calc(100vh - 84px);max-height:calc(100vh - var(--pfe-navigation--Height,84px));overflow-x:hidden;overflow-y:scroll}@media screen and (max-width:1199px){:host([is_nested]:not([parent_hidden])) ::slotted([slot=tray]){--pfe-navigation--Padding:calc(var(--pfe-navigation--Padding--vertical) / 2) var(--pfe-navigation--Padding--horizontal);position:relative;display:block;width:100%;padding:calc(var(--pfe-navigation--Padding--vertical)/ 2) var(--pfe-navigation--Padding--horizontal)}}@media screen and (max-width:1199px) and (min-width:576px){:host([is_nested]:not([parent_hidden])) ::slotted([slot=tray]){padding:var(--pfe-navigation--Padding)}}.pfe-navigation-item__trigger{--pfe-navigation--Color:var(--pfe-theme--color--text--on-dark, #fff);border-top:4px solid var(--pfe-navigation--BorderTopColor);border-top:var(--pfe-theme--surface--border-width--heavy,4px) var(--pfe-theme--surface--border-style,solid) var(--pfe-navigation--BorderTopColor);border-right:1px dashed var(--pfe-navigation--BorderColor);border-right:var(--pfe-theme--surface--border-width,1px) dashed var(--pfe-navigation--BorderColor);border-bottom:1px dashed var(--pfe-navigation--BorderColor);border-bottom:var(--pfe-theme--surface--border-width,1px) dashed var(--pfe-navigation--BorderColor);border-left:1px dashed var(--pfe-navigation--BorderColor);border-left:var(--pfe-theme--surface--border-width,1px) dashed var(--pfe-navigation--BorderColor);position:relative;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;--pfe-theme--link--text-decoration:none;--pfe-theme--link--text-decoration--hover:none;--pfe-theme--link--text-decoration--focus:none;text-align:center;white-space:nowrap;margin-bottom:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:all cubic-bezier(.465,.183,.153,.946);transition:all cubic-bezier(.465,.183,.153,.946);-webkit-transition:all var(--pfe-theme--animation-timing,cubic-bezier(.465,.183,.153,.946));transition:all var(--pfe-theme--animation-timing,cubic-bezier(.465,.183,.153,.946));margin:0;outline:0;background-color:var(--pfe-navigation--BackgroundColor);padding:calc(16px / 2) 16px;padding:calc(var(--pfe-theme--container-padding,16px)/ 2) var(--pfe-theme--container-padding,16px)}.pfe-navigation-item__trigger:hover{cursor:pointer}.pfe-navigation-item__trigger :host([aria-current=location]),.pfe-navigation-item__trigger:hover{--pfe-navigation--BorderTopColor:var(--pfe-theme--color--surface--accent, #fe460d)}.pfe-navigation-item__trigger:focus{--pfe-navigation--BorderTopColor:var(--pfe-theme--color--surface--accent, #fe460d);--pfe-navigation--BorderColor:var(--pfe-theme--color--surface--lightest, #fff)}.pfe-navigation-item__trigger:focus:not(:focus-visible){outline:0}.expanded .pfe-navigation-item__trigger,.pfe-navigation-item__trigger[aria-expanded=true]{--pfe-navigation--Color:var(--pfe-theme--color--text, #333);--pfe-navigation--BackgroundColor:var(--pfe-theme--color--surface--lightest, #fff);--pfe-navigation--BorderTopColor:var(--pfe-theme--color--surface--accent, #fe460d)}@media screen and (max-width:1199px){:host([is_nested]) .pfe-navigation-item__trigger:hover{border-left:4px solid var(--pfe-navigation--BorderLeftColor--focus);border-left:var(--pfe-theme--surface--border-width--heavy,4px) var(--pfe-theme--surface--border-style,solid) var(--pfe-navigation--BorderLeftColor--focus)}:host([is_nested]) .pfe-navigation-item__trigger[aria-expanded=true],:host([is_nested].expanded) .pfe-navigation-item__trigger{position:relative;display:block;border-bottom:0}}@media screen and (min-width:1200px){:host([pfe-icon=menu]) .pfe-navigation-item__trigger{display:none}}:host([pfe-icon]) .pfe-navigation-item__trigger{--pfe-navigation__trigger--FontSize:14px}.pfe-navigation-item__trigger--icon{visibility:hidden}:host([has_tray]:not([pfe-icon]):not([is_nested])) [aria-expanded=false]:hover .pfe-navigation-item__trigger--icon{visibility:visible;border-top-color:var(--pfe-navigation--Color)}@media screen and (min-width:1200px){:host([has_tray]:not([pfe-icon])) [aria-expanded=false]:hover .pfe-navigation-item__trigger--icon{visibility:visible}}:host [aria-expanded=true] .pfe-navigation-item__trigger--icon{visibility:visible}:host(:not([pfe-icon])) .pfe-navigation-item__trigger--icon{border-style:solid;border-style:var(--pfe-theme--surface--border-style,solid);border-width:6px 6px 0;border-color:transparent;border-top-color:#606060;border-top-color:var(--pfe-theme--color--feedback--default,#606060);-webkit-transform:rotate(0);transform:rotate(0);position:absolute;bottom:16px;bottom:var(--pfe-theme--container-spacer,16px)}@media screen and (max-width:1199px){:host([is_nested]) [aria-expanded=false] .pfe-navigation-item__trigger--icon{visibility:visible;content:"";position:absolute;top:calc((16px * .75) + .55em);top:calc((var(--pfe-theme--container-spacer,16px) * .75) + .55em);display:block;border-style:solid;border-style:var(--pfe-theme--surface--border-style,solid);height:.4em;width:.4em;text-align:center;-webkit-transition:-webkit-transform .15s;transition:-webkit-transform .15s;transition:transform .15s;transition:transform .15s,-webkit-transform .15s;border-width:0 .1em .1em 0;-webkit-transform:rotate(45deg);transform:rotate(45deg);right:calc(16px * 1.5);right:calc(var(--pfe-theme--container-spacer,16px) * 1.5)}:host([is_nested]) [aria-expanded=true] .pfe-navigation-item__trigger--icon{visibility:visible;content:"";position:absolute;top:calc((16px * .75) + .55em);top:calc((var(--pfe-theme--container-spacer,16px) * .75) + .55em);display:block;border-style:solid;border-style:var(--pfe-theme--surface--border-style,solid);height:.4em;width:.4em;text-align:center;-webkit-transition:-webkit-transform .15s;transition:-webkit-transform .15s;transition:transform .15s;transition:transform .15s,-webkit-transform .15s;border-width:.1em .1em 0 0;border-bottom:0;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:calc(16px * 1.5);right:calc(var(--pfe-theme--container-spacer,16px) * 1.5)}:host([is_nested]:not([has_tray])) .pfe-navigation-item__trigger--icon{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}}:host([pfe-icon]) .pfe-navigation-item__trigger--icon{visibility:visible;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;background:var(--pfe-navigation--icon) no-repeat;background-size:contain;background-position:center;width:21px;height:21px;margin-bottom:calc(16px / 2);margin-bottom:calc(var(--pfe-theme--container-spacer,16px)/ 2)}:host(:not([pfe-icon],[is_nested])) [aria-expanded=false] .pfe-navigation-item__trigger--icon{visibility:hidden}@media screen and (max-width:1199px){:host([is_nested]) .pfe-navigation-item__tray{display:none;overflow:hidden;will-change:height;border-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%}:host([is_nested]) .pfe-navigation-item__tray[aria-expanded=true],:host([is_nested].expanded) .pfe-navigation-item__tray{display:block;position:relative;border-right:1px solid transparent;border-right:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) transparent;border-left:4px solid transparent;border-left:var(--pfe-theme--surface--border-width--heavy,4px) var(--pfe-theme--surface--border-style,solid) transparent;-webkit-box-shadow:0 5px 4px rgba(140,140,140,.35);box-shadow:0 5px 4px rgba(140,140,140,.35);-webkit-box-shadow:0 5px var(--pfe-theme--surface--border-width--heavy,4px) rgba(140,140,140,.35);box-shadow:0 5px var(--pfe-theme--surface--border-width--heavy,4px) rgba(140,140,140,.35);border-left-color:#06c;border-left-color:var(--pfe-theme--color--surface--lightest--link,#06c);background-color:#fff;background-color:var(--pfe-theme--color--surface--lightest,#fff);border-right-color:#d2d2d2;border-right-color:var(--pfe-theme--color--surface--border,#d2d2d2);border-bottom:1px solid #d2d2d2;border-bottom:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--surface--border,#d2d2d2)}}@media screen and (min-width:1200px){:host([pfe-icon=menu]) .pfe-navigation-item__tray{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1}}:host(.animating){-webkit-transition:-webkit-transform .3s cubic-bezier(.465,.183,.153,.946);transition:-webkit-transform .3s cubic-bezier(.465,.183,.153,.946);transition:transform .3s cubic-bezier(.465,.183,.153,.946);transition:transform .3s cubic-bezier(.465,.183,.153,.946),-webkit-transform .3s cubic-bezier(.465,.183,.153,.946);-webkit-transition:-webkit-transform .3s var(--pfe-theme--animation-timing,cubic-bezier(.465,.183,.153,.946));transition:-webkit-transform .3s var(--pfe-theme--animation-timing,cubic-bezier(.465,.183,.153,.946));transition:transform .3s var(--pfe-theme--animation-timing,cubic-bezier(.465,.183,.153,.946));transition:transform .3s var(--pfe-theme--animation-timing,cubic-bezier(.465,.183,.153,.946)),-webkit-transform .3s var(--pfe-theme--animation-timing,cubic-bezier(.465,.183,.153,.946))}@media screen and (max-width:1199px){:host([is_nested]){--pfe-navigation__trigger--FontSize:16px;--pfe-navigation--BackgroundColor:var(--pfe-theme--surface--lightest);--pfe-navigation--Color:var(--pfe-theme--surface--lightest--text);--pfe-navigation--main:transparent;--pfe-navigation--aux:var(--pfe-theme--color--surface--lightest--text, #333);--pfe-navigation--BorderLeft:var(--pfe-theme--surface--border-width--heavy, 4px) var(--pfe-theme--surface--border-style, solid) transparent;--pfe-navigation--BorderRight:var(--pfe-theme--surface--border-width, 1px) var(--pfe-theme--surface--border-style, solid) transparent;--pfe-navigation--BorderBottom:var(--pfe-theme--surface--border-width, 1px) var(--pfe-theme--surface--border-style, solid) var(--pfe-theme--color--surface--border, #d2d2d2);--pfe-navigation--BorderLeftColor--focus:var(--pfe-theme--color--surface--lightest--link, #06c)}:host([is_nested]) .pfe-navigation-item__trigger{margin:0;width:100%;height:auto;font-family:inherit;font-weight:700;font-weight:var(--pfe-theme--font-weight--bold,700);text-align:left;cursor:pointer;z-index:1;position:relative;font-size:calc(16px * 1.1);font-size:calc(var(--pfe-theme--font-size,16px) * 1.1);line-height:1.5;line-height:var(--pfe-theme--line-height,1.5);color:var(--pfe-navigation--aux);background-color:var(--pfe-navigation--main);border-left:var(--pfe-navigation--BorderLeft);border-right:var(--pfe-navigation--BorderRight);border-bottom:var(--pfe-navigation--BorderBottom);border-top:0;padding:16px 50px 16px calc(16px * 1.5);padding:var(--pfe-theme--container-spacer,16px) 50px var(--pfe-theme--container-spacer,16px) calc(var(--pfe-theme--container-spacer,16px) * 1.5);-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-align:stretch;-webkit-align-items:stretch;-ms-flex-align:stretch;align-items:stretch}:host([is_nested]) .pfe-navigation-item__trigger:hover{outline:0;border-left-color:var(--pfe-navigation--BorderLeftColor--focus);z-index:2}:host([is_nested]) .pfe-navigation-item__trigger:focus{outline:0;z-index:2;text-decoration:underline;-webkit-text-decoration-color:#c6c6c6;text-decoration-color:#c6c6c6;-webkit-text-decoration-color:var(--pfe-theme--color--surface--border--darker,#c6c6c6);text-decoration-color:var(--pfe-theme--color--surface--border--darker,#c6c6c6)}:host([is_nested]) .pfe-navigation-item__trigger::-moz-focus-inner{border:0}:host([is_nested]) .pfe-navigation-item__trigger[aria-expanded=true]{--pfe-navigation--main:var(--pfe-theme--color--surface--lightest, #fff);--pfe-navigation--aux:var(--pfe-theme--color--surface--lightest--text, #333);--pfe-navigation--focus:var(--pfe-theme--color--surface--lightest--link, #06c);--pfe-navigation--BorderLeft:var(--pfe-theme--surface--border-width--heavy, 4px) var(--pfe-theme--surface--border-style, solid) var(--pfe-theme--color--surface--lightest--link, #06c);--pfe-navigation--BorderRight:var(--pfe-theme--surface--border-width, 1px) var(--pfe-theme--surface--border-style, solid) var(--pfe-theme--color--surface--border, #d2d2d2)}:host([is_nested][first]){border-top:1px solid #d2d2d2;border-top:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--surface--border,#d2d2d2)}:host([is_nested][last]) [aria-expanded=false]{border-bottom:1px solid #d2d2d2;border-bottom:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--surface--border,#d2d2d2)}}</style><div class="pfe-navigation-item__trigger" aria-expanded="false" tabindex="0">\n    ${this.hasIcon?'<span class="pfe-navigation-item__trigger--icon"></span>':""}\n    <slot name="trigger" class="pfe-navigation-item__trigger--slot"></slot>\n    ${this.hasIcon?"":'<span class="pfe-navigation-item__trigger--icon"></span>'}\n</div>\n<div class="pfe-navigation-item__tray">\n    <slot name="tray"></slot>\n</div>`}static get properties(){return{icon:{title:"Icon name",type:"string",enum:["bento","user","globe","search","menu"],prefixed:!0}}}static get slots(){return{trigger:{title:"Navigation trigger",type:"array",namedSlot:!0,items:{title:"Item",oneOf:[{$ref:"raw"}]}},tray:{title:"Navigation tray",type:"array",namedSlot:!0,items:{title:"Item",oneOf:[{$ref:"raw"}]}}}}static get tag(){return"pfe-navigation-item"}get templateUrl(){return"pfe-navigation-item.html"}get styleUrl(){return"pfe-navigation-item.scss"}get schemaUrl(){return"pfe-navigation-item.json"}static get PfeType(){return e.PfeTypes.Container}get hasIcon(){return this.hasAttribute("pfe-icon")}static get observedAttributes(){return["pfe-icon"]}get nested(){return this.hasAttribute("is_nested")}set nested(e){(e=Boolean(e))?this.setAttribute("is_nested",""):this.removeAttribute("is_nested")}get expanded(){return this.classList.contains("expanded")}set expanded(e){(e=Boolean(e))?(this.classList.add("expanded"),this._trigger&&this._trigger.setAttribute("aria-expanded",!0),this.tray&&this.tray.removeAttribute("hidden"),this._tray&&this._tray.setAttribute("aria-expanded",!0)):(this.classList.remove("expanded"),this._trigger&&this._trigger.setAttribute("aria-expanded",!1),this.tray&&this.tray.setAttribute("hidden",""),this._tray&&this._tray.setAttribute("aria-expanded",!1))}get visible(){return!this.hasAttribute("hidden")}set visible(e){(e=Boolean(e))?this.removeAttribute("hidden"):this.setAttribute("hidden","")}open(e){e&&e.preventDefault(),this.dispatchEvent(new CustomEvent(`${this.tag}:toggle`,{detail:{navigationItem:this,action:"open"},bubbles:!0,composed:!0}))}close(e){e&&e.preventDefault(),this.dispatchEvent(new CustomEvent(`${this.tag}:toggle`,{detail:{navigationItem:this,action:"close"},bubbles:!0,composed:!0}))}toggle(e){e&&e.preventDefault(),this.dispatchEvent(new CustomEvent(`${this.tag}:toggle`,{detail:{navigationItem:this},bubbles:!0,composed:!0}))}constructor(){super(bt),this.nested=!1,this.expanded=!1,this.trigger=null,this.tray=null,this.directLink=null,this.linkUrl=null,this._trigger=this.shadowRoot.querySelector(`.${this.tag}__trigger`),this._tray=this.shadowRoot.querySelector(`.${this.tag}__tray`),this._icon=this.shadowRoot.querySelector(`.${this.tag}__trigger--icon`),this.close=this.close.bind(this),this.open=this.open.bind(this),this.toggle=this.toggle.bind(this),this._init=this._init.bind(this),this._keydownHandler=this._keydownHandler.bind(this),this._suppressLink=this._suppressLink.bind(this),this._navigateToUrl=this._navigateToUrl.bind(this),this._directLinkHandler=this._directLinkHandler.bind(this)}connectedCallback(){super.connectedCallback(),[...this.children].filter(e=>!e.hasAttribute("slot")).map(e=>e.setAttribute("slot","trigger")),this.trigger=this.querySelector('[slot="trigger"]'),this.tray=this.querySelector('[slot="tray"]'),this.nestedItems=[],this.tray&&(this.nestedItems=this.nestedItems.concat([...this.tray.querySelectorAll(`${this.tag}`)]),this.nestedItems=this.nestedItems.concat([...this.tray.querySelectorAll("slot")].map(e=>e.assignedElements().map(e=>[...e.querySelectorAll(`${this.tag}`)])).flat(3))),this._init(),this.trigger.addEventListener("slotchange",this._init)}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i)}disconnectedCallback(){this.trigger.removeEventListener("slotchange",this._init),this.tray?(this.removeEventListener("keydown",this._keydownHandler),this._trigger.removeEventListener("click",this.toggle),this.directLink&&this.directLink.removeEventListener("click",this._suppressLink)):(this._trigger.removeEventListener("click",this._navigateToUrl),this._trigger.removeEventListener("keydown",this._directLinkHandler))}_init(){this.directLink=this.trigger.querySelector("a"),this.tray?(this._trigger.addEventListener("click",this.toggle),this.addEventListener("keydown",this._keydownHandler),this.directLink&&(this.directLink.setAttribute("tabindex","-1"),this.directLink.addEventListener("click",this._suppressLink))):(this.linkUrl=this.directLink?this.directLink.href:"#",this._trigger.addEventListener("click",this._navigateToUrl),this._trigger.addEventListener("keydown",this._directLinkHandler))}_suppressLink(e){e.preventDefault()}_navigateToUrl(e){e.preventDefault(),window.location.href=this.linkUrl}_directLinkHandler(e){switch(e.key){case"Spacebar":case"Enter":case" ":this._navigateToUrl(e);break;default:return}}_keydownHandler(e){switch(e.key){case"Spacebar":case"Enter":case" ":e&&e.path&&e.path[0]&&e.path[0].classList.contains(`${this.tag}__trigger`)&&this.toggle(e);break;case"Esc":case"Escape":this.close(e),this.focus();break;default:return}}}class wt extends e{static get version(){return"1.0.0-prerelease.19"}get html(){return"<style>:host{display:block;height:100%}::slotted(*){margin:0;padding:0;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap}:host([show_content]) ::slotted(*){-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-align:stretch;-webkit-align-items:stretch;-ms-flex-align:stretch;align-items:stretch}::slotted(ul){list-style-type:none}:host([show_content]) ::slotted(ul){display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap}</style><slot></slot>"}static get properties(){return{sticky:{title:"Sticky navigation",type:"boolean",default:!0,prefixed:!0},"close-on-click":{title:"Close navigation on click event",type:"string",enum:["external"],default:"external",prefixed:!0}}}static get slots(){return{skip:{title:"Skip navigation",type:"array",namedSlot:!0,items:{title:"Item",oneOf:[{$ref:"raw"}]}},logo:{title:"Logo",type:"array",namedSlot:!0,items:{title:"Item",oneOf:[{$ref:"raw"}]}},search:{title:"Search",type:"array",namedSlot:!0,items:{title:"Item",oneOf:[{$ref:"pfe-navigation-item"}]}},"mobile-search":{title:"Mobile search functionality",type:"array",namedSlot:!0,items:{title:"Item",oneOf:[{$ref:"raw"}]}},main:{title:"Main navigation",type:"array",namedSlot:!1,items:{title:"Item",oneOf:[{$ref:"nav"},{$ref:"raw"}]}},language:{title:"Language switcher",type:"array",namedSlot:!0,items:{title:"Item",oneOf:[{$ref:"pfe-navigation-item"}]}},"mobile-language":{title:"Mobile link to language page",type:"array",namedSlot:!0,items:{title:"Item",oneOf:[{$ref:"a"}]}},login:{title:"Log in",type:"array",namedSlot:!0,items:{title:"Item",oneOf:[{$ref:"pfe-navigation-item"}]}},"mobile-login":{title:"Mobile link to log in page",type:"array",namedSlot:!0,items:{title:"Item",oneOf:[{$ref:"a"}]}},"site-switcher":{title:"Site switcher",type:"array",namedSlot:!0,items:{title:"Item",oneOf:[{$ref:"pfe-navigation-item"}]}}}}static get tag(){return"pfe-navigation-main"}get templateUrl(){return"pfe-navigation-main.html"}get styleUrl(){return"pfe-navigation-main.scss"}static get PfeType(){return e.PfeTypes.Container}static get observedAttributes(){return["show_content"]}constructor(){super(wt),this.navItems=this.querySelectorAll("pfe-navigation-item"),this.first=this.navItems.item(0),this.last=this.navItems.item(this.navItems.length-1),this._init=this._init.bind(this)}connectedCallback(){super.connectedCallback(),this._init(),this.addEventListener("slotchange",this._init)}disconnectedCallback(){this.removeEventListener("slotchange",this._init)}_init(){this.setAttribute("role","navigation"),this.setAttribute("aria-label","Main"),this.navItems.forEach(e=>{e.nested=!0}),this.first&&this.first.setAttribute("first",""),this.last&&this.last.setAttribute("last","")}}class xt extends e{static get version(){return"1.0.0-prerelease.19"}get html(){return'<style>:host{--pfe-navigation--Padding--vertical:var(--pfe-theme--container-padding, 16px);--pfe-navigation--Padding--horizontal:var(--pfe-theme--container-padding, 16px);--pfe-navigation--Padding:0 var(--pfe-navigation--Padding--horizontal);--pfe-navigation--BackgroundColor:var(--pfe-theme--color--surface--darkest, #131313);--pfe-navigation--Color:var(--pfe-theme--color--surface--darkest--text, #fff);--pfe-navigation--BorderTopColor:transparent;--pfe-navigation--BorderColor:transparent;--pfe-navigation--Border:var(--pfe-theme--surface--border-width, 1px) var(--pfe-theme--surface--border-style, solid) var(--pfe-navigation--BorderColor);--pfe-navigation--MinHeight:72px;--pfe-navigation--icon:none;--pfe-navigation__overlay--BackgroundColor:var(--pfe-theme--overlay--BackgroundColor, rgba(37, 37, 37, 0.5));--pfe-navigation__trigger--FontWeight:100;--pfe-navigation__tray--Padding:var(--pfe-theme--container-padding, 16px);display:block;z-index:0;z-index:var(--pfe-theme--zindex--content,0);width:100%}@media print{:host{--pfe-navigation--Padding:calc(var(--pfe-navigation--Padding--vertical) / 2) var(--pfe-navigation--Padding--horizontal)}}@media screen and (min-width:576px){:host{--pfe-navigation--Padding--horizontal:calc(var(--pfe-theme--container-padding, 16px) * 2)}}@media screen and (min-width:992px){:host{--pfe-navigation--Padding--horizontal:calc(var(--pfe-theme--container-padding, 16px) / 2);--pfe-navigation__tray--Padding:calc(var(--pfe-theme--container-padding, 16px) * 2)}}@media screen and (min-width:1200px){:host{--pfe-navigation--Padding--horizontal:var(--pfe-theme--container-padding, 16px)}}:host(.sticky){position:-webkit-sticky;position:sticky;top:0;left:0;width:100vw;z-index:99;z-index:var(--pfe-theme--zindex--navigation,99)}::slotted([slot=logo]){margin:0;max-height:var(--pfe-navigation--MinHeight)}::slotted([slot=mobile-language]),::slotted([slot=mobile-login]){color:#06c;color:var(--pfe-broadcasted--color--ui-link,#06c);text-decoration:underline;-webkit-text-decoration:var(--pfe-broadcasted--link--text-decoration,underline);text-decoration:var(--pfe-broadcasted--link--text-decoration,underline)}::slotted([slot=mobile-menu--label]){font-family:Overpass,Overpass,Helvetica,helvetica,arial,sans-serif;font-family:var(--pfe-theme--font-family, "Overpass", Overpass, Helvetica, helvetica, arial, sans-serif);font-size:var(--pfe-navigation--FontSize);font-weight:var(--pfe-navigation--FontWeight);color:var(--pfe-navigation--Color);margin-bottom:0}::slotted([pfe-icon=bento]),[pfe-icon=bento]{--pfe-navigation--icon:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="19px" height="19px" viewBox="0 0 19 19" xml:space="preserve"><g stroke="none" stroke-width="1" fill="white" fill-rule="evenodd"><g><rect x="14" y="14" width="5" height="5"></rect><rect x="7" y="14" width="5" height="5"></rect><rect x="0" y="14" width="5" height="5"></rect><rect x="14" y="7" width="5" height="5"></rect><rect x="7" y="7" width="5" height="5"></rect><rect x="0" y="7" width="5" height="5"></rect><rect x="14" y="0" width="5" height="5"></rect><rect x="7" y="0" width="5" height="5"></rect><rect x="0" y="0" width="5" height="5"></rect></g></g></svg>\')}::slotted([pfe-icon=bento].expanded),[pfe-icon=bento].expanded{--pfe-navigation--icon:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="19px" height="19px" viewBox="0 0 19 19" xml:space="preserve"><g stroke="none" stroke-width="1" fill="black" fill-rule="evenodd"><g><rect x="14" y="14" width="5" height="5"></rect><rect x="7" y="14" width="5" height="5"></rect><rect x="0" y="14" width="5" height="5"></rect><rect x="14" y="7" width="5" height="5"></rect><rect x="7" y="7" width="5" height="5"></rect><rect x="0" y="7" width="5" height="5"></rect><rect x="14" y="0" width="5" height="5"></rect><rect x="7" y="0" width="5" height="5"></rect><rect x="0" y="0" width="5" height="5"></rect></g></g></svg>\')}::slotted([pfe-icon=user]),[pfe-icon=user]{--pfe-navigation--icon:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="21px" height="20px" viewBox="0 -1 21 20" xml:space="preserve"><g stroke="white" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round"><g><path d="M0,19 C0,13.75 4.25,9.5 9.5,9.5 C14.75,9.5 19,13.75 19,19"></path><circle cx="9.5" cy="4.75" r="4.75"></circle></g></g></svg>\')}::slotted([pfe-icon=user].expanded),[pfe-icon=user].expanded{--pfe-navigation--icon:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="21px" height="20px" viewBox="0 -1 21 20" xml:space="preserve"><g stroke="black" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round"><g><path d="M0,19 C0,13.75 4.25,9.5 9.5,9.5 C14.75,9.5 19,13.75 19,19"></path><circle cx="9.5" cy="4.75" r="4.75"></circle></g></g></svg>\')}::slotted([pfe-icon=globe]),[pfe-icon=globe]{--pfe-navigation--icon:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="21px" height="21px" viewBox="-1 -1 21 21" xml:space="preserve"><g stroke="white" stroke-width="1" fill="none" fill-rule="evenodd"><g><circle cx="9.5" cy="9.5" r="9.5"></circle><ellipse cx="9.5" cy="9.5" rx="4.75" ry="9.5"></ellipse><path d="M9.5,0 L9.5,19"></path><path d="M1,14 L18,14"></path><path d="M0,9.5 L19,9.5"></path><path d="M1,5 L18,5"></path></g></g></svg>\')}::slotted([pfe-icon=globe].expanded),[pfe-icon=globe].expanded{--pfe-navigation--icon:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="21px" height="21px" viewBox="-1 -1 21 21" xml:space="preserve"><g stroke="black" stroke-width="1" fill="none" fill-rule="evenodd"><g><circle cx="9.5" cy="9.5" r="9.5"></circle><ellipse cx="9.5" cy="9.5" rx="4.75" ry="9.5"></ellipse><path d="M9.5,0 L9.5,19"></path><path d="M1,14 L18,14"></path><path d="M0,9.5 L19,9.5"></path><path d="M1,5 L18,5"></path></g></g></svg>\')}::slotted([pfe-icon=search]),[pfe-icon=search]{--pfe-navigation--icon:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="20px" height="20px" viewBox="-1 -1 21 21" xml:space="preserve"><g stroke="white" stroke-width="1" fill="none" fill-rule="evenodd"><g><path d="M12,13 L18,19" stroke-linecap="round"></path><ellipse cx="7" cy="7.5" rx="7" ry="7.5"></ellipse></g></g></svg>\')}::slotted([pfe-icon=search].expanded),[pfe-icon=search].expanded{--pfe-navigation--icon:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="20px" height="20px" viewBox="-1 -1 21 21" xml:space="preserve"><g stroke="black" stroke-width="1" fill="none" fill-rule="evenodd"><g><path d="M12,13 L18,19" stroke-linecap="round"></path><ellipse cx="7" cy="7.5" rx="7" ry="7.5"></ellipse></g></g></svg>\')}::slotted([pfe-icon=menu]),[pfe-icon=menu]{--pfe-navigation--icon:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="23px" height="18px" viewBox="0 0 23 18" xml:space="preserve"><g stroke="white" stroke-width="1" fill="white" fill-rule="evenodd"><g><rect x="0.5" y="14.5" width="22" height="3"></rect><rect x="0.5" y="7.5" width="22" height="3"></rect><rect x="0.5" y="0.5" width="22" height="3"></rect></g></g></svg>\')}::slotted([pfe-icon=menu].expanded),[pfe-icon=menu].expanded{--pfe-navigation--icon:url(\'data:image/svg+xml;utf8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="-11 11 22 23"><path fill="black" d="M30 16.669v-1.331c0-0.363-0.131-0.675-0.394-0.938s-0.575-0.394-0.938-0.394h-10.669v-10.65c0-0.362-0.131-0.675-0.394-0.938s-0.575-0.394-0.938-0.394h-1.331c-0.363 0-0.675 0.131-0.938 0.394s-0.394 0.575-0.394 0.938v10.644h-10.675c-0.362 0-0.675 0.131-0.938 0.394s-0.394 0.575-0.394 0.938v1.331c0 0.363 0.131 0.675 0.394 0.938s0.575 0.394 0.938 0.394h10.669v10.644c0 0.363 0.131 0.675 0.394 0.938 0.262 0.262 0.575 0.394 0.938 0.394h1.331c0.363 0 0.675-0.131 0.938-0.394s0.394-0.575 0.394-0.938v-10.637h10.669c0.363 0 0.675-0.131 0.938-0.394 0.269-0.262 0.4-0.575 0.4-0.938z" transform="rotate(45)"/></svg>\')}.pfe-navigation__wrapper{position:relative;z-index:99;z-index:var(--pfe-theme--navigation,99);background-color:#131313;background-color:var(--pfe-navigation--BackgroundColor);color:var(--pfe-navigation--Color);min-height:var(--pfe-navigation--MinHeight)}.pfe-navigation__container{margin:0 auto;padding:0 var(--pfe-navigation--Padding--horizontal);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-align:stretch;-webkit-align-items:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}@media screen and (min-width:768px){.pfe-navigation__container{--pfe-navigation--Width:calc(768px - calc(var(--pfe-navigation--Padding--horizontal) * 2));width:calc(768px - 2rem);width:var(--pfe-navigation--Width)}}@media screen and (min-width:992px){.pfe-navigation__container{--pfe-navigation--Width:calc(992px - calc(var(--pfe-navigation--Padding--horizontal) * 2));width:calc(992px - 2rem);width:var(--pfe-navigation--Width)}}@media screen and (min-width:1200px){.pfe-navigation__container{--pfe-navigation--Width:calc(1200px - calc(var(--pfe-navigation--Padding--horizontal) * 2));width:calc(1200px - 2rem);width:var(--pfe-navigation--Width)}}@media (min-width:992px){.pfe-navigation__container{padding:0}}.pfe-navigation__overlay{display:block;background-color:rgba(37,37,37,.5);background-color:var(--pfe-navigation__overlay--BackgroundColor,rgba(37,37,37,.5));position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:98;z-index:var(--pfe-theme--zindex--overlay,98)}.pfe-navigation__overlay[hidden]{display:none}.pfe-navigation__logo{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-flow:column nowrap;-ms-flex-flow:column nowrap;flex-flow:column nowrap;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-top:var(--pfe-navigation--Padding--vertical);padding-right:16px;padding-right:var(--pfe-theme--container-padding,16px);padding-bottom:var(--pfe-navigation--Padding--vertical)}.pfe-navigation__skip{position:absolute;overflow:hidden;clip:rect(0,0,0,0);height:1px;width:1px;margin:-1px;padding:0;border:0}.pfe-navigation__main{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}@media (min-width:1200px){.pfe-navigation__main{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-align:stretch;-webkit-align-items:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}}.pfe-navigation__main--mobile{display:grid;grid-gap:16px;grid-gap:var(--pfe-theme--container-spacer,16px);height:100%}@media (min-width:992px){.pfe-navigation__main--mobile-search{display:none}}.pfe-navigation__main--mobile--columns{display:grid;grid-gap:16px;grid-gap:var(--pfe-theme--container-spacer,16px);grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}@media (min-width:768px){.pfe-navigation__main--mobile--columns{display:none}}.pfe-navigation__main--mobile--item[pfe-icon=user]{--pfe-navigation--icon:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="21px" height="20px" viewBox="0 -1 21 20" xml:space="preserve"><g stroke="royalblue" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round"><g><path d="M0,19 C0,13.75 4.25,9.5 9.5,9.5 C14.75,9.5 19,13.75 19,19"></path><circle cx="9.5" cy="4.75" r="4.75"></circle></g></g></svg>\')}.pfe-navigation__main--mobile--item[pfe-icon=globe]{--pfe-navigation--icon:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="21px" height="21px" viewBox="-1 -1 21 21" xml:space="preserve"><g stroke="royalblue" stroke-width="1" fill="none" fill-rule="evenodd"><g><circle cx="9.5" cy="9.5" r="9.5"></circle><ellipse cx="9.5" cy="9.5" rx="4.75" ry="9.5"></ellipse><path d="M9.5,0 L9.5,19"></path><path d="M1,14 L18,14"></path><path d="M0,9.5 L19,9.5"></path><path d="M1,5 L18,5"></path></g></g></svg>\')}.pfe-navigation__main--icon{display:inline-block;background:var(--pfe-navigation--icon) no-repeat;background-size:contain;background-position:center;width:1em;height:1em;margin-right:calc(16px / 2);margin-right:calc(var(--pfe-theme--container-spacer,16px)/ 2)}.pfe-navigation__utility{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-align:stretch;-webkit-align-items:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}</style><div class="pfe-navigation__wrapper">\n  <div class="pfe-navigation__container">\n    <div class="pfe-navigation__logo">\n      <slot name="logo"></slot>\n    </div>\n    <div class="pfe-navigation__skip">\n      <slot name="skip"></slot>\n    </div>\n    <div class="pfe-navigation__main">\n      <pfe-navigation-item pfe-icon="menu">\n        <span slot="trigger">\n          <slot name="mobile-menu--label" class="pfe-navigation__main--menu-label"></slot>\n        </span>\n        <div slot="tray" hidden>\n          <div class="pfe-navigation__main--mobile">\n            <slot name="mobile-search" class="pfe-navigation__main--mobile-search"></slot>\n            <slot></slot>\n            <div class="pfe-navigation__main--mobile--columns">\n              <span class="pfe-navigation__main--mobile--item" pfe-icon="user">\n                <span class="pfe-navigation__main--icon"></span>\n                <slot name="mobile-login"></slot>\n              </span>\n              <span class="pfe-navigation__main--mobile--item" pfe-icon="globe">\n                <span class="pfe-navigation__main--icon"></span>\n                <slot name="mobile-language"></slot>\n              </span>\n            </div>\n          </div>\n        </div>\n      </pfe-navigation-item>\n    </div>\n    <div class="pfe-navigation__utility">\n      <slot name="language"></slot>\n      <slot name="search"></slot>\n      <slot name="login"></slot>\n      <slot name="site-switcher"></slot>\n    </div>\n  </div>\n  <div class="pfe-navigation__end" hidden tabindex="-1"></div>\n</div>\n<div class="pfe-navigation__overlay" hidden></div>'}static get properties(){return{sticky:{title:"Sticky navigation",type:"boolean",default:!0,prefixed:!0},"close-on-click":{title:"Close navigation on click event",type:"string",enum:["external"],default:"external",prefixed:!0}}}static get slots(){return{skip:{title:"Skip navigation",type:"array",namedSlot:!0,items:{title:"Item",oneOf:[{$ref:"raw"}]}},logo:{title:"Logo",type:"array",namedSlot:!0,items:{title:"Item",oneOf:[{$ref:"raw"}]}},search:{title:"Search",type:"array",namedSlot:!0,items:{title:"Item",oneOf:[{$ref:"pfe-navigation-item"}]}},"mobile-search":{title:"Mobile search functionality",type:"array",namedSlot:!0,items:{title:"Item",oneOf:[{$ref:"raw"}]}},main:{title:"Main navigation",type:"array",namedSlot:!1,items:{title:"Item",oneOf:[{$ref:"nav"},{$ref:"raw"}]}},language:{title:"Language switcher",type:"array",namedSlot:!0,items:{title:"Item",oneOf:[{$ref:"pfe-navigation-item"}]}},"mobile-language":{title:"Mobile link to language page",type:"array",namedSlot:!0,items:{title:"Item",oneOf:[{$ref:"a"}]}},login:{title:"Log in",type:"array",namedSlot:!0,items:{title:"Item",oneOf:[{$ref:"pfe-navigation-item"}]}},"mobile-login":{title:"Mobile link to log in page",type:"array",namedSlot:!0,items:{title:"Item",oneOf:[{$ref:"a"}]}},"site-switcher":{title:"Site switcher",type:"array",namedSlot:!0,items:{title:"Item",oneOf:[{$ref:"pfe-navigation-item"}]}}}}static get tag(){return"pfe-navigation"}get templateUrl(){return"pfe-navigation.html"}get styleUrl(){return"pfe-navigation.scss"}get schemaUrl(){return"pfe-navigation.json"}closeAllNavigationItems(){this.dispatchEvent(new CustomEvent("pfe-navigation-item:toggle",{detail:{action:"close"},bubbles:!0,composed:!0}))}get overlay(){return!this._overlay.hasAttribute("hidden")}set overlay(e){e?(this._overlay.removeAttribute("hidden"),document.body.style.overflow="hidden"):(this._overlay.setAttribute("hidden",""),document.body.style.overflow="auto")}constructor(){super(xt),this._init=this._init.bind(this),this._setVisibility=this._setVisibility.bind(this),this._toggledHandler=this._toggledHandler.bind(this),this._closeAllNavigationItems=this._closeAllNavigationItems.bind(this),this._observerHandler=this._observerHandler.bind(this),this._resizeHandler=this._resizeHandler.bind(this),this._stickyHandler=this._stickyHandler.bind(this),this.closeAllNavigationItems=this.closeAllNavigationItems.bind(this),this._outsideListener=this._outsideListener.bind(this),this._observer=new MutationObserver(this._observerHandler),this._overlay=this.shadowRoot.querySelector(".pfe-navigation__overlay"),this._menuItem=this.shadowRoot.querySelector("pfe-navigation-item[pfe-icon='menu']"),this._activeNavigationItems=[],this.initialized=!1,this.overlay=!1,this.top=this.getBoundingClientRect().top||0}connectedCallback(){super.connectedCallback(),this.children.length?(this.breakpoints={main:[0,1200],search:[768],"mobile-search":[0,767],language:[768],"mobile-language":[0,767],login:[768],"mobile-login":[0,767]},this.initialized=this._init(),this.addEventListener("pfe-navigation-item:toggle",this._toggledHandler),window.addEventListener("resize",this._resizeHandler)):console.error("This component does not have any light DOM children.  Please check documentation for requirements.")}disconnectedCallback(){this.removeEventListener("pfe-navigation-item:toggle",this._toggledHandler),window.removeEventListener("resize",this._resizeHandler),window.removeEventListener("scroll",this._stickyHandler),document.removeEventListener("click",this._outsideListener),this._observer.disconnect()}_observerHandler(e){this.initialized=!1,this.initialized=this._init()}_resizeHandler(e){this._setVisibility(this.offsetWidth),this._activeNavigationItems.forEach(e=>{e.expanded&&!e.visible?(e.expanded=!1,this._activeNavigationItems=this._activeNavigationItems.filter(t=>t!==e)):e.expanded&&e.parent&&e.parent.visible&&(e.parent.expanded=!0,this._activeNavigationItems.includes(e.parent)||this._activeNavigationItems.push(e.parent))}),this.overlay=this._activeNavigationItems.length>0}_closeAllNavigationItems(){this._activeNavigationItems=this._activeNavigationItems.filter(e=>(e.expanded=!1,!1)),this.overlay=this._activeNavigationItems.length>0}_toggledHandler(e){let t=!(!e||!e.detail)&&"close"===e.detail.action,i=e&&e.detail?e.detail.navigationItem:null,n=this._activeNavigationItems,r=n.filter(e=>i&&i.parent&&i.parent===e.parent&&i.parent.visible),o=i&&i.parent&&i.parent.visible&&n.includes(i.parent),a=n.includes(i);t||!i&&n.length>0||i&&i.visible&&!o?(n.map(e=>{e.expanded=!1}),this._activeNavigationItems=[]):i&&i.visible&&o&&r.length>0&&(this._activeNavigationItems=n.filter(e=>{if(e===i.parent)return e;e.expanded=!1})),a?(i.expanded=!1,this._activeNavigationItems=n.filter(e=>e!==i)):!i||a||t?this._closeAllNavigationItems():(i.expanded=!0,this._activeNavigationItems.push(i)),this.overlay=this._activeNavigationItems.length>0}_stickyHandler(){window.pageYOffset>=this.top?this.classList.add("sticky"):this.classList.remove("sticky")}_outsideListener(e){(e.target!==this&&null===e.target.closest("pfe-navigation")||e.path.length>0&&e.path[0]===this._overlay)&&this._closeAllNavigationItems()}_setVisibility(e){Object.entries(this.breakpoints).map(t=>{let i=t[0],n=t[1],r=n[0],o=n[1],a=!1;this.slots[i]&&this.slots[i].nodes.length>0&&(e>r&&(!o||o&&e<o)&&(a=!0),this.slots[i].nodes.forEach(e=>{"main"!==i?e.visible=a:(a?e.removeAttribute("show_content"):e.setAttribute("show_content",""),this._menuItem.visible=a,e.navItems.forEach(e=>a?e.removeAttribute("parent_hidden"):e.setAttribute("parent_hidden","")))}))})}_init(){if(!this.initialized){window.ShadyCSS&&this._observer.disconnect();let e=this.querySelector("pfe-navigation-main");e&&e.navItems&&e.navItems.forEach(e=>{e.parent=this._menuItem}),this._setVisibility(this.offsetWidth),this.hasAttribute("pfe-sticky")&&"false"!=this.getAttribute("pfe-sticky")&&(this._stickyHandler(),window.addEventListener("scroll",this._stickyHandler)),this.hasAttribute("pfe-close-on-click")&&"external"===this.getAttribute("pfe-close-on-click")&&document.addEventListener("click",this._outsideListener),window.ShadyCSS&&setTimeout(()=>{this._observer.observe(this,{childList:!0,subtree:!0,characterData:!0})},0)}return!0}}e.create(bt),e.create(wt),e.create(xt);export default xt;
//# sourceMappingURL=pfe-navigation.min.js.map
