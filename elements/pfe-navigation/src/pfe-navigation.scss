@import "variables-mixins";

/*
Because we have to respond to CSS breakpoints and JS telling we need to collapse
a nav section when there isn't enough room the navigation layout states per 'layout state'
are easier managed in mixins that DO NOT depend on the cascade.

Any style that is important to that layout state should be explicitly set and can't depend on
styles from previous breakpoints.

See mixin blocks before selectors that contain the selector name and the three layout states:

--mobile: Both the secondary links and main menu are collapsed

--collapsed-menu: Just the main menu is collapsed

--desktop: Neither are collapsed

*/

* {
  &,
  &:before,
  &:after {
    box-sizing: border-box;
  }
}

:host {
  // Example local variable, using BEM format
  // --pfe-navigation--Property: value;

  display: block;
}

:host([hidden]) {
  display: none;
}

.pfe-navigation {
  display: flex;
  align-items: stretch;
}

.pfe-navigation__wrapper {
  @include pfe-navigation__wrapper;
  @include pfe-navigation__wrapper--mobile;

  @include breakpoint('secondary-links-expand') {
    @include pfe-navigation__wrapper--collapsed-menu;
  }
  @include breakpoint('nav-expand') {
    @include pfe-navigation__wrapper--desktop;
  }

  @include collapse('nav') {
    @include pfe-navigation__wrapper--collapsed-menu;
  }
  @include collapse('secondary-links') {
    @include pfe-navigation__wrapper--mobile;
  }

  a {
    text-decoration: none;
    // @todo: move these styles to be more specific with dropdown class so that logo link can be styled without conflicting
    // &:focus,
    // &:hover {
    //   @include focus-styles(#000, 1px);
    // }
  }
}

// Logo area
// --------------------------------------------------------
.pfe-navigation__logo-wrapper {
  @include pfe-navigation__logo-wrapper;
}

.pfe-navigation__logo-link {
  @include pfe-navigation__logo-link;
}

.pfe-navigation__logo-image {
  @include pfe-navigation__logo-image;
}

// Top Level Menu Buttons Base Styles
// --------------------------------------------------------
.pfe-navigation__menu-toggle,
.pfe-navigation__search-toggle,
.pfe-navigation__all-red-hat-toggle,
.pfe-navigation__log-in-link {
  @include top-level-button;
}

// Add back some styles to links that stay in the menu at mobile
.pfe-navigation__menu-toggle,
.pfe-navigation__log-in-link {
  flex-direction: column;
  justify-content: center;
  margin-right: 8px;
  padding-left: 8px;
  padding-right: 8px;
  font-size: 12px;
  color: #fff;

  &:focus,
  &:hover {
    box-shadow: inset 0 4px 0 0 #e00;
  }
}

// Layout changes per breakpoint
// See comment at top of file
@mixin pfe-navigation__menu-toggle--mobile {
  display: flex;
  margin: 0 0 0 auto;
}
@mixin pfe-navigation__menu-toggle--collapsed-menu {
  display: flex;
  margin: 0 auto 0 0;
}
@mixin pfe-navigation__menu-toggle--desktop {
  display: none;
}
@mixin pfe-navigation__menu-toggle--active {
  color: #151515;
  background: #fff;
  box-shadow: inset 0 4px 0 0 #e00;
  &:focus,
  &:hover {
    @include focus-styles(#000, 0px);
  }
}
@mixin pfe-navigation__menu-toggle--inactive {
  color: #fff;
  background: #000;
  box-shadow: none;
  &:focus,
  &:hover {
    @include focus-styles(#fff, 0px);
  }
}
.pfe-navigation__menu-toggle {
  @include pfe-navigation__menu-toggle--mobile;

  @include breakpoint('secondary-links-expand') {
    @include pfe-navigation__menu-toggle--collapsed-menu;
  }
  @include breakpoint('nav-expand') {
    @include pfe-navigation__menu-toggle--desktop;
  }
  @include collapse('nav') {
    @include pfe-navigation__menu-toggle--collapsed-menu;
  }
  @include collapse('secondary-links') {
    @include pfe-navigation__menu-toggle--mobile;
  }

  // Active state
  [pfe-navigation-open-toggle='mobile__button'] &,
  [pfe-navigation-open-toggle^='main-menu__'] & {
    @include pfe-navigation__menu-toggle--active;
  }

  [pfe-navigation-open-toggle='secondary-links__button--search'] & {
    @include pfe-navigation__menu-toggle--active;
    @include breakpoint('secondary-links-expand') {
      @include pfe-navigation__menu-toggle--inactive;
    }
    @include collapse('secondary-links') {
      @include pfe-navigation__menu-toggle--inactive;
    }
  }
}

// @todo Fix my specificity issues
.pfe-navigation__mobile-dropdown[class][class][class] {
  position: absolute;
  top: 100%;
  left: 0;
  display: none;
  width: 100%;
  margin: 0;
  max-height: calc(100vh - #{$menu-height});
  padding: 16px 32px;
  background: #fff;

  // Open state
  [pfe-navigation-open-toggle='mobile__button'] &,
  [pfe-navigation-open-toggle^='main-menu__'] & {
    display: flex;
  }

  [pfe-navigation-open-toggle='secondary-links__button--search'] & {
    display: flex;
    @include breakpoint('secondary-links-expand') {
      display: none;
    }
    @include collapse('secondary-links') {
      display: flex;
    }
  }
}


// Outer menu wrapper layout
// --------------------------------------------------------
.pfe-navigation__outer-menu-wrapper,
.pfe-navigation__outer-menu-wrapper__inner {
  @include breakpoint('secondary-links-expand') {
    display: flex;
    align-items: stretch;
  }
  @include breakpoint('nav-expand') {
    flex-grow: 1;
  }
  @include collapse('nav') {
    flex-grow: 0;
  }
  @include collapse('secondary-links') {
    display: block;
  }
}

// Layout changes per breakpoint
// See comment at top of file
.pfe-navigation__outer-menu-wrapper {
  height: auto;

  @include breakpoint('nav-expand') {
    height: $menu-height;
  }
  @include collapse('nav') {
    height: auto;
  }

  :host(:not([pfe-navigation-open-toggle])) .pfe-navigation--is-resizing & {
    overflow: hidden;
  }
}

.pfe-navigation__outer-menu-wrapper__inner {
  width: 100%;
}

// Menu, List, & Items
// --------------------------------------------------------
.pfe-navigation__menu-wrapper {
  display: flex;
  @include breakpoint('nav-expand') {
    margin-right: auto;
  }
  @include collapse('nav') {
    margin-right: 0;
  }
}

// Menu
.pfe-navigation__menu,
.pfe-navigation__menu ul {
  list-style: none;
  margin: 0;
  padding: 0;
}

.pfe-navigation__menu {
  width: 100%;
  transition: opacity 0.1s ease-out;
  @include breakpoint('nav-expand') {
    display: flex;
    align-items: stretch;
    width: auto;
  }
  @include collapse('nav') {
    display: block;
    width: 100%;
  }

  .pfe-navigation--is-resizing & {
    opacity: 0;
  }
}

// Menu Items
.pfe-navigation__menu-item {
  $collapsed-border-top: 1px solid #d2d2d2;
  border-top: $collapsed-border-top;
  @include breakpoint('nav-expand') {
    display: flex;
    align-items: stretch;
    padding: 0 4px;
    border: none;
  }
  @include collapse('nav') {
    display: block;
    padding: 0;
    border-top: $collapsed-border-top;
  }

  &:last-child {
    $collapsed-border-bottom: 1px solid #d2d2d2;
    border-bottom: $collapsed-border-bottom;
    @include breakpoint('nav-expand') {
      border: 0;
    }
    @include collapse('nav') {
      border-bottom: $collapsed-border-bottom;
    }
  }
}

.pfe-navigation__menu-item--open {
  $collapsed-border-shadow:
    inset 4px 0 0 0 #e00,
    0 1px 2px rgba(0, 0, 0, 0.12);
  box-shadow: $collapsed-border-shadow;
  @include breakpoint('nav-expand') {
    box-shadow: none;
  }
  @include collapse('nav') {
    box-shadow: $collapsed-border-shadow;
  }
}

// Top Level Menu Links
// Layout changes per breakpoint
// See comment at top of file
@mixin pfe-navigation__menu-link--mobile {
  width: 100%;
  max-height: 9999em;
  padding: 16px 24px;
  // added to avoid jumpiness when focus/hover styles are active
  border: 1px dashed transparent;
  font-size: 20px;
  font-weight: 500;
  color: #151515;
  background: transparent;
  white-space: normal;
  transition: box-shadow 0.2s;
}
@mixin pfe-navigation__menu-link--desktop {
  width: auto;
  max-height: 72px;
  padding: 0 8px;
  font-size: 16px;
  font-weight: 400;
  color: #fff;
  white-space: nowrap;
  transition: box-shadow 0.2s;
}
.pfe-navigation__menu-link {
  // Default styles need a specificity bump to beat generic menu <a> styles
  &[class] {
    @include pfe-navigation__menu-link--mobile;
    display: flex;
    align-items: center;
    white-space: nowrap;
    cursor: pointer;
    @include breakpoint('nav-expand') {
      @include pfe-navigation__menu-link--desktop;
    }
  }
  @include collapse('nav') {
    @include pfe-navigation__menu-link--mobile;
  }

  &:focus,
  &:hover {
    @include focus-styles(#000, 1px);

    @include breakpoint('nav-expand') {
      box-shadow: inset 0 4px 0 0 #e00;
      @include focus-styles(#fff, 0px);
    }
    @include collapse('nav') {
      box-shadow: none;
      @include focus-styles(#000, 1px);
    }
  }
}

// Top level links that have a dropdown associated with them
.pfe-navigation__menu-link--has-dropdown {
  position: relative;

  &:focus,
  &:hover {
    @include breakpoint('nav-expand') {
      @include focus-styles(#fff, 0px);
      border-top: 1px solid #e00;
      box-shadow: inset 0 3px 0 0 #e00;
    }
    @include collapse('nav') {
      box-shadow: none;
    }
  }

  .pfe-navigation__menu-item--open > & {
    @include breakpoint('nav-expand') {
      color: #151515;
      background: #fff;
      box-shadow: inset 0 3px 0 0 #e00;
    }
    @include collapse('nav') {
      box-shadow: none;
      background: transparent;
    }

    &:focus,
    &:hover {
      @include breakpoint('nav-expand') {
        @include focus-styles(#000, 0px);
      }
    }
  }
}

// Top Level menu link arrow icon (no image, made with CSS)
@mixin pfe-navigation__menu-link__before--mobile {
  position: absolute;
  top: 50%;
  left: auto;
  right: 24px;
  display: block;
  width: 11px;
  height: 11px;
  border: 4px solid #151515;
  border-bottom: 0;
  border-left: 0;
  transform: rotate(45deg);
  transform-origin: right top;
  transition: transform 0.25s;
}
@mixin pfe-navigation__menu-link__before--desktop {
  position: absolute;
  top: 100%;
  left: 50%;
  right: auto;
  width: 0;
  height: 0;
  border: 4px solid transparent;
  border-bottom: 0;
  transform: translate(-4px, -12px);
  transition: border-color 0.25s;
}
.pfe-navigation__menu-link--has-dropdown {
  &:before {
    @include pfe-navigation__menu-link__before--mobile;
    content: '';

    @include breakpoint('nav-expand') {
      @include pfe-navigation__menu-link__before--desktop;
    }
    @include collapse('nav') {
      @include pfe-navigation__menu-link__before--mobile;
    }
  }

  &:focus:before,
  &:hover:before {
    @include breakpoint('nav-expand') {
      border-top-color: #B8BBBE;
    }
    @include collapse('nav') {
      border-top-color: #151515;
    }
  }

  .pfe-navigation__menu-item--open > &[class]:before { // [class] adds specificity to beat out hover/focus selector
    transform: rotate(135deg);
    @include breakpoint('nav-expand') {
      border-top-color: #151515;
      transform: translate(-4px, -12px);
    }
    @include collapse('nav') {
      transform: rotate(135deg);
    }
  }
}


// Main menu dropdowns
// --------------------------------------------------------

// Dropdown wrapper - used for basic layout properties and animation
@mixin pfe-navigation__dropdown-wrapper--mobile {
  position: static;
  padding: 0 24px;
  background: transparent;
}
@mixin pfe-navigation__dropdown-wrapper--desktop {
  position: absolute;
  top: 100%;
  left: 0;
  padding: 0 64px;
  background: #fff;
}
.pfe-navigation__dropdown-wrapper {
  width: 100%;
  height: 0;
  overflow: hidden;
  transition: $dropdown-transition;
  will-change: height;
  @include pfe-navigation__dropdown-wrapper--mobile;
  @include breakpoint('nav-expand') {
    @include pfe-navigation__dropdown-wrapper--desktop;
  }
  @include collapse('nav') {
    @include pfe-navigation__dropdown-wrapper--mobile;
  }

  // JS Adds aria-hidden at the appropriate time before open, or after close
  // This prevents the dropdown from showing to anyone, but also lets JS get the dropdown height
  // Unlike display: none
  .pfe-navigation__menu-item--open > &[class] { // Adding specificity to beat JS Breakpoint selector
    height: auto; // Height is set in JS, this is a fallback
  }
}

.pfe-navigation__dropdown-wrapper--invisible {
  visibility: hidden;
}

.pfe-navigation__dropdown-wrapper--single-column {
  padding: 0 16px;
  @include breakpoint('nav-expand') {
    left: auto;
    width: auto;
    max-width: 100%;
    min-width: 13em; // Trying to make sure it's larger than the top level menu link
  }
  @include collapse('nav') {
    position: static;
    max-width: 100%;
  }

  // .pfe-navigation__menu-item--open > & {
  //   display: block;
  // }
}

// Dropdown contents - lays out dropdown internals
@mixin pfe-navigation__dropdown--mobile {
  display: block;
  font-size: 16px;
  padding: 12px 16px;
}
@mixin pfe-navigation__dropdown--desktop {
  display: grid;
  padding: 32px 16px;
  // Fits as many columns as it can given the constraints
  // @todo evaluate layout needs and if this is a sane default
  // grid-template-columns:
  //   repeat(
  //     auto-fill,
  //     minmax(#{200 / 16 * 1em}, #{350 / 16 * 1em})
  //   );
  // @todo: still need to test and see if this is a good setting for the flexibility needs of pfe-nav mega menu tray
  // I tested this setting with 12 sections in the mega menu tray (on Firefox and Chrome) and it worked well. (KS)
  grid-template-columns: repeat(4, 1fr); // changed to this to fix issues on 1200px brkpt, seems to look better and fit better
  gap: $gutter;
}
.pfe-navigation__dropdown {
  @include pfe-navigation__dropdown--mobile;
  margin-left: -16px;
  margin-right: -16px;
  visibility: hidden;
  transition: visibility 0s linear 0.4s;
  @include breakpoint('nav-expand') {
    @include pfe-navigation__dropdown--desktop;
  }
  @include collapse('nav') {
    @include pfe-navigation__dropdown--mobile;
  }

  .pfe-navigation__menu-item--open & {
    visibility: visible;
    transition-delay: 0s;
  }

  section {
    $mobile-margin: 0 0 18px;
    margin: $mobile-margin;
    @include breakpoint('nav-expand') {
      margin: 0;
    }
    @include collapse('nav') {
      margin: $mobile-margin;
    }
  }

  // @todo: adjust heading spacing styles to still look good when there is no link in heading
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin: 0;
    padding: 0;
    font-size: 16px;
    color: var(--pfe-theme--color--ui-complement,#464646);
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin: 0 0 0.75em;

    a {
      margin: 0 -12px; // Expand the hit area half of the dropdown horizontal padding
      padding: 0 12px;
      color: var(--pfe-theme--color--ui-complement,#464646);
      // avoid jumpiness caused by focus/hover styles
      border: 1px solid transparent;

      &:focus,
      &:hover {
        // focus styles
        @include focus-styles(#000, 1px);

        color: var(--pfe-broadcasted--link--hover,#036);
        text-decoration: underline;
      }
    }
  }

  li {
    margin: 0 0 0.75em;

    a {
      display: inline-block;
      margin: 0 -12px; // Expand the hit area half of the dropdown horizontal padding
      padding: 0 12px;
      color: var(--pfe-broadcasted--link,#06c);

      // avoid jumpiness caused by focus/hover styles
      border: 1px solid transparent;

      &:focus,
      &:hover {
        // focus styles
        @include focus-styles(#000, 1px);

        color: var(--pfe-broadcasted--link--hover,#036);
        text-decoration: underline;
      }
    }
  }
}

.pfe-navigation__dropdown--single-column {
  &[class] {
    display: block;
  }
  @include breakpoint('nav-expand') {
    padding: 16px;
    background: #fff;
    box-shadow:
      var(
        --pfe-theme--box-shadow--sm,
        0 0.0625rem 0.125rem 0 rgba(19, 19, 19, 0.2)
      );
  }
  @include collapse('nav') {
    background: transparent;
    box-shadow: none;
  }

  // group feature styles
  // @todo: verify if group headings are NEVER links
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: #6A6E73;
    font-weight: 500;
    font-size: 14px;
  }
}

// single column dropdown group and separator style options
// separator class
.pfe-navigation__dropdown--single-column ul + ul,
.pfe-navigation__sub-nav-link--separator[class] {
  border-top: 1px solid #D2D2D2;
  // -16px to overwrite the padding added to the .pfe-navigation__dropdown--single-column container div
  margin-left: -16px;
  margin-right: -16px;
  margin-top: 16px;
  padding-left: 16px;
  padding-right: 16px;
  padding-top: 16px;
}

// footer styles for mega menu trays
.pfe-navigation__footer {
  $collapsed-margin: 16px 0 0;
  $collapsed-padding: 26px 0 16px;
  grid-column: 1 / -1; // col spans to the end of col grid line always

  // display: grid;
  grid-gap: 32px; // @todo: change to 2em for consitency, check design and see if 2em spacing matches well enough
  // grid-auto-flow: row;

  // change to display: flex bc it makes content fit better with 4 ctas
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: flex-start;

  border-top: 1px solid #d3d3d3;

  // @todo: figure out what mobile and desktop margin/padding should be from design and redhat.com ex
  margin: $collapsed-margin;
  padding: $collapsed-padding;
  border-top: 1px solid #d3d3d3;

  @include breakpoint('nav-expand') {
    display: block;
    margin: calc(var(--pfe-theme--container-padding,16px) * 2) 0 calc(var(--pfe-theme--container-padding,16px) * 1.5);
    padding: calc(var(--pfe-theme--container-padding,16px) * 2.5) 0 0;
  }
  @include collapse('nav') {
    margin: $collapsed-margin;
    padding: $collapsed-padding;
  }

  a,
  pfe-cta {
    margin: 0 0 1em;

    + a,
    + pfe-cta {
      @include breakpoint('nav-expand') {
        margin-left: 1em;
      }
      @include collapse('nav') {
        margin-left: 0;
      }
    }
  }

  pfe-cta a {
    display: inline-block; // Display block was causing display issues
    margin: 0;
  }
}

// Search
// --------------------------------------------------------
.pfe-navigation__search-toggle {
  display: none;

  :host(.pfe-navigation--has-search) & {
    @include breakpoint('secondary-links-expand') {
      display: flex;
    }
  }
  @include collapse('secondary-links') {
    display: none;
  }

  [pfe-navigation-open-toggle='secondary-links__button--search'] & {
    color: #151515;
    background: #fff;
    box-shadow: inset 0 4px 0 0 #e00;

    &:focus,
    &:hover {
      @include focus-styles(#000, 0px);
    }
  }
}

@mixin pfe-navigation__search--mobile {
  position: static;
  display: block;
  width: 100%;
  margin-bottom: 24px;
  background: transparent;
}
@mixin pfe-navigation__search--collapsed-menu {
  position: absolute;
  top: 100%;
  left: 0;
  display: none;
  margin-bottom: 0;
  padding: 16px;
  background: #fff;
}
.pfe-navigation__search {
  @include pfe-navigation__search--mobile;
  color: #151515;
  @include breakpoint('secondary-links-expand') {
    @include pfe-navigation__search--collapsed-menu;
  }
  @include collapse('secondary-links') {
    @include pfe-navigation__search--mobile;
  }

  [pfe-navigation-open-toggle='secondary-links__button--search'][class] & { // Extra specificity to beat js breakpoints
    display: block;
  }

  // JS Adds aria-hidden at the appropriate time before open, or after close
  // This prevents the dropdown from showing to anyone, but also lets JS get the dropdown height
  // Unlike display: none
  &[aria-hidden='true'] {
    visibility: hidden;
  }
}

// Custom Links
// --------------------------------------------------------
.pfe-navigation__custom-links {
  @include breakpoint('secondary-links-expand') {
    display: flex;
    align-items: stretch;
  }
  @include collapse('secondary-links') {
    display: block;
  }

  &,
  a,
  button {
    color: #151515;

    // focus styles
    &:focus,
    &:hover {
      @include focus-styles(#fff, 0px);
    }

    @include breakpoint('secondary-links-expand') {
      color: red;
      // focus styles
      &:focus,
      &:hover {
        @include focus-styles(#fff, 0px);
      }
    }
    @include collapse('secondary-links') {
      color: #151515;
    }
  }
}

// All Red Hat Button & Dropdown
// --------------------------------------------------------
.pfe-navigation__all-red-hat-toggle {
  [pfe-navigation-open-toggle='secondary-links__button--all-red-hat'] & {
    color: #151515;
    background: #fff;
    box-shadow: inset 0 4px 0 0 #e00;

    //focus styles
    &:focus,
    &:hover {
      @include focus-styles(#000, 0px);
    }
  }
}

.pfe-navigation__all-red-hat-wrapper {
  // JS Adds aria-hidden at the appropriate time before open, or after close
  // This prevents the dropdown from showing to anyone, but also lets JS get the dropdown height
  // Unlike display: none
  &[aria-hidden='true'] {
    visibility: hidden;
  }
}

.pfe-navigation__all-red-hat-wrapper__inner {
  display: none;
  width: 100%;

  @include breakpoint('secondary-links-expand') {
    position: absolute;
    top: 100%;
    left: 0;
    padding: 16px;
    color: #151515;
    background: #fff;
  }
  @include collapse('secondary-links') {
    position: static;
    padding: 0;
    color: #fff;
    background: transparent;
  }

  [pfe-navigation-open-toggle='secondary-links__button--all-red-hat'] & {
    @include breakpoint('secondary-links-expand') {
      display: block;
    }
  }
}

//-- Custom styles applied by attributes
// @each $option in () {
//   :host([pfe-state="#{$option}"]) {
//     // Add styles here
//   }
// }

//-- Custom styles applied to slot
// ::slotted([slot="pfe-navigation--search"]) {
  // Add styles here
// }

// ::slotted([slot="pfe-navigation--custom-links"]) {
  // Add styles here
// }

//-- Custom styles applied to slot's shadow element
// .pfe-navigation {
//   &__search {
    // Add styles here
//   }
//   &__custom-links {
    // Add styles here
//   }
// }


// Secondary Links
// --------------------------------------------------------

//@todo: figure out if this is the best way to style the icon color states or if updates to JS need to be made to put a class or attribute on a button when it is open to target with css
.pfe-navigation__secondary-links-wrapper {
  display: flex;
  // @note Flex direction is used by pfeNavigation.isSecondaryLinksSectionCollapsed() to determine layout state
  flex-direction: column;
  margin: 0;
  padding: 0;
  list-style: none;
  transition: opacity 0.1s ease-out;
  @include breakpoint('secondary-links-expand') {
    flex-direction: row;
  }
  @include collapse('secondary-links') {
    flex-direction: column;
  }
  > li {
    margin: 0;
    padding: 0;
    @include breakpoint('secondary-links-expand') {
      margin-right: 8px;
    }
    @include collapse('secondary-links') {
      margin-right: 0;
    }

    > a {
      @include top-level-button;
    }
  }

  .pfe-navigation--is-resizing & {
    opacity: 0;
  }
}

.pfe-navigation__all-red-hat-toggle pfe-icon {
  --pfe-icon--Color: #0066CC;
  --pfe-icon--size: 18px;
  // @todo: figure out best spacing styles for this icon
  padding-right: 5px;
  padding-bottom: 0px;
  @include breakpoint('secondary-links-expand') {
    --pfe-icon--Color: #fff;
    padding-right: 0px;
    padding-bottom: 5px;
  }
}

.pfe-navigation__menu-toggle pfe-icon {
  [pfe-navigation-open-toggle='mobile__button'] &,
  [pfe-navigation-open-toggle^='main-menu__'] & {
    --pfe-icon--Color: #151515;
  }

  [pfe-navigation-open-toggle='secondary-links__button--search'] & {
    --pfe-icon--Color: #151515;
    @include breakpoint('secondary-links-expand') {
      --pfe-icon--Color: #fff;
    }
    @include collapse('secondary-links') {
      --pfe-icon--Color: #151515;
    }
  }
}

[pfe-navigation-open-toggle='secondary-links__button--search'] .pfe-navigation__search-toggle pfe-icon {
  --pfe-icon--Color: #151515;
}

[pfe-navigation-open-toggle='secondary-links__button--all-red-hat'][pfe-navigation-open-toggle='secondary-links__button--all-red-hat'] .pfe-navigation__all-red-hat-toggle pfe-icon {
  --pfe-icon--Color: #0066CC;
  @include breakpoint('secondary-links-expand') {
    --pfe-icon--Color: #151515;
  }
}

// @todo: login JS and demo example needs to be added
[pfe-navigation-open-toggle^='log-in--open'] .pfe-navigation__all-red-hat-toggle pfe-icon {
  --pfe-icon--Color: #151515;
}

// mobile menu icon styles - make the plus sign an X
// @todo: Wes to implement mobile menu button icons with CSS
.pfe-navigation__menu-toggle pfe-icon[icon='web-icon-plus'] {
  transform: rotate(-45deg);
}


// Should stay at the end of the file
@import "pfe-navigation--grid";
