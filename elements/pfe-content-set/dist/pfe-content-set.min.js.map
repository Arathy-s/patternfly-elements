{"version":3,"file":"pfe-content-set.min.js","sources":["../_temp/pfe-content-set.js"],"sourcesContent":["/*!\n * PatternFly Elements: PfeContentSet 1.0.0-prerelease.46\n * @license\n * Copyright 2020 Red Hat, Inc.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n*/\n\nimport PFElement from \"../../pfelement/dist/pfelement.js\";\nimport PfeAccordion from \"../../pfe-accordion/dist/pfe-accordion.js\";\nimport PfeTabs from \"../../pfe-tabs/dist/pfe-tabs.js\";\n\nclass PfeContentSet extends PFElement {\n  static get version() {\n    return \"1.0.0-prerelease.46\";\n  }\n\n  get html() {\n    return `<style>:host{display:block}:host([hidden]){display:none}\n/*# sourceMappingURL=pfe-content-set.min.css.map */\n</style><slot></slot>`;\n  }\n\n  static get properties() {\n    return {\"vertical\":{\"title\":\"Vertical orientation\",\"type\":\"boolean\",\"default\":false,\"prefixed\":false},\"variant\":{\"title\":\"Variant\",\"type\":\"string\",\"enum\":[\"wind\",\"earth\"],\"default\":\"wind\",\"prefixed\":true},\"align\":{\"title\":\"Align\",\"type\":\"string\",\"enum\":[\"center\"],\"prefixed\":true},\"on\":{\"title\":\"Context\",\"type\":\"string\",\"enum\":[\"light\",\"dark\"],\"default\":\"light\",\"prefixed\":false},\"breakpoint\":{\"title\":\"Custom breakpoint\",\"type\":\"string\",\"prefixed\":true},\"tab-history\":{\"title\":\"Tab history\",\"type\":\"boolean\",\"default\":false,\"prefixed\":true}};\n  }\n\n  static get slots() {\n    return {\"default\":{\"title\":\"Default\",\"type\":\"array\",\"namedSlot\":false,\"items\":{\"oneOf\":[{\"$ref\":\"raw\"}]}}};\n  }\n  static get tag() {\n    return \"pfe-content-set\";\n  }\n\n  get templateUrl() {\n    return \"pfe-content-set.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-content-set.scss\";\n  }\n\n  get schemaUrl() {\n    return \"pfe-content-set.json\";\n  }\n\n  static get pfeType() {\n    return PFElement.pfeType.combo;\n  }\n\n  static get cascadingAttributes() {\n    return {\n      \"pfe-tab-history\": \"pfe-tabs\"\n    };\n  }\n\n  static get observedAttributes() {\n    return [\"pfe-tab-history\"];\n  }\n\n  get isTab() {\n    var breakpointValue;\n    if (this.hasAttribute(\"pfe-breakpoint\")) {\n      breakpointValue = this.getAttributeNode(\"pfe-breakpoint\").value;\n      breakpointValue = breakpointValue.replace(/\\D/g, \"\");\n    } else {\n      breakpointValue = 700;\n    }\n    return this.parentNode\n      ? this.parentNode.offsetWidth > breakpointValue\n      : window.outerWidth > breakpointValue;\n  }\n\n  constructor() {\n    super(PfeContentSet, { delayRender: true });\n\n    this._init = this._init.bind(this);\n    this._observer = new MutationObserver(this._init);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    if (this.children.length) {\n      this._init();\n    }\n\n    this._observer.observe(this, { childList: true });\n  }\n\n  disconnectedCallback() {\n    this._observer.disconnect();\n  }\n\n  _init() {\n    if (window.ShadyCSS) {\n      this._observer.disconnect();\n    }\n\n    if (this.isTab) {\n      this._buildTabs();\n    } else {\n      this._buildAccordion();\n    }\n\n    this.render();\n    this.context_update();\n\n    if (window.ShadyCSS) {\n      setTimeout(() => {\n        this._observer.observe(this, { childList: true });\n      }, 0);\n    }\n  }\n\n  _buildAccordion() {\n    const existingAccordion = this.querySelector(\"pfe-accordion\");\n    // Use a document fragment for efficiency\n    const fragment = document.createDocumentFragment();\n    // Use the existing accordion or create the accordion wrapper component\n    const accordion =\n      existingAccordion || document.createElement(\"pfe-accordion\");\n\n    // Iterate over each element in the light DOM\n    [...this.children].forEach(child => {\n      // If one of them has the attribute indicating they belong in the header region\n      if (child.hasAttribute(\"pfe-content-set--header\")) {\n        const header = document.createElement(\"pfe-accordion-header\");\n\n        header.appendChild(child);\n        accordion.appendChild(header);\n      }\n\n      if (child.hasAttribute(\"pfe-content-set--panel\")) {\n        const panel = document.createElement(\"pfe-accordion-panel\");\n\n        panel.appendChild(child);\n        accordion.appendChild(panel);\n      }\n    });\n\n    if (!existingAccordion) {\n      fragment.appendChild(accordion);\n    }\n\n    if (!existingAccordion) {\n      this.appendChild(fragment);\n    }\n  }\n\n  _buildTabs() {\n    const existingTabs = this.querySelector(\"pfe-tabs\");\n    // Use a document fragment for efficiency\n    const fragment = document.createDocumentFragment();\n    // Use the existing tabs or create the tabs wrapper component\n    const tabs = existingTabs || document.createElement(\"pfe-tabs\");\n\n    // Iterate over each element in the light DOM\n    [...this.children].forEach(child => {\n      // If one of them has the attribute indicating they belong in the panel region\n      if (child.hasAttribute(\"pfe-content-set--header\")) {\n        const header = document.createElement(\"pfe-tab\");\n\n        header.setAttribute(\"slot\", \"tab\");\n\n        if (child.id) {\n          header.setAttribute(\"pfe-id\", child.id);\n        }\n\n        header.appendChild(child);\n        tabs.appendChild(header);\n      }\n\n      if (child.hasAttribute(\"pfe-content-set--panel\")) {\n        const panel = document.createElement(\"pfe-tab-panel\");\n\n        panel.setAttribute(\"slot\", \"panel\");\n\n        if (child.id) {\n          panel.setAttribute(\"pfe-id\", child.id);\n        }\n\n        panel.appendChild(child);\n        tabs.appendChild(panel);\n      }\n    });\n\n    if (!existingTabs) {\n      fragment.appendChild(tabs);\n    }\n\n    // If the orientation is set to vertical, add that attribute to the tabs\n    if (this.vertical.value !== null && this.vertical.value !== false) {\n      tabs.setAttribute(\"vertical\", true);\n    }\n\n    // Pass the variant attribute down to the tabs component\n    if (this.variant.value !== this.variant.default) {\n      tabs.setAttribute(\"pfe-variant\", this.variant.value);\n    }\n\n    if (this.align.value) {\n      tabs.setAttribute(\"pfe-tab-align\", this.align.value);\n    }\n\n    if (this.id) {\n      tabs.setAttribute(\"pfe-id\", this.id);\n    }\n\n    if (this.hasAttribute(\"pfe-tab-history\")) {\n      tabs.setAttribute(\"pfe-tab-history\", true);\n    }\n\n    if (!existingTabs) {\n      this.appendChild(fragment);\n    }\n  }\n}\n\nPFElement.create(PfeContentSet);\n\nexport default PfeContentSet;\n"],"names":["PfeContentSet","PFElement","version","html","properties","vertical","title","type","default","prefixed","variant","enum","align","on","breakpoint","tab-history","slots","namedSlot","items","oneOf","$ref","tag","templateUrl","styleUrl","schemaUrl","pfeType","combo","cascadingAttributes","pfe-tab-history","observedAttributes","isTab","breakpointValue","this","hasAttribute","getAttributeNode","value","replace","parentNode","offsetWidth","window","outerWidth","[object Object]","super","delayRender","_init","bind","_observer","MutationObserver","connectedCallback","children","length","observe","childList","disconnect","ShadyCSS","_buildTabs","_buildAccordion","render","context_update","setTimeout","existingAccordion","querySelector","fragment","document","createDocumentFragment","accordion","createElement","forEach","child","header","appendChild","panel","existingTabs","tabs","setAttribute","id","create"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;EA6BA,MAAMA,UAAsBC,EAC1BC,qBACE,MAAO,sBAGTC,WACE,MAAO,uIAKTC,wBACE,MAAO,CAACC,SAAW,CAACC,MAAQ,uBAAuBC,KAAO,UAAUC,SAAU,EAAMC,UAAW,GAAOC,QAAU,CAACJ,MAAQ,UAAUC,KAAO,SAASI,KAAO,CAAC,OAAO,SAASH,QAAU,OAAOC,UAAW,GAAMG,MAAQ,CAACN,MAAQ,QAAQC,KAAO,SAASI,KAAO,CAAC,UAAUF,UAAW,GAAMI,GAAK,CAACP,MAAQ,UAAUC,KAAO,SAASI,KAAO,CAAC,QAAQ,QAAQH,QAAU,QAAQC,UAAW,GAAOK,WAAa,CAACR,MAAQ,oBAAoBC,KAAO,SAASE,UAAW,GAAMM,cAAc,CAACT,MAAQ,cAAcC,KAAO,UAAUC,SAAU,EAAMC,UAAW,IAG3hBO,mBACE,MAAO,CAACR,QAAU,CAACF,MAAQ,UAAUC,KAAO,QAAQU,WAAY,EAAMC,MAAQ,CAACC,MAAQ,CAAC,CAACC,KAAO,WAElGC,iBACE,MAAO,kBAGTC,kBACE,MAAO,uBAGTC,eACE,MAAO,uBAGTC,gBACE,MAAO,uBAGTC,qBACE,OAAOxB,EAAUwB,QAAQC,MAG3BC,iCACE,MAAO,CACLC,kBAAmB,YAIvBC,gCACE,MAAO,CAAC,mBAGVC,YACE,IAAIC,EAOJ,OAJEA,EAFEC,KAAKC,aAAa,mBACpBF,EAAkBC,KAAKE,iBAAiB,kBAAkBC,OACxBC,QAAQ,MAAO,IAE/B,IAEbJ,KAAKK,WACRL,KAAKK,WAAWC,YAAcP,EAC9BQ,OAAOC,WAAaT,EAG1BU,cACEC,MAAM1C,EAAe,CAAE2C,aAAa,IAEpCX,KAAKY,MAAQZ,KAAKY,MAAMC,KAAKb,MAC7BA,KAAKc,UAAY,IAAIC,iBAAiBf,KAAKY,OAG7CH,oBACEC,MAAMM,oBAEFhB,KAAKiB,SAASC,QAChBlB,KAAKY,QAGPZ,KAAKc,UAAUK,QAAQnB,KAAM,CAAEoB,WAAW,IAG5CX,uBACET,KAAKc,UAAUO,aAGjBZ,QACMF,OAAOe,UACTtB,KAAKc,UAAUO,aAGbrB,KAAKF,MACPE,KAAKuB,aAELvB,KAAKwB,kBAGPxB,KAAKyB,SACLzB,KAAK0B,iBAEDnB,OAAOe,UACTK,WAAW,KACT3B,KAAKc,UAAUK,QAAQnB,KAAM,CAAEoB,WAAW,KACzC,GAIPX,kBACE,MAAMmB,EAAoB5B,KAAK6B,cAAc,iBAEvCC,EAAWC,SAASC,yBAEpBC,EACJL,GAAqBG,SAASG,cAAc,iBAG9C,IAAIlC,KAAKiB,UAAUkB,QAAQC,IAEzB,GAAIA,EAAMnC,aAAa,2BAA4B,CACjD,MAAMoC,EAASN,SAASG,cAAc,wBAEtCG,EAAOC,YAAYF,GACnBH,EAAUK,YAAYD,GAGxB,GAAID,EAAMnC,aAAa,0BAA2B,CAChD,MAAMsC,EAAQR,SAASG,cAAc,uBAErCK,EAAMD,YAAYF,GAClBH,EAAUK,YAAYC,MAIrBX,GACHE,EAASQ,YAAYL,GAGlBL,GACH5B,KAAKsC,YAAYR,GAIrBrB,aACE,MAAM+B,EAAexC,KAAK6B,cAAc,YAElCC,EAAWC,SAASC,yBAEpBS,EAAOD,GAAgBT,SAASG,cAAc,YAGpD,IAAIlC,KAAKiB,UAAUkB,QAAQC,IAEzB,GAAIA,EAAMnC,aAAa,2BAA4B,CACjD,MAAMoC,EAASN,SAASG,cAAc,WAEtCG,EAAOK,aAAa,OAAQ,OAExBN,EAAMO,IACRN,EAAOK,aAAa,SAAUN,EAAMO,IAGtCN,EAAOC,YAAYF,GACnBK,EAAKH,YAAYD,GAGnB,GAAID,EAAMnC,aAAa,0BAA2B,CAChD,MAAMsC,EAAQR,SAASG,cAAc,iBAErCK,EAAMG,aAAa,OAAQ,SAEvBN,EAAMO,IACRJ,EAAMG,aAAa,SAAUN,EAAMO,IAGrCJ,EAAMD,YAAYF,GAClBK,EAAKH,YAAYC,MAIhBC,GACHV,EAASQ,YAAYG,GAIK,OAAxBzC,KAAK3B,SAAS8B,QAA0C,IAAxBH,KAAK3B,SAAS8B,OAChDsC,EAAKC,aAAa,YAAY,GAI5B1C,KAAKtB,QAAQyB,QAAUH,KAAKtB,QAAQF,SACtCiE,EAAKC,aAAa,cAAe1C,KAAKtB,QAAQyB,OAG5CH,KAAKpB,MAAMuB,OACbsC,EAAKC,aAAa,gBAAiB1C,KAAKpB,MAAMuB,OAG5CH,KAAK2C,IACPF,EAAKC,aAAa,SAAU1C,KAAK2C,IAG/B3C,KAAKC,aAAa,oBACpBwC,EAAKC,aAAa,mBAAmB,GAGlCF,GACHxC,KAAKsC,YAAYR,IAKvB7D,EAAU2E,OAAO5E"}