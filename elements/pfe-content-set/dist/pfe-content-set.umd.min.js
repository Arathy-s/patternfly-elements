!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("../../pfelement/dist/pfelement.umd.min"),require("../../pfe-accordion/dist/pfe-accordion.umd.min"),require("../../pfe-tabs/dist/pfe-tabs.umd.min")):"function"==typeof define&&define.amd?define(["../../pfelement/dist/pfelement.umd.min","../../pfe-accordion/dist/pfe-accordion.umd.min","../../pfe-tabs/dist/pfe-tabs.umd.min"],t):(e=e||self).PfeContentSet=t(e.PFElement,e.PfeAccordion,e.PfeTabs)}(this,function(e,a,o){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var i=0;i<this.length;i++)e.call(t,this[i],i,this)}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])}return i},writable:!0,configurable:!0});var t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i=function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e};function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0!==n){if("value"in n)return n.value;n=n.get;return void 0!==n?n.call(i):void 0}if(e=Object.getPrototypeOf(e),null!==e)return r(e,t,i)}function s(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},d={characterData:!0,childList:!0,subtree:!0},i=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,e),i(c,[{key:"html",get:function(){return'\n<style>:host{display:block}::slotted(:not(pfe-accordion,pfe-tabs)),::slotted([hidden]),:host([hidden]),[hidden]{display:none!important}:host([align=center]),:host([align=right]){text-align:left} /*# sourceMappingURL=pfe-content-set.min.css.map */</style>\n<div hidden><slot id="lightdom"></slot></div>\n<slot name="_view" private></slot>'}},{key:"templateUrl",get:function(){return"pfe-content-set.html"}},{key:"styleUrl",get:function(){return"pfe-content-set.scss"}},{key:"breakpointValue",get:function(){return parseInt(this.breakpoint.replace(/\D/g,""))}},{key:"isTab",get:function(){return this.parentNode?this.parentNode.offsetWidth>this.breakpointValue:window.outerWidth>this.breakpointValue}},{key:"viewAll",get:function(){return this.querySelectorAll('[slot="_view"]')}},{key:"view",get:function(){var e=[].concat(s(this.viewAll)).filter(function(e){return[o.tag,a.tag].includes(e.tag)});return e.length<=0?null:e[0]}},{key:"expectedTag",get:function(){return(this.isTab?o:a).tag}},{key:"tabs",get:function(){return this.querySelector('pfe-tabs[slot="_view"]')}},{key:"accordion",get:function(){return this.querySelector('pfe-accordion[slot="_view"]')}},{key:"hasValidLightDOM",get:function(){var t=this;if(this.hasLightDOM()){var i=!1;return[].concat(s(this.children)).forEach(function(e){"#text"!==e.nodeName&&(t._isHeader(e)||t._isPanel(e)||e.tagName&&e.tagName.toLowerCase()===t.expectedTag)&&(i=!0)}),i}return!1}}],[{key:"version",get:function(){return"1.3.2"}},{key:"tag",get:function(){return"pfe-content-set"}},{key:"meta",get:function(){return{title:"Content set",description:"This element creates a flexible component that renders an accordion or tabset depending on screen size."}}},{key:"pfeType",get:function(){return e.pfeType.combo}},{key:"properties",get:function(){return{vertical:{title:"Vertical orientation",type:Boolean,default:!1,cascade:"pfe-tabs"},selectedIndex:{title:"Index of the selected tab",type:Number,cascade:"pfe-tabs"},tabAlign:{title:"Tab alignment",type:String,enum:["center"],cascade:"pfe-tabs"},variant:{title:"Variant",type:String,enum:["wind","earth"],default:"wind",cascade:"pfe-tabs"},oldVariant:{type:String,attr:"pfe-variant",alias:"variant"},oldTabHistory:{type:Boolean,alias:"tabHistory",attr:"pfe-tab-history"},tabHistory:{title:"Tab History",type:Boolean,default:!1,cascade:"pfe-tabs"},disclosure:{title:"Disclosure",type:String,values:["true","false"],cascade:"pfe-accordion"},oldDisclosure:{type:String,alias:"disclosure",attr:"pfe-disclosure"},breakpoint:{title:"Custom breakpoint",type:String,default:"700",observer:"_updateBreakpoint"},oldBreakpoint:{type:String,alias:"breakpoint",attr:"pfe-breakpoint"},align:{type:String,enum:["center"],observer:"_alignmentHandler"},oldAlign:{attr:"pfe-align",alias:"align"},pfeId:{type:String,attr:"pfe-id",observer:"_copyToId"}}}},{key:"slots",get:function(){return{default:{title:"Default",type:"array",namedSlot:!1,items:{$ref:"raw"}}}}}]),i(c,[{key:"connectedCallback",value:function(){r(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"connectedCallback",this).call(this),this.id&&(this.id=this.id.replace(/-container$/,"")+"-container"),this.hasValidLightDOM?(this._build(),this.isIE11||this.render(),!this.isIE11&&window.ResizeObserver&&this.parentElement&&this._resizeObserver.observe(this.parentElement)):this.isIE11||this._observer.observe(this,d)}},{key:"disconnectedCallback",value:function(){r(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"disconnectedCallback",this).call(this),this._observer.disconnect(),window.ResizeObserver&&this._resizeObserver.disconnect()}},{key:"build",value:function(){return this._build()}},{key:"_mutationHandler",value:function(e){if(this.isIE11||!e)this._build();else{var t=!0,i=!1,n=void 0;try{for(var r,a=e[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var o,s=r.value;switch(s.type){case"childList":!s.addedNodes||0<(o=this._cleanSet(s.addedNodes)).length&&this._build(o),!s.removedNodes||0<(o=this._cleanSet(s.removedNodes)).length&&this._removeNodes(o);break;case"characterData":s.target&&s.target.parentNode&&this._updateNode(s.target.parentNode,s.target.textContent)}}}catch(e){i=!0,n=e}finally{try{!t&&a.return&&a.return()}finally{if(i)throw n}}}}},{key:"_isHeader",value:function(e){return!(!e.hasAttribute(this.tag+"--header")&&!e.tagName.match(/H[1-6]/))}},{key:"_isPanel",value:function(e){return!!e.hasAttribute(this.tag+"--panel")}},{key:"_removeNodes",value:function(e){var t=this;e.forEach(function(e){return t._removeNode(e)}),this.view&&(this.view.hasChildNodes()?this.view.removeAttribute("hidden"):this.view.setAttribute("hidden",""))}},{key:"_findConnection",value:function(e){var t=null;if(!this.view)return t;if("#text"!==e.nodeName&&e.hasAttribute("maps-to")){e=e.getAttribute("maps-to");if(!e)return t;(t=this.view.querySelector("#"+e))||this.warn("no element could be found with #"+e)}return t}},{key:"_removeNode",value:function(e){this.view&&((e=_findConnection(e))?this.view.removeChild(e):this._build())}},{key:"_updateNode",value:function(e,t){this.view&&((e=_findConnection(e))?e.textContent=t:this._build())}},{key:"_cleanSet",value:function(e){var t=this;return[].concat(s(e)).filter(function(e){return e!==t.view})}},{key:"_build",value:function(e){var t=this,i=this.view;i&&i.tag===this.expectedTag||(i=this._buildWrapper()),this._observer.disconnect();var n=("pfe-tabs"===i.tag?o:a).contentTemplate;i.id||(i.id=this.id||this.pfeId||this.randomId);var r=e?e:null;!r&&[].concat(s(this.children)).length&&(r=this.children),!e&&r&&(i.innerHTML=""),!r||(n=this._buildSets(r,n))&&i.appendChild(n),this._rendered?this.cascadeProperties(this.viewAll):this.render(),Promise.all([customElements.whenDefined(o.tag)]).then(function(){t.isTab&&t.selectedIndex&&(i.selectedIndex=t.selectedIndex),t.isIE11||t._observer.observe(t,d)})}},{key:"_buildWrapper",value:function(){if(this.view&&this.view.tag===this.expectedTag)return this.view;this.view&&this.viewAll.forEach(function(e){return e.remove()});var e=document.createElement(this.expectedTag);return e.setAttribute("slot","_view"),this.id&&(e.id=this.id.replace(/-container$/,"")),this.appendChild(e),e}},{key:"_buildSets",value:function(r,o){var s=this;r=this._cleanSet(r);for(var l=document.createDocumentFragment(),e=0;e<r.length;e+=2)!function(e){var t=r[e],i=r[e+1],n=document.createElement("template");n.innerHTML=o.trim();var a=n.content.cloneNode(!0);t||s.warn("no element found at position "+e+" of the light DOM input."),i||s.warn("no element found at position "+(e+1)+" of the light DOM input."),t&&s._isHeader(t)&&i&&s._isPanel(i)&&[t,i].forEach(function(e,t){var i=0===t?"header":"panel",n=a.querySelector('[content-type="'+i+'"]').cloneNode(!0),r=e.id,t=(r=e.hasAttribute("upgraded")&&r?r.replace(new RegExp("--"+i+"$"),""):r)||e.getAttribute("pfe-id")||e.getAttribute("maps-to")||s.randomId;e.id&&(e.id=r+"--"+i),e.setAttribute("upgraded","");r=e.cloneNode(!0);r.removeAttribute(s.tag+"--"+i),n.appendChild(r),e.setAttribute("maps-to",t),n.id=t,l.appendChild(n)})}(e);return l}},{key:"_cleanSet",value:function(e){var t=this;return[].concat(s(e)).filter(function(e){return e!==t.view})}},{key:"_copyToId",value:function(){this.id||(this.id=this.pfeId)}},{key:"_alignmentHandler",value:function(e,t){e!==t&&(this.tabAlign=t)}},{key:"_resizeHandler",value:function(){(!this.view||this.view&&this.view.tag!==this.expectedTag)&&this._build()}},{key:"_updateBreakpoint",value:function(){(!this.view||this.view&&this.view.tag!==this.expectedTag)&&this._build()}}]),c);function c(){t(this,c);var e=l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,c,{type:c.PfeType,delayRender:!0}));return e.isIE11=/MSIE|Trident|Edge\//.test(window.navigator.userAgent),e.build=e.build.bind(e),e._mutationHandler=e._mutationHandler.bind(e),e._resizeHandler=e._resizeHandler.bind(e),e._cleanSet=e._cleanSet.bind(e),e._build=e._build.bind(e),e._buildWrapper=e._buildWrapper.bind(e),e._buildSets=e._buildSets.bind(e),e._observer=new MutationObserver(e._mutationHandler),window.ResizeObserver&&(e._resizeObserver=new ResizeObserver(e._resizeHandler)),e.isIE11&&e.render(),e}return e.create(i),i});
//# sourceMappingURL=pfe-content-set.umd.min.js.map
