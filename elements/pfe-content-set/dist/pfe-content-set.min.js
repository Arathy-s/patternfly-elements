import e from"../../pfelement/dist/pfelement.min.js";import t from"../../pfe-accordion/dist/pfe-accordion.min.js";import i from"../../pfe-tabs/dist/pfe-tabs.min.js";window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var i=0;i<this.length;i++)e.call(t,this[i],i,this)}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),n=1;n<arguments.length;n++){var s=arguments[n];if(null!=s)for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(i[r]=s[r])}return i},writable:!0,configurable:!0})
/*!
 * PatternFly Elements: PfeContentSet 1.8.0
 * @license
 * Copyright 2021 Red Hat, Inc.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
*/;const n={characterData:!1,childList:!0,subtree:!1};class s extends e{static get version(){return"1.8.0"}get html(){return'\n<style>:host{display:block}::slotted([hidden]),:host([hidden]),[hidden]{display:none!important}:host([align=center]),:host([align=right]){text-align:left} /*# sourceMappingURL=pfe-content-set.min.css.map */</style>\n<div id="container"></div>'}static get tag(){return"pfe-content-set"}get styleUrl(){return"pfe-content-set.scss"}get templateUrl(){return"pfe-content-set.html"}static get meta(){return{title:"Content set",description:"This element creates a flexible component that renders an accordion or tabset depending on screen size."}}static get pfeType(){return e.pfeType.combo}static get properties(){return{vertical:{title:"Vertical orientation",type:Boolean,default:!1,cascade:"pfe-tabs"},selectedIndex:{title:"Index of the selected tab",type:Number,cascade:"pfe-tabs"},tabAlign:{title:"Tab alignment",type:String,enum:["center"],cascade:"pfe-tabs"},variant:{title:"Variant",type:String,enum:["wind","earth"],default:"wind",cascade:"pfe-tabs"},oldVariant:{type:String,attr:"pfe-variant",alias:"variant"},oldTabHistory:{type:Boolean,alias:"tabHistory",attr:"pfe-tab-history"},tabHistory:{title:"Tab History",type:Boolean,default:!1,cascade:"pfe-tabs"},disclosure:{title:"Disclosure",type:String,values:["true","false"],cascade:"pfe-accordion"},oldDisclosure:{type:String,alias:"disclosure",attr:"pfe-disclosure"},breakpoint:{title:"Custom breakpoint",type:String,default:"700",observer:"_updateBreakpoint"},oldBreakpoint:{type:String,alias:"breakpoint",attr:"pfe-breakpoint"},align:{type:String,enum:["center"],observer:"_alignmentHandler"},oldAlign:{attr:"pfe-align",alias:"align"},pfeId:{type:String,attr:"pfe-id",observer:"_copyToId"}}}static get slots(){return{default:{title:"Default",type:"array",namedSlot:!1,items:{$ref:"raw"}}}}get breakpointValue(){return parseInt(this.breakpoint.replace(/\D/g,""))}get isTab(){return this.parentNode?this.parentNode.offsetWidth>this.breakpointValue:window.outerWidth>this.breakpointValue}get viewAll(){return this.view}get view(){if(this._rendered)return this.shadowRoot.querySelector("#container > "+this.expectedTag)}get expectedTag(){return this.isTab?i.tag:t.tag}get tabs(){return this.querySelector('pfe-tabs[slot="_view"]')}get accordion(){return this.querySelector('pfe-accordion[slot="_view"]')}get hasValidLightDOM(){if(this.hasLightDOM()){let e=!1;return[...this.children].forEach(t=>{"#text"!==t.nodeName&&(this._isHeader(t)||this._isPanel(t)||t.tagName&&t.tagName.toLowerCase()===this.expectedTag)&&(e=!0)}),e}return!1}constructor(){super(s,{type:s.PfeType}),this.build=this.build.bind(this),this._mutationHandler=this._mutationHandler.bind(this),this._alignmentHandler=this._alignmentHandler.bind(this),this._resizeHandler=this._resizeHandler.bind(this),this._build=this._build.bind(this),this._buildWrapper=this._buildWrapper.bind(this),this._buildSets=this._buildSets.bind(this),this._isHeader=this._isHeader.bind(this),this._isPanel=this._isPanel.bind(this),this._addNodes=this._addNodes.bind(this),this._removeNodes=this._removeNodes.bind(this),this._findConnection=this._findConnection.bind(this),this._addNode=this._addNode.bind(this),this._removeNode=this._removeNode.bind(this),this._updateNode=this._updateNode.bind(this),this._copyToId=this._copyToId.bind(this),this._updateBreakpoint=this._updateBreakpoint.bind(this),this._observer=new MutationObserver(this._mutationHandler),window.ResizeObserver&&(this._resizeObserver=new ResizeObserver(this._resizeHandler))}connectedCallback(){super.connectedCallback(),this.hasValidLightDOM?(this._build(),!this.isIE11&&window.ResizeObserver&&this.parentElement&&this._resizeObserver.observe(this.parentElement)):this.isIE11||this._observer.observe(this,n)}disconnectedCallback(){super.disconnectedCallback(),this._observer.disconnect(),window.ResizeObserver&&this._resizeObserver.disconnect()}build(){return this._build()}_mutationHandler(e){if(this.isIE11||!e)this._build();else for(let t of e)if("childList"===t.type){if(t.addedNodes&&t.addedNodes.length>0){let e=t.addedNodes;e.length>0&&this._addNodes(e)}if(t.removedNodes&&t.removedNodes.length>0){let e=t.removedNodes;e.length>0&&this._removeNodes(e)}}}_isHeader(e){return void 0!==e.hasAttribute&&!(!e.hasAttribute(this.tag+"--header")&&!e.tagName.match(/H[1-6]/))}_isPanel(e){return void 0!==e.previousElementSibling&&!!this._isHeader(e.previousElementSibling)}_addNodes(e){this._build(e)}_removeNodes(e){e.forEach(e=>this._removeNode(e)),this.view&&(this.view.hasChildNodes()?this.view.removeAttribute("hidden"):this.view.setAttribute("hidden",""))}_findConnection(e){let t=null;if(!this.view)return t;if("#text"!==e.nodeName&&e.hasAttribute("slot")){const i=e.getAttribute("slot");i&&(t=this.view.querySelector(`[name="${i}"]`))}return t||this.warn(`no slot could be found with [name="${id}"]`),t}_addNode(e){this.view&&this._build()}_removeNode(e){if(!this.view)return;const t=this._findConnection(e);if(t){let e,i;const n=t.parentElement;"header"===n.getAttribute("content-type")&&n.nextElementSibling&&"panel"===n.nextElementSibling.getAttribute("content-type")?(e=n,i=n.nextElementSibling):"panel"===n.getAttribute("content-type")&&n.previousElementSibling&&"header"===n.previousElementSibling.getAttribute("content-type")&&(e=n.previousElementSibling,i=n),e&&e.remove(),i&&i.remove()}else this._build()}_updateNode(e,t){if(!this.view)return;const i=this._findConnection(e);i?t?i.textContent=t:i.innerHTML=e.innerHTML:this._build()}_build(e){let s=this.view;s&&s.tag===this.expectedTag||(s=this._buildWrapper()),this._observer.disconnect();let r=s.tag||s.tagName.toLowerCase();const a="pfe-tabs"===r?i.contentTemplate:t.contentTemplate;let o=null;if(e&&(o=e),!o&&[...this.children].length&&(o=this.children),!e&&o&&(s.innerHTML=""),o){let e=this._buildSets(o,a);e&&s.appendChild(e)}window.ShadyDOM?this.shadowRoot.querySelector("#container").appendChild(s):this.shadowRoot.querySelector("#container").innerHTML=s.outerHTML,Promise.all([customElements.whenDefined(r)]).then(()=>{this.cascadeProperties(),this.resetContext(),this.isIE11||this._observer.observe(this,n)})}_buildWrapper(){if(this.view)return this.view;let e=document.createElement(this.expectedTag);return e.id=this.id||this.pfeId||this.randomId,e}_buildSets(e,t){let i=document.createDocumentFragment();for(let n=0;n<e.length;n+=2){let s=e[n],r=e[n+1];const a=document.createElement("template");a.innerHTML=t.trim();const o=a.content.cloneNode(!0);s||this.warn(`no element found at position ${n} of the light DOM input.`),r||this.warn(`no element found at position ${n+1} of the light DOM input.`),s&&this._isHeader(s)&&r&&this._isPanel(r)&&[s,r].forEach((e,t)=>{const n=0===t?"header":"panel";let s=o.querySelector(`[content-type="${n}"]`).cloneNode(!0);const r=document.createElement("slot");r.name=this.randomId.replace("pfe-",n+"-"),s.appendChild(r),e.setAttribute("slot",r.name),(e.id||e.getAttribute("pfe-id"))&&(s.id=e.id||e.getAttribute("pfe-id")),i.appendChild(s)})}return i}_copyToId(e,t){e===t||this.id||(this.id=t)}_alignmentHandler(e,t){e!==t&&(this.tabAlign=t)}_resizeHandler(){(!this.view||this.view&&this.view.tag!==this.expectedTag)&&this._build()}_updateBreakpoint(){(!this.view||this.view&&this.view.tag!==this.expectedTag)&&this._build()}}e.create(s);export default s;
//# sourceMappingURL=pfe-content-set.min.js.map
