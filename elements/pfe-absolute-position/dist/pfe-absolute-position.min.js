import t from"../../pfelement/dist/pfelement.min.js";
/*!
 * PatternFly Elements: PfeAbsolutePosition 1.6.0
 * @license
 * Copyright 2021 Red Hat, Inc.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
*/
window.AbsolutePositionStateManager=window.AbsolutePositionStateManager||{},window.AbsolutePositionStateManager.requestAvailability=(()=>{if(!window.AbsolutePositionStateManager.instance){window.AbsolutePositionStateManager.instance=document.createElement("pfe-absolute-position-state-manager");let t=window.AbsolutePositionStateManager.instance;document.body.appendChild(t)}return window.AbsolutePositionStateManager.instance});class i extends HTMLElement{static get tag(){return"pfe-absolute-position-state-manager"}constructor(){super(),this.elements=[],this._activeElement=null,this.__timeout=!1,this.__observer=new MutationObserver(t=>this.checkMutations(t))}activateElement(t){this._activeElement&&void 0!==this._activeElement._absolutePositionActiveChanged&&this._activeElement._absolutePositionActiveChanged(!1),void 0!==t._absolutePositionActiveChanged&&t._absolutePositionActiveChanged(!0),this._activeElement=t}deactivateElement(t){t===this._activeElement&&(this._activeElement=null)}loadElement(t){this.elements.length<1&&(this.__observer.observe(document,{attributes:!0,childList:!0,subtree:!0,characterData:!0}),this.updateElements(),document.addEventListener("load",this.updateElements),window.addEventListener("resize",this._handleResize)),this.elements.push(t),t.style.top=0,t.style.left=0,this.positionElement(t)}unloadElement(t){this.elements.filter(i=>i===t),this.elements.length<1&&this.removeEventListeners()}_handleResize(){this.__timeout&&clearTimeout(this.__timeout),this.__timeout=setTimeout(window.AbsolutePositionStateManager.instance.updateElements(),250)}checkMutations(t){let i=!1;t.forEach(t=>{i||(i=i,"attributes"!==t.type||"role"===t.attributeName||"tabindex"===t.attributeName||"aria-label"===t.attributeName||"aria-describedby"===t.attributeName||"aria-expanded"===t.attributeName||"aria-hidden"===t.attributeName||"style"===t.attributeName||this.elements.includes(t.target))}),i&&this.updateElements()}findTarget(t){let i="#"+t.for,e=t.target,a=t;for(;t.for&&!e&&a&&a.parentNode&&a!==document;)e=(a=a.parentNode)?a.querySelector(i):void 0,11===a.nodeType&&(a=a.host),e=!e&&a?a.querySelector(i):e;return"function"==typeof t.targetUpdated&&t.targetUpdated(e),e}removeEventListeners(){this.__observer&&this.__observer.disconnect&&this.__observer.disconnect(),document.removeEventListener("load",this.updateElements),window.removeEventListener("resize",this._handleResize)}updateElements(){this.elements.forEach(t=>this.positionElement(t))}_getParentNode(t){let i=t.parentNode;return null!=i&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(i=i.host),i}positionElement(t){t.position||(t.position="bottom");let i=this.findTarget(t),e=t.offsetParent;if(!i||!e)return;let a=parseFloat(t.offset),o=document.body.getBoundingClientRect(),n=e.getBoundingClientRect(),s=i.getBoundingClientRect(),r=t.getBoundingClientRect(),l=(i=t.position)=>"left"!==i&&"right"!==i,m=(i=l(t.position))=>{let e=t=>parseFloat(t.replace("px","")),a=i?e(t.style.left)-r.left:e(t.style.top)-r.top,n=i?"left":"top",m=t=>i?t.width:t.height,d=a+m(o)-m(r),p=a;return"end"===t.positionAlign?p+=s[n]-m(r)+m(s):"start"===t.positionAlign?p+=s[n]:p+=s[n]-m(r)/2+m(s)/2,t.fitToVisibleBounds?Math.max(a,Math.min(d,p))+"px":p+"px"},d=(i=t.position)=>{let e=t=>parseFloat(t.replace("px","")),o=l(i)?e(t.style.top)-r.top:e(t.style.left)-r.left,n="visible"==window.getComputedStyle(t,null).overflowY?Math.max(r.height,t.scrollHeight):r.height,m="visible"==window.getComputedStyle(t,null).overflowX?Math.max(r.width,t.scrollWidth):r.width;return"top"===i?s.top+o-n-a+"px":"left"===i?s.left+o-m-a+"px":s[i]+o+a+"px"},p=(i=t.position)=>{let e=t=>l(i)?r.height+a:r.width+a;return((i=t.position)=>"left"===i||"top"===i)(i)?s[i]-o[i]>e:o[i]-s[i]>e},h=!1!==t.fitToVisibleBounds&&!p(t.position),c={top:["bottom","left","right"],left:["right","top","bottom"],bottom:["top","right","left"],right:["left","bottom","top"]};t.style.position="absolute",h&&p(c[t.position][0])?t.position=c[t.position][0]:h&&p(c[t.position][1])?t.position=c[t.position][1]:h&&p(c[t.position][2])?t.position=c[t.position][2]:(t.style.top=l(t.position)?d():m(),t.style.left=l(t.position)?m():d(),t.__positions={self:r,parent:n,target:s})}disconnectedCallback(){this.removeEventListeners(),super.disconnectedCallback()}}window.customElements.define(i.tag,i);
/*!
 * PatternFly Elements: PfeAbsolutePosition 1.6.0
 * @license
 * Copyright 2021 Red Hat, Inc.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
*/
class e extends t{static get version(){return"1.6.0"}get html(){return"\n<style>:host{display:block;position:absolute;z-index:99999}:host([hidden]){display:none}@-webkit-keyframes keyFrameScaleUp{0%{-webkit-transform:scale(0);transform:scale(0)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes keyFrameScaleUp{0%{-webkit-transform:scale(0);transform:scale(0)}100%{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes keyFrameScaleDown{0%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0);transform:scale(0)}}@keyframes keyFrameScaleDown{0%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0);transform:scale(0)}}@-webkit-keyframes keyFrameFadeInOpacity{0%{opacity:0}100%{opacity:1;opacity:var(--simple-tooltip-opacity,1)}}@keyframes keyFrameFadeInOpacity{0%{opacity:0}100%{opacity:1;opacity:var(--simple-tooltip-opacity,1)}}@-webkit-keyframes keyFrameFadeOutOpacity{0%{opacity:1;opacity:var(--simple-tooltip-opacity,1)}100%{opacity:0}}@keyframes keyFrameFadeOutOpacity{0%{opacity:1;opacity:var(--simple-tooltip-opacity,1)}100%{opacity:0}}@-webkit-keyframes keyFrameSlideDownIn{0%{-webkit-transform:translateY(-2000px);transform:translateY(-2000px);opacity:0}10%{opacity:.2}100%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1;opacity:var(--simple-tooltip-opacity,1)}}@keyframes keyFrameSlideDownIn{0%{-webkit-transform:translateY(-2000px);transform:translateY(-2000px);opacity:0}10%{opacity:.2}100%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1;opacity:var(--simple-tooltip-opacity,1)}}@-webkit-keyframes keyFrameSlideDownOut{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1;opacity:var(--simple-tooltip-opacity,1)}10%{opacity:.2}100%{-webkit-transform:translateY(-2000px);transform:translateY(-2000px);opacity:0}}@keyframes keyFrameSlideDownOut{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1;opacity:var(--simple-tooltip-opacity,1)}10%{opacity:.2}100%{-webkit-transform:translateY(-2000px);transform:translateY(-2000px);opacity:0}}.fade-in-animation{opacity:0;-webkit-animation-delay:0s;animation-delay:0s;-webkit-animation-delay:var(--simple-tooltip-delay-in,0ms);animation-delay:var(--simple-tooltip-delay-in,0ms);-webkit-animation-name:keyFrameFadeInOpacity;animation-name:keyFrameFadeInOpacity;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-duration:.1s;animation-duration:.1s;-webkit-animation-duration:var(--simple-tooltip-duration-in,100ms);animation-duration:var(--simple-tooltip-duration-in,100ms);-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.fade-out-animation{opacity:1;opacity:var(--simple-tooltip-opacity,1);-webkit-animation-delay:0s;animation-delay:0s;-webkit-animation-delay:var(--simple-tooltip-delay-out,0ms);animation-delay:var(--simple-tooltip-delay-out,0ms);-webkit-animation-name:keyFrameFadeOutOpacity;animation-name:keyFrameFadeOutOpacity;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-duration:.1s;animation-duration:.1s;-webkit-animation-duration:var(--simple-tooltip-duration-out,100ms);animation-duration:var(--simple-tooltip-duration-out,100ms);-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.scale-up-animation{-webkit-transform:scale(0);transform:scale(0);opacity:1;opacity:var(--simple-tooltip-opacity,1);-webkit-animation-delay:.5s;animation-delay:.5s;-webkit-animation-delay:var(--simple-tooltip-delay-in,500ms);animation-delay:var(--simple-tooltip-delay-in,500ms);-webkit-animation-name:keyFrameScaleUp;animation-name:keyFrameScaleUp;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-duration:var(--simple-tooltip-duration-in,500ms);animation-duration:var(--simple-tooltip-duration-in,500ms);-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.scale-down-animation{-webkit-transform:scale(1);transform:scale(1);opacity:1;opacity:var(--simple-tooltip-opacity,1);-webkit-animation-delay:.5s;animation-delay:.5s;-webkit-animation-delay:var(--simple-tooltip-delay-out,500ms);animation-delay:var(--simple-tooltip-delay-out,500ms);-webkit-animation-name:keyFrameScaleDown;animation-name:keyFrameScaleDown;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-duration:var(--simple-tooltip-duration-out,500ms);animation-duration:var(--simple-tooltip-duration-out,500ms);-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.slide-down-animation{-webkit-transform:translateY(-2000px);transform:translateY(-2000px);opacity:0;-webkit-animation-delay:.5s;animation-delay:.5s;-webkit-animation-delay:var(--simple-tooltip-delay-out,500ms);animation-delay:var(--simple-tooltip-delay-out,500ms);-webkit-animation-name:keyFrameSlideDownIn;animation-name:keyFrameSlideDownIn;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1);-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-duration:var(--simple-tooltip-duration-out,500ms);animation-duration:var(--simple-tooltip-duration-out,500ms);-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.slide-down-animation-out{-webkit-transform:translateY(0);transform:translateY(0);opacity:1;opacity:var(--simple-tooltip-opacity,1);-webkit-animation-delay:.5s;animation-delay:.5s;-webkit-animation-delay:var(--simple-tooltip-delay-out,500ms);animation-delay:var(--simple-tooltip-delay-out,500ms);-webkit-animation-name:keyFrameSlideDownOut;animation-name:keyFrameSlideDownOut;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-timing-function:cubic-bezier(.4,0,1,1);animation-timing-function:cubic-bezier(.4,0,1,1);-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-duration:var(--simple-tooltip-duration-out,500ms);animation-duration:var(--simple-tooltip-duration-out,500ms);-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.cancel-animation{-webkit-animation-delay:-30s!important;animation-delay:-30s!important}.hidden{display:none!important} /*# sourceMappingURL=pfe-absolute-position.min.css.map */</style>\n<slot></slot>"}static get tag(){return"pfe-absolute-position"}static get meta(){return{title:"Absolute position",description:"Make any element absolute positioned over another element."}}get templateUrl(){return"pfe-absolute-position.html"}get styleUrl(){return"pfe-absolute-position.scss"}static get properties(){return{auto:{type:Boolean,default:!1,observer:"_autoChanged"},fitToVisibleBounds:{type:Boolean,default:!1,observer:"updatePosition"},hidden:{type:Boolean,reflect:!0,observer:"updatePosition"},for:{type:String,reflect:!0,default:null,observer:"updatePosition"},offset:{type:Number,default:0,observer:"updatePosition"},position:{type:String,reflect:!0,default:"top",observer:"updatePosition"},positionAlign:{type:String,reflect:!0,default:"center",observer:"updatePosition"},mode:{type:String,default:"hover",observer:"updatePosition"}}}get target(){return this._target}set target(t){return this._target=t,this._target}get _positions(){return this._target}set _positions(t){return this.__positions=t,this.__positions}static get PfeType(){return t.PfeTypes.Container}constructor(){super(e,{type:e.PfeType}),this._positions={},this.target=null,this.__observe=!1,this.__manager=window.AbsolutePositionStateManager.requestAvailability(),this.animationEntry="",this.animationExit="",this.animationConfig={entry:[{name:"fade-in-animation",node:this,timing:{delay:0}}],exit:[{name:"fade-out-animation",node:this}]},setTimeout(()=>{this.addEventListener("webkitAnimationEnd",this._onAnimationEnd.bind(this))},0)}connectedCallback(){super.connectedCallback(),this._autoChanged(null,this.auto)}_autoChanged(t,i){this.auto&&this.setPosition(),!0===t&&this.auto&&(this.auto||this.unsetPosition())}targetUpdated(t){this._target=t,this._addListeners()}setPosition(){this.__observe=!0,this.__manager.loadElement(this)}unsetPosition(){this.__observe=!1,this.__manager.unloadElement(this)}updatePosition(){!0===this.__observe&&this.__manager.positionElement(this)}disconnectedCallback(){this.unsetPosition(),this._removeListeners(),super.disconnectedCallback()}cancelAnimation(){this.shadowRoot.querySelector("#tooltip").classList.add("cancel-animation")}_absolutePositionActiveChanged(t){t?this._show():this.hide()}show(){this.__manager.activateElement(this)}_show(){this._showing||(this._showing=!0,this.shadowRoot.querySelector("#tooltip").classList.remove("hidden"),this.shadowRoot.querySelector("#tooltip").classList.remove("cancel-animation"),this.shadowRoot.querySelector("#tooltip").classList.remove(this._getAnimationType("exit")),this.updatePosition(),this._animationPlaying=!0,this.shadowRoot.querySelector("#tooltip").classList.add(this._getAnimationType("entry")))}hide(){if(this._showing){if(this._animationPlaying)return this._showing=!1,void this._cancelAnimation();this._onAnimationFinish(),this._animationPlaying=!0,this._showing=!1,this.__manager.deactivateElement(this),clearTimeout(this.__debounceCancel),this.__debounceCancel=setTimeout(()=>{this._cancelAnimation()},5e3)}}toggle(){this._showing&&void 0!==this._showing?this.hide():this.show()}_manualModeChanged(){this.manualMode?this._removeListeners():this._addListeners()}_cancelAnimation(){this.shadowRoot.querySelector("#tooltip").classList.remove(this._getAnimationType("entry")),this.shadowRoot.querySelector("#tooltip").classList.remove(this._getAnimationType("exit")),this.shadowRoot.querySelector("#tooltip").classList.remove("cancel-animation"),this.shadowRoot.querySelector("#tooltip").classList.add("hidden")}_onAnimationFinish(){this._showing&&(this.shadowRoot.querySelector("#tooltip").classList.remove(this._getAnimationType("entry")),this.shadowRoot.querySelector("#tooltip").classList.remove("cancel-animation"),this.shadowRoot.querySelector("#tooltip").classList.add(this._getAnimationType("exit")))}_onAnimationEnd(){this._animationPlaying=!1,this._showing||(this.shadowRoot.querySelector("#tooltip").classList.remove(this._getAnimationType("exit")),this.shadowRoot.querySelector("#tooltip").classList.add("hidden"))}_getAnimationType(t){if("entry"===t&&""!==this.animationEntry)return this.animationEntry;if("exit"===t&&""!==this.animationExit)return this.animationExit;if(this.animationConfig[t]&&"string"==typeof this.animationConfig[t][0].name){if(this.animationConfig[t][0].timing&&this.animationConfig[t][0].timing.delay&&0!==this.animationConfig[t][0].timing.delay){var i=this.animationConfig[t][0].timing.delay;"entry"===t?document.documentElement.style.setProperty("--simple-tooltip-delay-in",i+"ms"):"exit"===t&&document.documentElement.style.setProperty("--simple-tooltip-delay-out",i+"ms")}return this.animationConfig[t][0].name}}_addListeners(){this.target&&("hover"===this.mode&&(this.target.addEventListener("mouseenter",this.show.bind(this)),this.target.addEventListener("focus",this.show.bind(this)),this.target.addEventListener("mouseleave",this.hide.bind(this)),this.target.addEventListener("blur",this.hide.bind(this)),this.target.addEventListener("tap",this.hide.bind(this))),"click"===this.mode&&(this.target.addEventListener("keydown",this._keydownHandler.bind(this)),this.target.addEventListener("click",this.show.bind(this)),this.target.addEventListener("tap",this.show.bind(this))))}_removeListeners(){this.target&&("hover"===this.mode&&(this.target.removeEventListener("mouseenter",this.show.bind(this)),this.target.removeEventListener("focus",this.show.bind(this)),this.target.removeEventListener("mouseleave",this.hide.bind(this)),this.target.removeEventListener("blur",this.hide.bind(this)),this.target.removeEventListener("tap",this.hide.bind(this))),"click"===this.mode&&(this.target.removeEventListener("click",this.toggle.bind(this)),this.target.removeEventListener("keydown",this._keydownHandler.bind(this)),this.target.removeEventListener("tap",this.hide.bind(this))))}_keydownHandler(t){switch(t.key||t.keyCode){case"Enter":this.show();break;case" ":this.show(),t.stopPropagation(),t.preventDefault()}}_delayChange(t){500!==t&&document.documentElement.style.setProperty("--simple-tooltip-delay-in",t+"ms")}}t.create(e);export default e;
//# sourceMappingURL=pfe-absolute-position.min.js.map
