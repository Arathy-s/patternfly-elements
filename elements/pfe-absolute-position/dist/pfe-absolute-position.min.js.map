{"version":3,"file":"pfe-absolute-position.min.js","sources":["../_temp/pfe-absolute-position-state-manager.js","../_temp/pfe-absolute-position.js"],"sourcesContent":["/*!\n * PatternFly Elements: PfeAbsolutePosition 1.6.0\n * @license\n * Copyright 2021 Red Hat, Inc.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n*/\n\n// register globally so we can make sure there is only one\nwindow.AbsolutePositionStateManager = window.AbsolutePositionStateManager || {};\n// request if this exists. This helps invoke element existing in dom\n// as well as that there is only one of them. That way we can ensure everything\n// is rendered through same modal\nwindow.AbsolutePositionStateManager.requestAvailability = () => {\n  if (!window.AbsolutePositionStateManager.instance) {\n    window.AbsolutePositionStateManager.instance = document.createElement(\"pfe-absolute-position-state-manager\");\n    let instance = window.AbsolutePositionStateManager.instance;\n    document.body.appendChild(instance);\n  }\n  return window.AbsolutePositionStateManager.instance;\n};\n\n/**\n * `absolute-position-state-manager`\n * manages state of multiple absolute-positioned elements on a page\n *\n * @element absolute-position-state-manager\n */\nclass PfeAbsolutePositionStateManager extends HTMLElement {\n  /**\n   * Store tag name to make it easier to obtain directly.\n   */\n  static get tag() {\n    return \"pfe-absolute-position-state-manager\";\n  }\n\n  /**\n   * Makes sure there is a utility ready and listening for elements.\n   */\n  constructor() {\n    super();\n    this.elements = [];\n    // Track the element that is currently open.\n    this._activeElement = null;\n    this.__timeout = false;\n    this.__observer = new MutationObserver(mutations => this.checkMutations(mutations));\n  }\n\n  /**\n   * Elements can request they be active through this method.\n   * The manager will ensure only one element is active at a time.\n   * The manager will call the _absolutePositionActiveChanged handler on\n   * the currently active element and the new element request it be active.\n   *\n   * @example _absolutePositionActiveChanged(isActive)\n   *\n   * @param {node} element a reference to the element requesting active state\n   * @param {ActivateElementOptions} options\n   * @return {void}\n   */\n  activateElement(element) {\n    // Notify current active element to deactivate\n    if (this._activeElement) {\n      if (typeof this._activeElement._absolutePositionActiveChanged !== \"undefined\") {\n        this._activeElement._absolutePositionActiveChanged(false);\n      }\n    }\n    // Notify the new element to activate\n    if (typeof element._absolutePositionActiveChanged !== \"undefined\") {\n      element._absolutePositionActiveChanged(true);\n    }\n    // updated activeElement state\n    this._activeElement = element;\n  }\n\n  /**\n   * Elements should notify the state manager that they have locally\n   * been deactated so that the manager can update the state. Note that\n   * this violates unidirectional data flow but we don't care because other\n   * elements don't care if others deactivate. It's only on activation state\n   * that others need care about.\n   *\n   * @param {node} element a reference to the element requesting active state\n   * @return {void}\n   */\n  deactivateElement(element) {\n    if (element === this._activeElement) {\n      this._activeElement = null;\n    }\n  }\n\n  /**\n   * Loads element into array\n   * @param {object} element to be added\n   */\n  loadElement(el) {\n    //only have event listeners when there are elements using manager\n    if (this.elements.length < 1) {\n      this.__observer.observe(document, {\n        attributes: true,\n        childList: true,\n        subtree: true,\n        characterData: true\n      });\n      this.updateElements();\n      document.addEventListener(\"load\", this.updateElements);\n      window.addEventListener(\"resize\", this._handleResize);\n    }\n    this.elements.push(el);\n    el.style.top = 0;\n    el.style.left = 0;\n    this.positionElement(el);\n  }\n\n  /**\n   * Unloads element from array\n   * @param {object} element to be removed\n   */\n  unloadElement(el) {\n    this.elements.filter(element => element === el);\n    if (this.elements.length < 1) this.removeEventListeners();\n  }\n\n  /**\n   * handles resize event\n   */\n  _handleResize() {\n    if (this.__timeout) clearTimeout(this.__timeout);\n    this.__timeout = setTimeout(window.AbsolutePositionStateManager.instance.updateElements(), 250);\n  }\n\n  /**\n   * Checks if there are any chances other than to\n   * element's position and updates accordioning.\n   * This is needed so that positioning elements\n   * doesn't trigger an infinite loop of updates.\n   *\n   * @param {array} mutation records\n   * @return {void}\n   */\n  checkMutations(mutations) {\n    let update = false;\n\n    mutations.forEach(mutation => {\n      if (update) return;\n      update = update;\n      !(\n        mutation.type === \"attributes\" &&\n        // We need to ignore any changes that the pfe-absolute-position\n        // element is making on the target to prevent an infinite loop.\n        // In this case we need to ignore role and tabindex.\n        // @todo this should be abstracted into an options argument.\n        mutation.attributeName !== \"role\" &&\n        mutation.attributeName !== \"tabindex\" &&\n        mutation.attributeName !== \"aria-label\" &&\n        mutation.attributeName !== \"aria-describedby\" &&\n        mutation.attributeName !== \"aria-expanded\" &&\n        mutation.attributeName !== \"aria-hidden\" &&\n        mutation.attributeName !== \"style\" &&\n        this.elements.includes(mutation.target)\n      );\n    });\n    if (update) this.updateElements();\n  }\n\n  /**\n   * Returns target element that this element is anchored to. It is\n   * either element given by `for` attribute, or immediate parent\n   * of element.\n   *\n   * Uses `target` object if specified.\n   * If not, queries document for elements with id specified in `for` attribute.\n   * If there is more than one element that matches, gets closest matching element.\n   *\n   * @param {object} element using pfe-absolute-position behavior\n   * @return {object} target element for positioning\n   */\n  findTarget(el) {\n    let selector = \"#\" + el.for,\n      target = el.target,\n      ancestor = el;\n\n    while (!!el.for && !target && !!ancestor && !!ancestor.parentNode && ancestor !== document) {\n      ancestor = ancestor.parentNode;\n      target = ancestor ? ancestor.querySelector(selector) : undefined;\n      if (ancestor.nodeType === 11) ancestor = ancestor.host;\n      target = !target && ancestor ? ancestor.querySelector(selector) : target;\n    }\n\n    // Hook to notify element that its target has been updated.\n    if (typeof el.targetUpdated == \"function\") el.targetUpdated(target);\n    return target;\n  }\n\n  /**\n   * Removes event listeners\n   * Centrally manage the event listeners\n   * @return {void}\n   */\n  removeEventListeners() {\n    if (this.__observer && this.__observer.disconnect) this.__observer.disconnect();\n    document.removeEventListener(\"load\", this.updateElements);\n    window.removeEventListener(\"resize\", this._handleResize);\n  }\n\n  /**\n   * Updates position for all elements on page.\n   * @return {void}\n   */\n  updateElements() {\n    this.elements.forEach(element => this.positionElement(element));\n  }\n\n  _getParentNode(node) {\n    let parent = node.parentNode;\n    if (parent !== undefined && parent !== null && parent.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n      parent = parent.host;\n    }\n    return parent;\n  }\n\n  /**\n   * Gets an updated position based on target.\n   * @param {object} element using absolute-position behavior\n   * @return {void}\n   */\n  positionElement(el) {\n    if (!el.position) {\n      el.position = \"bottom\";\n    }\n    let target = this.findTarget(el),\n      parent = el.offsetParent;\n    if (!target || !parent) return;\n    let offset = parseFloat(el.offset),\n      w = document.body.getBoundingClientRect(),\n      p = parent.getBoundingClientRect(),\n      t = target.getBoundingClientRect(),\n      e = el.getBoundingClientRect(),\n      //place element before vertically?\n      vertical = (pos = el.position) => pos !== \"left\" && pos !== \"right\",\n      //place element before target?\n      before = (pos = el.position) => pos === \"left\" || pos === \"top\",\n      /**\n       * aligns horizontally if position is vertical\n       * or aligns vertically if position is horizontal\n       */\n      setAlign = (v = vertical(el.position)) => {\n        //fits element within parent's boundaries\n        let pxToNum = px => parseFloat(px.replace(\"px\", \"\")),\n          min = v ? pxToNum(el.style.left) - e.left : pxToNum(el.style.top) - e.top,\n          startAt = v ? \"left\" : \"top\",\n          distance = rect => (v ? rect.width : rect.height),\n          max = min + distance(w) - distance(e),\n          align = min;\n        if (el.positionAlign === \"end\") {\n          align += t[startAt] - distance(e) + distance(t);\n        } else if (el.positionAlign === \"start\") {\n          align += t[startAt];\n        } else {\n          align += t[startAt] - distance(e) / 2 + distance(t) / 2;\n        }\n        return el.fitToVisibleBounds ? Math.max(min, Math.min(max, align)) + \"px\" : align + \"px\"; //if element size > parent, align where parent begins\n      },\n      getCoord = (pos = el.position) => {\n        let pxToNum = px => parseFloat(px.replace(\"px\", \"\")),\n          adjust = vertical(pos) ? pxToNum(el.style.top) - e.top : pxToNum(el.style.left) - e.left,\n          eh =\n            window.getComputedStyle(el, null).overflowY == \"visible\" ? Math.max(e.height, el.scrollHeight) : e.height,\n          ew = window.getComputedStyle(el, null).overflowX == \"visible\" ? Math.max(e.width, el.scrollWidth) : e.width;\n        return pos === \"top\"\n          ? t.top + adjust - eh - offset + \"px\"\n          : pos === \"left\"\n          ? t.left + adjust - ew - offset + \"px\"\n          : t[pos] + adjust + offset + \"px\";\n      },\n      isFit = (pos = el.position) => {\n        //determines if room for element between parent and target\n        let distance = rect => (vertical(pos) ? e.height + offset : e.width + offset);\n        return before(pos) ? t[pos] - w[pos] > distance : w[pos] - t[pos] > distance; //if no room, return original position\n      },\n      flip = el.fitToVisibleBounds !== false && !isFit(el.position),\n      flipData = {\n        top: [\"bottom\", \"left\", \"right\"],\n        left: [\"right\", \"top\", \"bottom\"],\n        bottom: [\"top\", \"right\", \"left\"],\n        right: [\"left\", \"bottom\", \"top\"]\n      };\n    el.style.position = \"absolute\";\n    /*\n     * fits element according to specified postion,\n     * or finds an alternative position that fits\n     */\n    if (flip && isFit(flipData[el.position][0])) {\n      el.position = flipData[el.position][0];\n    } else if (flip && isFit(flipData[el.position][1])) {\n      el.position = flipData[el.position][1];\n    } else if (flip && isFit(flipData[el.position][2])) {\n      el.position = flipData[el.position][2];\n    } else {\n      el.style.top = vertical(el.position) ? getCoord() : setAlign();\n      el.style.left = vertical(el.position) ? setAlign() : getCoord();\n      //provide positions for element and target (in case furthor positioning adjustments are needed)\n      el.__positions = {\n        self: e,\n        parent: p,\n        target: t\n      };\n    }\n  }\n\n  /**\n   * life cycle, element is removed from DOM\n   */\n  disconnectedCallback() {\n    this.removeEventListeners();\n    super.disconnectedCallback();\n  }\n}\n\nwindow.customElements.define(PfeAbsolutePositionStateManager.tag, PfeAbsolutePositionStateManager);\n\nexport default PfeAbsolutePositionStateManager;\n","/*!\n * PatternFly Elements: PfeAbsolutePosition 1.6.0\n * @license\n * Copyright 2021 Red Hat, Inc.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n*/\n\n/**\n * This is heavily inspired by LRN Web Component's absolute-position-behaviors element\n * https://github.com/elmsln/lrnwebcomponents/tree/master/elements/absolute-position-behavior\n */\n\nimport PFElement from \"../../pfelement/dist/pfelement.js\";\nimport \"./pfe-absolute-position-state-manager.js\";\n\nclass PfeAbsolutePosition extends PFElement {\n\n  // Injected at build-time\n  static get version() {\n    return \"1.6.0\";\n  }\n\n  // Injected at build-time\n  get html() {\n    return `\n<style>:host{display:block;position:absolute;z-index:99999}:host([hidden]){display:none}@-webkit-keyframes keyFrameScaleUp{0%{-webkit-transform:scale(0);transform:scale(0)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes keyFrameScaleUp{0%{-webkit-transform:scale(0);transform:scale(0)}100%{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes keyFrameScaleDown{0%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0);transform:scale(0)}}@keyframes keyFrameScaleDown{0%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0);transform:scale(0)}}@-webkit-keyframes keyFrameFadeInOpacity{0%{opacity:0}100%{opacity:1;opacity:var(--simple-tooltip-opacity,1)}}@keyframes keyFrameFadeInOpacity{0%{opacity:0}100%{opacity:1;opacity:var(--simple-tooltip-opacity,1)}}@-webkit-keyframes keyFrameFadeOutOpacity{0%{opacity:1;opacity:var(--simple-tooltip-opacity,1)}100%{opacity:0}}@keyframes keyFrameFadeOutOpacity{0%{opacity:1;opacity:var(--simple-tooltip-opacity,1)}100%{opacity:0}}@-webkit-keyframes keyFrameSlideDownIn{0%{-webkit-transform:translateY(-2000px);transform:translateY(-2000px);opacity:0}10%{opacity:.2}100%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1;opacity:var(--simple-tooltip-opacity,1)}}@keyframes keyFrameSlideDownIn{0%{-webkit-transform:translateY(-2000px);transform:translateY(-2000px);opacity:0}10%{opacity:.2}100%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1;opacity:var(--simple-tooltip-opacity,1)}}@-webkit-keyframes keyFrameSlideDownOut{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1;opacity:var(--simple-tooltip-opacity,1)}10%{opacity:.2}100%{-webkit-transform:translateY(-2000px);transform:translateY(-2000px);opacity:0}}@keyframes keyFrameSlideDownOut{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1;opacity:var(--simple-tooltip-opacity,1)}10%{opacity:.2}100%{-webkit-transform:translateY(-2000px);transform:translateY(-2000px);opacity:0}}.fade-in-animation{opacity:0;-webkit-animation-delay:0s;animation-delay:0s;-webkit-animation-delay:var(--simple-tooltip-delay-in,0ms);animation-delay:var(--simple-tooltip-delay-in,0ms);-webkit-animation-name:keyFrameFadeInOpacity;animation-name:keyFrameFadeInOpacity;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-duration:.1s;animation-duration:.1s;-webkit-animation-duration:var(--simple-tooltip-duration-in,100ms);animation-duration:var(--simple-tooltip-duration-in,100ms);-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.fade-out-animation{opacity:1;opacity:var(--simple-tooltip-opacity,1);-webkit-animation-delay:0s;animation-delay:0s;-webkit-animation-delay:var(--simple-tooltip-delay-out,0ms);animation-delay:var(--simple-tooltip-delay-out,0ms);-webkit-animation-name:keyFrameFadeOutOpacity;animation-name:keyFrameFadeOutOpacity;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-duration:.1s;animation-duration:.1s;-webkit-animation-duration:var(--simple-tooltip-duration-out,100ms);animation-duration:var(--simple-tooltip-duration-out,100ms);-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.scale-up-animation{-webkit-transform:scale(0);transform:scale(0);opacity:1;opacity:var(--simple-tooltip-opacity,1);-webkit-animation-delay:.5s;animation-delay:.5s;-webkit-animation-delay:var(--simple-tooltip-delay-in,500ms);animation-delay:var(--simple-tooltip-delay-in,500ms);-webkit-animation-name:keyFrameScaleUp;animation-name:keyFrameScaleUp;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-duration:var(--simple-tooltip-duration-in,500ms);animation-duration:var(--simple-tooltip-duration-in,500ms);-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.scale-down-animation{-webkit-transform:scale(1);transform:scale(1);opacity:1;opacity:var(--simple-tooltip-opacity,1);-webkit-animation-delay:.5s;animation-delay:.5s;-webkit-animation-delay:var(--simple-tooltip-delay-out,500ms);animation-delay:var(--simple-tooltip-delay-out,500ms);-webkit-animation-name:keyFrameScaleDown;animation-name:keyFrameScaleDown;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-duration:var(--simple-tooltip-duration-out,500ms);animation-duration:var(--simple-tooltip-duration-out,500ms);-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.slide-down-animation{-webkit-transform:translateY(-2000px);transform:translateY(-2000px);opacity:0;-webkit-animation-delay:.5s;animation-delay:.5s;-webkit-animation-delay:var(--simple-tooltip-delay-out,500ms);animation-delay:var(--simple-tooltip-delay-out,500ms);-webkit-animation-name:keyFrameSlideDownIn;animation-name:keyFrameSlideDownIn;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1);-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-duration:var(--simple-tooltip-duration-out,500ms);animation-duration:var(--simple-tooltip-duration-out,500ms);-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.slide-down-animation-out{-webkit-transform:translateY(0);transform:translateY(0);opacity:1;opacity:var(--simple-tooltip-opacity,1);-webkit-animation-delay:.5s;animation-delay:.5s;-webkit-animation-delay:var(--simple-tooltip-delay-out,500ms);animation-delay:var(--simple-tooltip-delay-out,500ms);-webkit-animation-name:keyFrameSlideDownOut;animation-name:keyFrameSlideDownOut;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-timing-function:cubic-bezier(.4,0,1,1);animation-timing-function:cubic-bezier(.4,0,1,1);-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-duration:var(--simple-tooltip-duration-out,500ms);animation-duration:var(--simple-tooltip-duration-out,500ms);-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.cancel-animation{-webkit-animation-delay:-30s!important;animation-delay:-30s!important}.hidden{display:none!important} /*# sourceMappingURL=pfe-absolute-position.min.css.map */</style>\n<slot></slot>`;\n  }\n\n  static get tag() {\n    return \"pfe-absolute-position\";\n  }\n\n  static get meta() {\n    return {\n      title: \"Absolute position\",\n      description: \"Make any element absolute positioned over another element.\"\n    };\n  }\n\n  get templateUrl() {\n    return \"pfe-absolute-position.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-absolute-position.scss\";\n  }\n\n  static get properties() {\n    return {\n      /**\n       * Element is positioned from connected to disconnected?\n       * Otherwise setPosition and unsetPosition must be called manually.\n       */\n      auto: {\n        type: Boolean,\n        default: false,\n        observer: \"_autoChanged\"\n      },\n      /**\n       * If true, no parts of the tooltip will ever be shown offscreen.\n       */\n      fitToVisibleBounds: {\n        type: Boolean,\n        default: false,\n        observer: \"updatePosition\"\n      },\n      /**\n       * If true, no parts of the tooltip will ever be shown offscreen.\n       */\n      hidden: {\n        type: Boolean,\n        reflect: true,\n        observer: \"updatePosition\"\n      },\n      /**\n       * The id of the element that the tooltip is anchored to. This element\n       * must be a sibling of the tooltip. If this property is not set,\n       * then the tooltip will be centered to the parent node containing it.\n       */\n      for: {\n        type: String,\n        reflect: true,\n        default: null,\n        observer: \"updatePosition\"\n      },\n      /**\n       * The spacing between the top of the tooltip and the element it is\n       * anchored to.\n       */\n      offset: {\n        type: Number,\n        default: 0,\n        observer: \"updatePosition\"\n      },\n      /**\n       * Positions the tooltip to the top, right, bottom, left of its content.\n       */\n      position: {\n        type: String,\n        reflect: true,\n        default: \"top\",\n        observer: \"updatePosition\"\n      },\n      /**\n       * Aligns at the start, or end fo target. Default is centered.\n       */\n      positionAlign: {\n        type: String,\n        reflect: true,\n        default: \"center\",\n        observer: \"updatePosition\"\n      },\n      /**\n       * Set the mode to either hover or click\n       */\n      mode: {\n        type: String,\n        default: \"hover\",\n        observer: \"updatePosition\"\n      }\n    };\n  }\n\n  /**\n   * Get the actual target element\n   * @type {Node}\n   */\n  get target() {\n    return this._target;\n  }\n\n  /**\n   * Set the actual target element\n   * @type {Node}\n   */\n  set target(node) {\n    this._target = node;\n    return this._target;\n  }\n\n  /**\n   * Get the actual target element\n   * @type {Object}\n   */\n  get _positions() {\n    return this._target;\n  }\n\n  /**\n   * Set the actual target element\n   * @type {Object}\n   */\n  set _positions(positions) {\n    this.__positions = positions;\n    return this.__positions;\n  }\n\n  // Declare the type of this component\n  static get PfeType() {\n    return PFElement.PfeTypes.Container;\n  }\n\n  constructor() {\n    super(PfeAbsolutePosition, { type: PfeAbsolutePosition.PfeType });\n    this._positions = {};\n    this.target = null;\n    this.__observe = false;\n    this.__manager = window.AbsolutePositionStateManager.requestAvailability();\n\n    this.animationEntry = \"\";\n    this.animationExit = \"\";\n    this.animationConfig = {\n      entry: [{ name: \"fade-in-animation\", node: this, timing: { delay: 0 } }],\n      exit: [{ name: \"fade-out-animation\", node: this }]\n    };\n    setTimeout(() => {\n      this.addEventListener(\"webkitAnimationEnd\", this._onAnimationEnd.bind(this));\n    }, 0);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    // initialize set position immediately in auto changed\n    this._autoChanged(null, this.auto);\n  }\n\n  // auto property change handler\n  _autoChanged(oldValue, newValue) {\n    // if the component is set to auto then we are going to handle setting the\n    // position for the user.\n    if (this.auto) this.setPosition();\n    // if the user explicitly turned off auto then we'll unset position for them.\n    if (oldValue === true && this.auto) {\n      if (!this.auto) this.unsetPosition();\n    }\n  }\n\n  /**\n   * Target Updated Hook\n   *\n   * Called when a target element is found.\n   * @param {Node} target\n   */\n  targetUpdated(target) {\n    this._target = target;\n    this._addListeners();\n  }\n\n  /**\n   * Registers element with AbsolutePositionStateManager\n   * @returns {void}\n   */\n  setPosition() {\n    this.__observe = true;\n    this.__manager.loadElement(this);\n  }\n\n  /**\n   * Unregisters element with AbsolutePositionStateManager\n   * @returns {void}\n   */\n  unsetPosition() {\n    this.__observe = false;\n    this.__manager.unloadElement(this);\n  }\n\n  /**\n   * Updates  element's position\n   * @returns {void}\n   */\n  updatePosition() {\n    if (this.__observe === true) {\n      this.__manager.positionElement(this);\n    }\n  }\n  /**\n   * life cycle, element is removed from DOM\n   * @returns {void}\n   */\n  disconnectedCallback() {\n    this.unsetPosition();\n    this._removeListeners();\n    super.disconnectedCallback();\n  }\n\n  /**\n   * Cancels the animation and either fully shows or fully hides tooltip\n   */\n  cancelAnimation() {\n    // Short-cut and cancel all animations and hide\n    this.shadowRoot.querySelector(\"#tooltip\").classList.add(\"cancel-animation\");\n  }\n\n  // Hook into absolute state manager to see if we\n  // have been activated or deactivated\n  _absolutePositionActiveChanged(isActive) {\n    isActive ? this._show() : this.hide();\n  }\n\n  /**\n   * Shows the tooltip programatically\n   * @return {void}\n   */\n  show() {\n    this.__manager.activateElement(this);\n  }\n\n  _show() {\n    // If the tooltip is already showing, there's nothing to do.\n    if (this._showing) return;\n    this._showing = true;\n    this.shadowRoot.querySelector(\"#tooltip\").classList.remove(\"hidden\");\n    this.shadowRoot.querySelector(\"#tooltip\").classList.remove(\"cancel-animation\");\n    this.shadowRoot.querySelector(\"#tooltip\").classList.remove(this._getAnimationType(\"exit\"));\n    this.updatePosition();\n    this._animationPlaying = true;\n    this.shadowRoot.querySelector(\"#tooltip\").classList.add(this._getAnimationType(\"entry\"));\n  }\n\n  /**\n   * Hides the tooltip programatically\n   * @return {void}\n   */\n  hide() {\n    // If the tooltip is already hidden, there's nothing to do.\n    if (!this._showing) {\n      return;\n    }\n\n    // If the entry animation is still playing, don't try to play the exit\n    // animation since this will reset the opacity to 1. Just end the animation.\n    if (this._animationPlaying) {\n      this._showing = false;\n      this._cancelAnimation();\n      return;\n    } else {\n      // Play Exit Animation\n      this._onAnimationFinish();\n    }\n    this._animationPlaying = true;\n    this._showing = false;\n    // Let the manager know that to remove us from its activeElement state.\n    this.__manager.deactivateElement(this);\n    // force hide if we are open too long\n    // helps older platforms and the monster known as Safari\n    clearTimeout(this.__debounceCancel);\n    this.__debounceCancel = setTimeout(() => {\n      this._cancelAnimation();\n    }, 5000);\n  }\n\n  /**\n   * Toggle the visibility of the tooltip programatically\n   * @return {void}\n   */\n  toggle() {\n    if (!this._showing || typeof this._showing === \"undefined\") {\n      this.show();\n    } else {\n      this.hide();\n    }\n  }\n\n  _manualModeChanged() {\n    if (this.manualMode) this._removeListeners();\n    else this._addListeners();\n  }\n\n  _cancelAnimation() {\n    // Short-cut and cancel all animations and hide\n    this.shadowRoot.querySelector(\"#tooltip\").classList.remove(this._getAnimationType(\"entry\"));\n    this.shadowRoot.querySelector(\"#tooltip\").classList.remove(this._getAnimationType(\"exit\"));\n    this.shadowRoot.querySelector(\"#tooltip\").classList.remove(\"cancel-animation\");\n    this.shadowRoot.querySelector(\"#tooltip\").classList.add(\"hidden\");\n  }\n\n  _onAnimationFinish() {\n    if (this._showing) {\n      this.shadowRoot.querySelector(\"#tooltip\").classList.remove(this._getAnimationType(\"entry\"));\n      this.shadowRoot.querySelector(\"#tooltip\").classList.remove(\"cancel-animation\");\n      this.shadowRoot.querySelector(\"#tooltip\").classList.add(this._getAnimationType(\"exit\"));\n    }\n  }\n\n  _onAnimationEnd() {\n    // If no longer showing add class hidden to completely hide tooltip\n    this._animationPlaying = false;\n    if (!this._showing) {\n      this.shadowRoot.querySelector(\"#tooltip\").classList.remove(this._getAnimationType(\"exit\"));\n      this.shadowRoot.querySelector(\"#tooltip\").classList.add(\"hidden\");\n    }\n  }\n\n  _getAnimationType(type) {\n    // These properties have priority over animationConfig values\n    if (type === \"entry\" && this.animationEntry !== \"\") {\n      return this.animationEntry;\n    }\n    if (type === \"exit\" && this.animationExit !== \"\") {\n      return this.animationExit;\n    }\n    // If no results then return the legacy value from animationConfig\n    if (this.animationConfig[type] && typeof this.animationConfig[type][0].name === \"string\") {\n      // Checking Timing and Update if necessary - Legacy for animationConfig\n      if (\n        this.animationConfig[type][0].timing &&\n        this.animationConfig[type][0].timing.delay &&\n        this.animationConfig[type][0].timing.delay !== 0\n      ) {\n        var timingDelay = this.animationConfig[type][0].timing.delay;\n        // Has Timing Change - Update CSS\n        if (type === \"entry\") {\n          document.documentElement.style.setProperty(\"--simple-tooltip-delay-in\", timingDelay + \"ms\");\n        } else if (type === \"exit\") {\n          document.documentElement.style.setProperty(\"--simple-tooltip-delay-out\", timingDelay + \"ms\");\n        }\n      }\n      return this.animationConfig[type][0].name;\n    }\n  }\n\n  _addListeners() {\n    if (this.target) {\n      if (this.mode === \"hover\") {\n        this.target.addEventListener(\"mouseenter\", this.show.bind(this));\n        this.target.addEventListener(\"focus\", this.show.bind(this));\n        this.target.addEventListener(\"mouseleave\", this.hide.bind(this));\n        this.target.addEventListener(\"blur\", this.hide.bind(this));\n        this.target.addEventListener(\"tap\", this.hide.bind(this));\n      }\n      if (this.mode === \"click\") {\n        this.target.addEventListener(\"keydown\", this._keydownHandler.bind(this));\n        this.target.addEventListener(\"click\", this.show.bind(this));\n        this.target.addEventListener(\"tap\", this.show.bind(this));\n      }\n    }\n  }\n\n  _removeListeners() {\n    if (this.target) {\n      if (this.mode === \"hover\") {\n        this.target.removeEventListener(\"mouseenter\", this.show.bind(this));\n        this.target.removeEventListener(\"focus\", this.show.bind(this));\n        this.target.removeEventListener(\"mouseleave\", this.hide.bind(this));\n        this.target.removeEventListener(\"blur\", this.hide.bind(this));\n        this.target.removeEventListener(\"tap\", this.hide.bind(this));\n      }\n      if (this.mode === \"click\") {\n        this.target.removeEventListener(\"click\", this.toggle.bind(this));\n        this.target.removeEventListener(\"keydown\", this._keydownHandler.bind(this));\n        this.target.removeEventListener(\"tap\", this.hide.bind(this));\n      }\n    }\n  }\n\n  // Listen for keyboard events and map them to their\n  // corresponding mouse events.\n  _keydownHandler(event) {\n    let key = event.key || event.keyCode;\n    switch (key) {\n      case \"Enter\" || 13:\n        this.show();\n        break;\n      case \" \" || 32:\n        // Prevent the browser from scolling when the user hits the space key\n        this.show();\n        event.stopPropagation();\n        event.preventDefault();\n        break;\n    }\n  }\n\n  _delayChange(newValue) {\n    // Only Update delay if different value set\n    if (newValue !== 500) {\n      document.documentElement.style.setProperty(\"--simple-tooltip-delay-in\", newValue + \"ms\");\n    }\n  }\n}\n\nPFElement.create(PfeAbsolutePosition);\n\nexport default PfeAbsolutePosition;\n"],"names":["window","AbsolutePositionStateManager","requestAvailability","instance","document","createElement","body","appendChild","PfeAbsolutePositionStateManager","HTMLElement","tag","[object Object]","super","this","elements","_activeElement","__timeout","__observer","MutationObserver","mutations","checkMutations","element","_absolutePositionActiveChanged","el","length","observe","attributes","childList","subtree","characterData","updateElements","addEventListener","_handleResize","push","style","top","left","positionElement","filter","removeEventListeners","clearTimeout","setTimeout","update","forEach","mutation","type","attributeName","includes","target","selector","for","ancestor","parentNode","querySelector","undefined","nodeType","host","targetUpdated","disconnect","removeEventListener","node","parent","Node","DOCUMENT_FRAGMENT_NODE","position","findTarget","offsetParent","offset","parseFloat","w","getBoundingClientRect","p","t","e","vertical","pos","setAlign","v","pxToNum","px","replace","min","startAt","distance","rect","width","height","max","align","positionAlign","fitToVisibleBounds","Math","getCoord","adjust","eh","getComputedStyle","overflowY","scrollHeight","ew","overflowX","scrollWidth","isFit","before","flip","flipData","bottom","right","__positions","self","disconnectedCallback","customElements","define","PfeAbsolutePosition","PFElement","version","html","meta","title","description","templateUrl","styleUrl","properties","auto","Boolean","default","observer","hidden","reflect","String","Number","mode","_target","_positions","positions","PfeType","PfeTypes","Container","__observe","__manager","animationEntry","animationExit","animationConfig","entry","name","timing","delay","exit","_onAnimationEnd","bind","connectedCallback","_autoChanged","oldValue","newValue","setPosition","unsetPosition","_addListeners","loadElement","unloadElement","_removeListeners","shadowRoot","classList","add","isActive","_show","hide","activateElement","_showing","remove","_getAnimationType","updatePosition","_animationPlaying","_cancelAnimation","_onAnimationFinish","deactivateElement","__debounceCancel","show","manualMode","timingDelay","documentElement","setProperty","_keydownHandler","toggle","event","key","keyCode","stopPropagation","preventDefault","create"],"mappings":"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"}