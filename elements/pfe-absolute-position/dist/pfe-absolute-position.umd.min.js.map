{"version":3,"file":"pfe-absolute-position.umd.min.js","sources":["../_temp/pfe-absolute-position-state-manager.js","../_temp/pfe-absolute-position.umd.js"],"sourcesContent":["/*!\n * PatternFly Elements: PfeAbsolutePosition 1.6.0\n * @license\n * Copyright 2021 Red Hat, Inc.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n*/\n\n// register globally so we can make sure there is only one\nwindow.AbsolutePositionStateManager = window.AbsolutePositionStateManager || {};\n// request if this exists. This helps invoke element existing in dom\n// as well as that there is only one of them. That way we can ensure everything\n// is rendered through same modal\nwindow.AbsolutePositionStateManager.requestAvailability = () => {\n  if (!window.AbsolutePositionStateManager.instance) {\n    window.AbsolutePositionStateManager.instance = document.createElement(\"pfe-absolute-position-state-manager\");\n    let instance = window.AbsolutePositionStateManager.instance;\n    document.body.appendChild(instance);\n  }\n  return window.AbsolutePositionStateManager.instance;\n};\n\n/**\n * `absolute-position-state-manager`\n * manages state of multiple absolute-positioned elements on a page\n *\n * @element absolute-position-state-manager\n */\nclass PfeAbsolutePositionStateManager extends HTMLElement {\n  /**\n   * Store tag name to make it easier to obtain directly.\n   */\n  static get tag() {\n    return \"pfe-absolute-position-state-manager\";\n  }\n\n  /**\n   * Makes sure there is a utility ready and listening for elements.\n   */\n  constructor() {\n    super();\n    this.elements = [];\n    // Track the element that is currently open.\n    this._activeElement = null;\n    this.__timeout = false;\n    this.__observer = new MutationObserver(mutations => this.checkMutations(mutations));\n  }\n\n  /**\n   * Elements can request they be active through this method.\n   * The manager will ensure only one element is active at a time.\n   * The manager will call the _absolutePositionActiveChanged handler on\n   * the currently active element and the new element request it be active.\n   *\n   * @example _absolutePositionActiveChanged(isActive)\n   *\n   * @param {node} element a reference to the element requesting active state\n   * @param {ActivateElementOptions} options\n   * @return {void}\n   */\n  activateElement(element) {\n    // Notify current active element to deactivate\n    if (this._activeElement) {\n      if (typeof this._activeElement._absolutePositionActiveChanged !== \"undefined\") {\n        this._activeElement._absolutePositionActiveChanged(false);\n      }\n    }\n    // Notify the new element to activate\n    if (typeof element._absolutePositionActiveChanged !== \"undefined\") {\n      element._absolutePositionActiveChanged(true);\n    }\n    // updated activeElement state\n    this._activeElement = element;\n  }\n\n  /**\n   * Elements should notify the state manager that they have locally\n   * been deactated so that the manager can update the state. Note that\n   * this violates unidirectional data flow but we don't care because other\n   * elements don't care if others deactivate. It's only on activation state\n   * that others need care about.\n   *\n   * @param {node} element a reference to the element requesting active state\n   * @return {void}\n   */\n  deactivateElement(element) {\n    if (element === this._activeElement) {\n      this._activeElement = null;\n    }\n  }\n\n  /**\n   * Loads element into array\n   * @param {object} element to be added\n   */\n  loadElement(el) {\n    //only have event listeners when there are elements using manager\n    if (this.elements.length < 1) {\n      this.__observer.observe(document, {\n        attributes: true,\n        childList: true,\n        subtree: true,\n        characterData: true\n      });\n      this.updateElements();\n      document.addEventListener(\"load\", this.updateElements);\n      window.addEventListener(\"resize\", this._handleResize);\n    }\n    this.elements.push(el);\n    el.style.top = 0;\n    el.style.left = 0;\n    this.positionElement(el);\n  }\n\n  /**\n   * Unloads element from array\n   * @param {object} element to be removed\n   */\n  unloadElement(el) {\n    this.elements.filter(element => element === el);\n    if (this.elements.length < 1) this.removeEventListeners();\n  }\n\n  /**\n   * handles resize event\n   */\n  _handleResize() {\n    if (this.__timeout) clearTimeout(this.__timeout);\n    this.__timeout = setTimeout(window.AbsolutePositionStateManager.instance.updateElements(), 250);\n  }\n\n  /**\n   * Checks if there are any chances other than to\n   * element's position and updates accordioning.\n   * This is needed so that positioning elements\n   * doesn't trigger an infinite loop of updates.\n   *\n   * @param {array} mutation records\n   * @return {void}\n   */\n  checkMutations(mutations) {\n    let update = false;\n\n    mutations.forEach(mutation => {\n      if (update) return;\n      update = update;\n      !(\n        mutation.type === \"attributes\" &&\n        // We need to ignore any changes that the pfe-absolute-position\n        // element is making on the target to prevent an infinite loop.\n        // In this case we need to ignore role and tabindex.\n        // @todo this should be abstracted into an options argument.\n        mutation.attributeName !== \"role\" &&\n        mutation.attributeName !== \"tabindex\" &&\n        mutation.attributeName !== \"aria-label\" &&\n        mutation.attributeName !== \"aria-describedby\" &&\n        mutation.attributeName !== \"aria-expanded\" &&\n        mutation.attributeName !== \"aria-hidden\" &&\n        mutation.attributeName !== \"style\" &&\n        this.elements.includes(mutation.target)\n      );\n    });\n    if (update) this.updateElements();\n  }\n\n  /**\n   * Returns target element that this element is anchored to. It is\n   * either element given by `for` attribute, or immediate parent\n   * of element.\n   *\n   * Uses `target` object if specified.\n   * If not, queries document for elements with id specified in `for` attribute.\n   * If there is more than one element that matches, gets closest matching element.\n   *\n   * @param {object} element using pfe-absolute-position behavior\n   * @return {object} target element for positioning\n   */\n  findTarget(el) {\n    let selector = \"#\" + el.for,\n      target = el.target,\n      ancestor = el;\n\n    while (!!el.for && !target && !!ancestor && !!ancestor.parentNode && ancestor !== document) {\n      ancestor = ancestor.parentNode;\n      target = ancestor ? ancestor.querySelector(selector) : undefined;\n      if (ancestor.nodeType === 11) ancestor = ancestor.host;\n      target = !target && ancestor ? ancestor.querySelector(selector) : target;\n    }\n\n    // Hook to notify element that its target has been updated.\n    if (typeof el.targetUpdated == \"function\") el.targetUpdated(target);\n    return target;\n  }\n\n  /**\n   * Removes event listeners\n   * Centrally manage the event listeners\n   * @return {void}\n   */\n  removeEventListeners() {\n    if (this.__observer && this.__observer.disconnect) this.__observer.disconnect();\n    document.removeEventListener(\"load\", this.updateElements);\n    window.removeEventListener(\"resize\", this._handleResize);\n  }\n\n  /**\n   * Updates position for all elements on page.\n   * @return {void}\n   */\n  updateElements() {\n    this.elements.forEach(element => this.positionElement(element));\n  }\n\n  _getParentNode(node) {\n    let parent = node.parentNode;\n    if (parent !== undefined && parent !== null && parent.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n      parent = parent.host;\n    }\n    return parent;\n  }\n\n  /**\n   * Gets an updated position based on target.\n   * @param {object} element using absolute-position behavior\n   * @return {void}\n   */\n  positionElement(el) {\n    if (!el.position) {\n      el.position = \"bottom\";\n    }\n    let target = this.findTarget(el),\n      parent = el.offsetParent;\n    if (!target || !parent) return;\n    let offset = parseFloat(el.offset),\n      w = document.body.getBoundingClientRect(),\n      p = parent.getBoundingClientRect(),\n      t = target.getBoundingClientRect(),\n      e = el.getBoundingClientRect(),\n      //place element before vertically?\n      vertical = (pos = el.position) => pos !== \"left\" && pos !== \"right\",\n      //place element before target?\n      before = (pos = el.position) => pos === \"left\" || pos === \"top\",\n      /**\n       * aligns horizontally if position is vertical\n       * or aligns vertically if position is horizontal\n       */\n      setAlign = (v = vertical(el.position)) => {\n        //fits element within parent's boundaries\n        let pxToNum = px => parseFloat(px.replace(\"px\", \"\")),\n          min = v ? pxToNum(el.style.left) - e.left : pxToNum(el.style.top) - e.top,\n          startAt = v ? \"left\" : \"top\",\n          distance = rect => (v ? rect.width : rect.height),\n          max = min + distance(w) - distance(e),\n          align = min;\n        if (el.positionAlign === \"end\") {\n          align += t[startAt] - distance(e) + distance(t);\n        } else if (el.positionAlign === \"start\") {\n          align += t[startAt];\n        } else {\n          align += t[startAt] - distance(e) / 2 + distance(t) / 2;\n        }\n        return el.fitToVisibleBounds ? Math.max(min, Math.min(max, align)) + \"px\" : align + \"px\"; //if element size > parent, align where parent begins\n      },\n      getCoord = (pos = el.position) => {\n        let pxToNum = px => parseFloat(px.replace(\"px\", \"\")),\n          adjust = vertical(pos) ? pxToNum(el.style.top) - e.top : pxToNum(el.style.left) - e.left,\n          eh =\n            window.getComputedStyle(el, null).overflowY == \"visible\" ? Math.max(e.height, el.scrollHeight) : e.height,\n          ew = window.getComputedStyle(el, null).overflowX == \"visible\" ? Math.max(e.width, el.scrollWidth) : e.width;\n        return pos === \"top\"\n          ? t.top + adjust - eh - offset + \"px\"\n          : pos === \"left\"\n          ? t.left + adjust - ew - offset + \"px\"\n          : t[pos] + adjust + offset + \"px\";\n      },\n      isFit = (pos = el.position) => {\n        //determines if room for element between parent and target\n        let distance = rect => (vertical(pos) ? e.height + offset : e.width + offset);\n        return before(pos) ? t[pos] - w[pos] > distance : w[pos] - t[pos] > distance; //if no room, return original position\n      },\n      flip = el.fitToVisibleBounds !== false && !isFit(el.position),\n      flipData = {\n        top: [\"bottom\", \"left\", \"right\"],\n        left: [\"right\", \"top\", \"bottom\"],\n        bottom: [\"top\", \"right\", \"left\"],\n        right: [\"left\", \"bottom\", \"top\"]\n      };\n    el.style.position = \"absolute\";\n    /*\n     * fits element according to specified postion,\n     * or finds an alternative position that fits\n     */\n    if (flip && isFit(flipData[el.position][0])) {\n      el.position = flipData[el.position][0];\n    } else if (flip && isFit(flipData[el.position][1])) {\n      el.position = flipData[el.position][1];\n    } else if (flip && isFit(flipData[el.position][2])) {\n      el.position = flipData[el.position][2];\n    } else {\n      el.style.top = vertical(el.position) ? getCoord() : setAlign();\n      el.style.left = vertical(el.position) ? setAlign() : getCoord();\n      //provide positions for element and target (in case furthor positioning adjustments are needed)\n      el.__positions = {\n        self: e,\n        parent: p,\n        target: t\n      };\n    }\n  }\n\n  /**\n   * life cycle, element is removed from DOM\n   */\n  disconnectedCallback() {\n    this.removeEventListeners();\n    super.disconnectedCallback();\n  }\n}\n\nwindow.customElements.define(PfeAbsolutePositionStateManager.tag, PfeAbsolutePositionStateManager);\n\nexport default PfeAbsolutePositionStateManager;\n","/*!\n * PatternFly Elements: PfeAbsolutePosition 1.6.0\n * @license\n * Copyright 2021 Red Hat, Inc.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n*/\n\n/**\n * This is heavily inspired by LRN Web Component's absolute-position-behaviors element\n * https://github.com/elmsln/lrnwebcomponents/tree/master/elements/absolute-position-behavior\n */\n\nimport PFElement from \"../../pfelement/dist/pfelement\";\nimport \"./pfe-absolute-position-state-manager.js\";\n\nclass PfeAbsolutePosition extends PFElement {\n\n  // Injected at build-time\n  static get version() {\n    return \"1.6.0\";\n  }\n\n  // Injected at build-time\n  get html() {\n    return `\n<style>:host{display:block;position:absolute;z-index:99999}:host([hidden]){display:none}@-webkit-keyframes keyFrameScaleUp{0%{-webkit-transform:scale(0);transform:scale(0)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes keyFrameScaleUp{0%{-webkit-transform:scale(0);transform:scale(0)}100%{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes keyFrameScaleDown{0%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0);transform:scale(0)}}@keyframes keyFrameScaleDown{0%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0);transform:scale(0)}}@-webkit-keyframes keyFrameFadeInOpacity{0%{opacity:0}100%{opacity:1;opacity:var(--simple-tooltip-opacity,1)}}@keyframes keyFrameFadeInOpacity{0%{opacity:0}100%{opacity:1;opacity:var(--simple-tooltip-opacity,1)}}@-webkit-keyframes keyFrameFadeOutOpacity{0%{opacity:1;opacity:var(--simple-tooltip-opacity,1)}100%{opacity:0}}@keyframes keyFrameFadeOutOpacity{0%{opacity:1;opacity:var(--simple-tooltip-opacity,1)}100%{opacity:0}}@-webkit-keyframes keyFrameSlideDownIn{0%{-webkit-transform:translateY(-2000px);transform:translateY(-2000px);opacity:0}10%{opacity:.2}100%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1;opacity:var(--simple-tooltip-opacity,1)}}@keyframes keyFrameSlideDownIn{0%{-webkit-transform:translateY(-2000px);transform:translateY(-2000px);opacity:0}10%{opacity:.2}100%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1;opacity:var(--simple-tooltip-opacity,1)}}@-webkit-keyframes keyFrameSlideDownOut{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1;opacity:var(--simple-tooltip-opacity,1)}10%{opacity:.2}100%{-webkit-transform:translateY(-2000px);transform:translateY(-2000px);opacity:0}}@keyframes keyFrameSlideDownOut{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1;opacity:var(--simple-tooltip-opacity,1)}10%{opacity:.2}100%{-webkit-transform:translateY(-2000px);transform:translateY(-2000px);opacity:0}}.fade-in-animation{opacity:0;-webkit-animation-delay:0s;animation-delay:0s;-webkit-animation-delay:var(--simple-tooltip-delay-in,0ms);animation-delay:var(--simple-tooltip-delay-in,0ms);-webkit-animation-name:keyFrameFadeInOpacity;animation-name:keyFrameFadeInOpacity;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-duration:.1s;animation-duration:.1s;-webkit-animation-duration:var(--simple-tooltip-duration-in,100ms);animation-duration:var(--simple-tooltip-duration-in,100ms);-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.fade-out-animation{opacity:1;opacity:var(--simple-tooltip-opacity,1);-webkit-animation-delay:0s;animation-delay:0s;-webkit-animation-delay:var(--simple-tooltip-delay-out,0ms);animation-delay:var(--simple-tooltip-delay-out,0ms);-webkit-animation-name:keyFrameFadeOutOpacity;animation-name:keyFrameFadeOutOpacity;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-duration:.1s;animation-duration:.1s;-webkit-animation-duration:var(--simple-tooltip-duration-out,100ms);animation-duration:var(--simple-tooltip-duration-out,100ms);-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.scale-up-animation{-webkit-transform:scale(0);transform:scale(0);opacity:1;opacity:var(--simple-tooltip-opacity,1);-webkit-animation-delay:.5s;animation-delay:.5s;-webkit-animation-delay:var(--simple-tooltip-delay-in,500ms);animation-delay:var(--simple-tooltip-delay-in,500ms);-webkit-animation-name:keyFrameScaleUp;animation-name:keyFrameScaleUp;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-duration:var(--simple-tooltip-duration-in,500ms);animation-duration:var(--simple-tooltip-duration-in,500ms);-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.scale-down-animation{-webkit-transform:scale(1);transform:scale(1);opacity:1;opacity:var(--simple-tooltip-opacity,1);-webkit-animation-delay:.5s;animation-delay:.5s;-webkit-animation-delay:var(--simple-tooltip-delay-out,500ms);animation-delay:var(--simple-tooltip-delay-out,500ms);-webkit-animation-name:keyFrameScaleDown;animation-name:keyFrameScaleDown;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-duration:var(--simple-tooltip-duration-out,500ms);animation-duration:var(--simple-tooltip-duration-out,500ms);-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.slide-down-animation{-webkit-transform:translateY(-2000px);transform:translateY(-2000px);opacity:0;-webkit-animation-delay:.5s;animation-delay:.5s;-webkit-animation-delay:var(--simple-tooltip-delay-out,500ms);animation-delay:var(--simple-tooltip-delay-out,500ms);-webkit-animation-name:keyFrameSlideDownIn;animation-name:keyFrameSlideDownIn;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1);-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-duration:var(--simple-tooltip-duration-out,500ms);animation-duration:var(--simple-tooltip-duration-out,500ms);-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.slide-down-animation-out{-webkit-transform:translateY(0);transform:translateY(0);opacity:1;opacity:var(--simple-tooltip-opacity,1);-webkit-animation-delay:.5s;animation-delay:.5s;-webkit-animation-delay:var(--simple-tooltip-delay-out,500ms);animation-delay:var(--simple-tooltip-delay-out,500ms);-webkit-animation-name:keyFrameSlideDownOut;animation-name:keyFrameSlideDownOut;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-timing-function:cubic-bezier(.4,0,1,1);animation-timing-function:cubic-bezier(.4,0,1,1);-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-duration:var(--simple-tooltip-duration-out,500ms);animation-duration:var(--simple-tooltip-duration-out,500ms);-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.cancel-animation{-webkit-animation-delay:-30s!important;animation-delay:-30s!important}.hidden{display:none!important} /*# sourceMappingURL=pfe-absolute-position.min.css.map */</style>\n<slot></slot>`;\n  }\n\n  static get tag() {\n    return \"pfe-absolute-position\";\n  }\n\n  static get meta() {\n    return {\n      title: \"Absolute position\",\n      description: \"Make any element absolute positioned over another element.\"\n    };\n  }\n\n  get templateUrl() {\n    return \"pfe-absolute-position.html\";\n  }\n\n  get styleUrl() {\n    return \"pfe-absolute-position.scss\";\n  }\n\n  static get properties() {\n    return {\n      /**\n       * Element is positioned from connected to disconnected?\n       * Otherwise setPosition and unsetPosition must be called manually.\n       */\n      auto: {\n        type: Boolean,\n        default: false,\n        observer: \"_autoChanged\"\n      },\n      /**\n       * If true, no parts of the tooltip will ever be shown offscreen.\n       */\n      fitToVisibleBounds: {\n        type: Boolean,\n        default: false,\n        observer: \"updatePosition\"\n      },\n      /**\n       * If true, no parts of the tooltip will ever be shown offscreen.\n       */\n      hidden: {\n        type: Boolean,\n        reflect: true,\n        observer: \"updatePosition\"\n      },\n      /**\n       * The id of the element that the tooltip is anchored to. This element\n       * must be a sibling of the tooltip. If this property is not set,\n       * then the tooltip will be centered to the parent node containing it.\n       */\n      for: {\n        type: String,\n        reflect: true,\n        default: null,\n        observer: \"updatePosition\"\n      },\n      /**\n       * The spacing between the top of the tooltip and the element it is\n       * anchored to.\n       */\n      offset: {\n        type: Number,\n        default: 0,\n        observer: \"updatePosition\"\n      },\n      /**\n       * Positions the tooltip to the top, right, bottom, left of its content.\n       */\n      position: {\n        type: String,\n        reflect: true,\n        default: \"top\",\n        observer: \"updatePosition\"\n      },\n      /**\n       * Aligns at the start, or end fo target. Default is centered.\n       */\n      positionAlign: {\n        type: String,\n        reflect: true,\n        default: \"center\",\n        observer: \"updatePosition\"\n      },\n      /**\n       * Set the mode to either hover or click\n       */\n      mode: {\n        type: String,\n        default: \"hover\",\n        observer: \"updatePosition\"\n      }\n    };\n  }\n\n  /**\n   * Get the actual target element\n   * @type {Node}\n   */\n  get target() {\n    return this._target;\n  }\n\n  /**\n   * Set the actual target element\n   * @type {Node}\n   */\n  set target(node) {\n    this._target = node;\n    return this._target;\n  }\n\n  /**\n   * Get the actual target element\n   * @type {Object}\n   */\n  get _positions() {\n    return this._target;\n  }\n\n  /**\n   * Set the actual target element\n   * @type {Object}\n   */\n  set _positions(positions) {\n    this.__positions = positions;\n    return this.__positions;\n  }\n\n  // Declare the type of this component\n  static get PfeType() {\n    return PFElement.PfeTypes.Container;\n  }\n\n  constructor() {\n    super(PfeAbsolutePosition, { type: PfeAbsolutePosition.PfeType });\n    this._positions = {};\n    this.target = null;\n    this.__observe = false;\n    this.__manager = window.AbsolutePositionStateManager.requestAvailability();\n\n    this.animationEntry = \"\";\n    this.animationExit = \"\";\n    this.animationConfig = {\n      entry: [{ name: \"fade-in-animation\", node: this, timing: { delay: 0 } }],\n      exit: [{ name: \"fade-out-animation\", node: this }]\n    };\n    setTimeout(() => {\n      this.addEventListener(\"webkitAnimationEnd\", this._onAnimationEnd.bind(this));\n    }, 0);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    // initialize set position immediately in auto changed\n    this._autoChanged(null, this.auto);\n  }\n\n  // auto property change handler\n  _autoChanged(oldValue, newValue) {\n    // if the component is set to auto then we are going to handle setting the\n    // position for the user.\n    if (this.auto) this.setPosition();\n    // if the user explicitly turned off auto then we'll unset position for them.\n    if (oldValue === true && this.auto) {\n      if (!this.auto) this.unsetPosition();\n    }\n  }\n\n  /**\n   * Target Updated Hook\n   *\n   * Called when a target element is found.\n   * @param {Node} target\n   */\n  targetUpdated(target) {\n    this._target = target;\n    this._addListeners();\n  }\n\n  /**\n   * Registers element with AbsolutePositionStateManager\n   * @returns {void}\n   */\n  setPosition() {\n    this.__observe = true;\n    this.__manager.loadElement(this);\n  }\n\n  /**\n   * Unregisters element with AbsolutePositionStateManager\n   * @returns {void}\n   */\n  unsetPosition() {\n    this.__observe = false;\n    this.__manager.unloadElement(this);\n  }\n\n  /**\n   * Updates  element's position\n   * @returns {void}\n   */\n  updatePosition() {\n    if (this.__observe === true) {\n      this.__manager.positionElement(this);\n    }\n  }\n  /**\n   * life cycle, element is removed from DOM\n   * @returns {void}\n   */\n  disconnectedCallback() {\n    this.unsetPosition();\n    this._removeListeners();\n    super.disconnectedCallback();\n  }\n\n  /**\n   * Cancels the animation and either fully shows or fully hides tooltip\n   */\n  cancelAnimation() {\n    // Short-cut and cancel all animations and hide\n    this.shadowRoot.querySelector(\"#tooltip\").classList.add(\"cancel-animation\");\n  }\n\n  // Hook into absolute state manager to see if we\n  // have been activated or deactivated\n  _absolutePositionActiveChanged(isActive) {\n    isActive ? this._show() : this.hide();\n  }\n\n  /**\n   * Shows the tooltip programatically\n   * @return {void}\n   */\n  show() {\n    this.__manager.activateElement(this);\n  }\n\n  _show() {\n    // If the tooltip is already showing, there's nothing to do.\n    if (this._showing) return;\n    this._showing = true;\n    this.shadowRoot.querySelector(\"#tooltip\").classList.remove(\"hidden\");\n    this.shadowRoot.querySelector(\"#tooltip\").classList.remove(\"cancel-animation\");\n    this.shadowRoot.querySelector(\"#tooltip\").classList.remove(this._getAnimationType(\"exit\"));\n    this.updatePosition();\n    this._animationPlaying = true;\n    this.shadowRoot.querySelector(\"#tooltip\").classList.add(this._getAnimationType(\"entry\"));\n  }\n\n  /**\n   * Hides the tooltip programatically\n   * @return {void}\n   */\n  hide() {\n    // If the tooltip is already hidden, there's nothing to do.\n    if (!this._showing) {\n      return;\n    }\n\n    // If the entry animation is still playing, don't try to play the exit\n    // animation since this will reset the opacity to 1. Just end the animation.\n    if (this._animationPlaying) {\n      this._showing = false;\n      this._cancelAnimation();\n      return;\n    } else {\n      // Play Exit Animation\n      this._onAnimationFinish();\n    }\n    this._animationPlaying = true;\n    this._showing = false;\n    // Let the manager know that to remove us from its activeElement state.\n    this.__manager.deactivateElement(this);\n    // force hide if we are open too long\n    // helps older platforms and the monster known as Safari\n    clearTimeout(this.__debounceCancel);\n    this.__debounceCancel = setTimeout(() => {\n      this._cancelAnimation();\n    }, 5000);\n  }\n\n  /**\n   * Toggle the visibility of the tooltip programatically\n   * @return {void}\n   */\n  toggle() {\n    if (!this._showing || typeof this._showing === \"undefined\") {\n      this.show();\n    } else {\n      this.hide();\n    }\n  }\n\n  _manualModeChanged() {\n    if (this.manualMode) this._removeListeners();\n    else this._addListeners();\n  }\n\n  _cancelAnimation() {\n    // Short-cut and cancel all animations and hide\n    this.shadowRoot.querySelector(\"#tooltip\").classList.remove(this._getAnimationType(\"entry\"));\n    this.shadowRoot.querySelector(\"#tooltip\").classList.remove(this._getAnimationType(\"exit\"));\n    this.shadowRoot.querySelector(\"#tooltip\").classList.remove(\"cancel-animation\");\n    this.shadowRoot.querySelector(\"#tooltip\").classList.add(\"hidden\");\n  }\n\n  _onAnimationFinish() {\n    if (this._showing) {\n      this.shadowRoot.querySelector(\"#tooltip\").classList.remove(this._getAnimationType(\"entry\"));\n      this.shadowRoot.querySelector(\"#tooltip\").classList.remove(\"cancel-animation\");\n      this.shadowRoot.querySelector(\"#tooltip\").classList.add(this._getAnimationType(\"exit\"));\n    }\n  }\n\n  _onAnimationEnd() {\n    // If no longer showing add class hidden to completely hide tooltip\n    this._animationPlaying = false;\n    if (!this._showing) {\n      this.shadowRoot.querySelector(\"#tooltip\").classList.remove(this._getAnimationType(\"exit\"));\n      this.shadowRoot.querySelector(\"#tooltip\").classList.add(\"hidden\");\n    }\n  }\n\n  _getAnimationType(type) {\n    // These properties have priority over animationConfig values\n    if (type === \"entry\" && this.animationEntry !== \"\") {\n      return this.animationEntry;\n    }\n    if (type === \"exit\" && this.animationExit !== \"\") {\n      return this.animationExit;\n    }\n    // If no results then return the legacy value from animationConfig\n    if (this.animationConfig[type] && typeof this.animationConfig[type][0].name === \"string\") {\n      // Checking Timing and Update if necessary - Legacy for animationConfig\n      if (\n        this.animationConfig[type][0].timing &&\n        this.animationConfig[type][0].timing.delay &&\n        this.animationConfig[type][0].timing.delay !== 0\n      ) {\n        var timingDelay = this.animationConfig[type][0].timing.delay;\n        // Has Timing Change - Update CSS\n        if (type === \"entry\") {\n          document.documentElement.style.setProperty(\"--simple-tooltip-delay-in\", timingDelay + \"ms\");\n        } else if (type === \"exit\") {\n          document.documentElement.style.setProperty(\"--simple-tooltip-delay-out\", timingDelay + \"ms\");\n        }\n      }\n      return this.animationConfig[type][0].name;\n    }\n  }\n\n  _addListeners() {\n    if (this.target) {\n      if (this.mode === \"hover\") {\n        this.target.addEventListener(\"mouseenter\", this.show.bind(this));\n        this.target.addEventListener(\"focus\", this.show.bind(this));\n        this.target.addEventListener(\"mouseleave\", this.hide.bind(this));\n        this.target.addEventListener(\"blur\", this.hide.bind(this));\n        this.target.addEventListener(\"tap\", this.hide.bind(this));\n      }\n      if (this.mode === \"click\") {\n        this.target.addEventListener(\"keydown\", this._keydownHandler.bind(this));\n        this.target.addEventListener(\"click\", this.show.bind(this));\n        this.target.addEventListener(\"tap\", this.show.bind(this));\n      }\n    }\n  }\n\n  _removeListeners() {\n    if (this.target) {\n      if (this.mode === \"hover\") {\n        this.target.removeEventListener(\"mouseenter\", this.show.bind(this));\n        this.target.removeEventListener(\"focus\", this.show.bind(this));\n        this.target.removeEventListener(\"mouseleave\", this.hide.bind(this));\n        this.target.removeEventListener(\"blur\", this.hide.bind(this));\n        this.target.removeEventListener(\"tap\", this.hide.bind(this));\n      }\n      if (this.mode === \"click\") {\n        this.target.removeEventListener(\"click\", this.toggle.bind(this));\n        this.target.removeEventListener(\"keydown\", this._keydownHandler.bind(this));\n        this.target.removeEventListener(\"tap\", this.hide.bind(this));\n      }\n    }\n  }\n\n  // Listen for keyboard events and map them to their\n  // corresponding mouse events.\n  _keydownHandler(event) {\n    let key = event.key || event.keyCode;\n    switch (key) {\n      case \"Enter\" || 13:\n        this.show();\n        break;\n      case \" \" || 32:\n        // Prevent the browser from scolling when the user hits the space key\n        this.show();\n        event.stopPropagation();\n        event.preventDefault();\n        break;\n    }\n  }\n\n  _delayChange(newValue) {\n    // Only Update delay if different value set\n    if (newValue !== 500) {\n      document.documentElement.style.setProperty(\"--simple-tooltip-delay-in\", newValue + \"ms\");\n    }\n  }\n}\n\nPFElement.create(PfeAbsolutePosition);\n\nexport default PfeAbsolutePosition;\n"],"names":["window","AbsolutePositionStateManager","requestAvailability","instance","document","createElement","body","appendChild","PfeAbsolutePositionStateManager","HTMLElement","element","this","_activeElement","_absolutePositionActiveChanged","el","elements","length","__observer","observe","updateElements","addEventListener","_handleResize","push","style","top","left","positionElement","filter","removeEventListeners","__timeout","clearTimeout","setTimeout","mutations","forEach","mutation","type","attributeName","_this2","includes","target","selector","for","ancestor","parentNode","querySelector","undefined","nodeType","host","targetUpdated","disconnect","removeEventListener","_this3","node","parent","Node","DOCUMENT_FRAGMENT_NODE","position","offset","w","p","t","e","getCoord","isFit","findTarget","offsetParent","parseFloat","getBoundingClientRect","pos","distance","v","rect","width","height","vertical","pxToNum","px","replace","min","startAt","max","align","positionAlign","fitToVisibleBounds","Math","adjust","eh","getComputedStyle","overflowY","scrollHeight","ew","overflowX","scrollWidth","flip","before","flipData","setAlign","__positions","MutationObserver","_this","checkMutations","customElements","define","tag","PFElement","_target","positions","Boolean","String","Number","PfeTypes","Container","_autoChanged","auto","oldValue","newValue","setPosition","unsetPosition","_addListeners","__observe","__manager","loadElement","unloadElement","_removeListeners","shadowRoot","classList","add","isActive","_show","hide","activateElement","_showing","remove","_getAnimationType","updatePosition","_animationPlaying","_cancelAnimation","_onAnimationFinish","deactivateElement","__debounceCancel","show","manualMode","animationEntry","animationExit","animationConfig","name","timing","delay","timingDelay","documentElement","setProperty","mode","bind","_keydownHandler","toggle","event","key","keyCode","stopPropagation","preventDefault","PfeAbsolutePosition","PfeType","_positions","_onAnimationEnd","create"],"mappings":"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"}