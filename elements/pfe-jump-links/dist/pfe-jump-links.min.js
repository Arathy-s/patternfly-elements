import e from"../../pfelement/dist/pfelement.min.js";
/*!
 * PatternFly Elements: PfeJumpLinks 1.0.0-prerelease.60
 * @license
 * Copyright 2020 Red Hat, Inc.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
*/const t={childList:!0,subtree:!0,characterData:!0,attributes:!0},i={childList:!0,subtree:!0,characterData:!0,attributes:!0};class a extends e{static get version(){return"1.0.0-prerelease.60"}get html(){return"<style>:host{display:block}:host([hidden]){display:none}\n/*# sourceMappingURL=pfe-jump-links.min.css.map */\n</style><slot></slot>"}static get properties(){return{}}static get slots(){return{default:{title:"Default slot",type:"array",namedSlot:!1,items:{oneOf:[{$ref:"raw"}]}}}}static get tag(){return"pfe-jump-links"}get schemaUrl(){return"pfe-jump-links.json"}get templateUrl(){return"pfe-jump-links.html"}get styleUrl(){return"pfe-jump-links.scss"}static get PfeType(){return e.PfeTypes.Content}constructor(){super(a,{type:a.PfeType})}}class r extends e{static get version(){return"1.0.0-prerelease.60"}get html(){return`<style>:host{-webkit-box-sizing:border-box;box-sizing:border-box;font-family:Overpass,Overpass,Helvetica,helvetica,arial,sans-serif;font-family:var(--pfe-theme--font-family, "Overpass", Overpass, Helvetica, helvetica, arial, sans-serif);font-weight:500;font-weight:var(--pfe-theme--font-weight--normal,500);font-weight:400;display:block;position:-webkit-sticky;position:sticky;top:calc(16px * 4);top:calc(var(--pfe-theme--container-spacer,16px) * 4);padding-left:0;background-color:#fff;background-color:var(--pfe-jump-links--BackgroundColor,var(--pfe-theme--color--surface--lightest,#fff))}@media (min-width:992px){:host{border:1px solid transparent;border:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) transparent;padding:calc(16px * 2) calc(16px * 2);padding:var(--pfe-jump-links--vertical-spacer,calc(var(--pfe-theme--container-padding,16px) * 2)) var(--pfe-jump-links--horizontal-spacer,calc(var(--pfe-theme--container-padding,16px) * 2))}}:host ::slotted([slot=pfe-jump-links-nav--heading]){color:#3c3f42;color:var(--pfe-broadcasted--text,#3c3f42);margin:0 0 16px;margin:0 0 var(--pfe-theme--container-spacer,16px);font-size:14px;font-size:var(--pfe-jump-links__heading--FontSize,var(--pfe-theme--font-size--heading--zeta,14px));font-weight:400;text-transform:uppercase}@media (max-width:991px){:host ::slotted([slot=pfe-jump-links-nav--heading]){display:none}}:host([pfe-sticky=false]){position:relative}nav{visibility:visible;margin:0;list-style:none;padding:0}nav ul{padding:0;border-left:1px solid #d2d2d2;border-left:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--ui-disabled,#d2d2d2)}nav li{border-left:4px solid transparent;border-left:var(--pfe-theme--surface--border-width--heavy,4px) var(--pfe-theme--surface--border-style,solid) transparent;display:block;text-decoration:none;margin-left:calc(1px * -1);margin-left:calc(var(--pfe-theme--surface--border-width,1px) * -1)}nav li.expand ul{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}nav li.expand .sub-section{display:table;height:auto}nav li[active]{border-left-color:#06c;border-left-color:var(--pfe-jump-links--BorderColor,var(--pfe-theme--color--ui-accent,#06c))}nav a{position:relative;display:table;color:#6a6e73;color:var(--pfe-theme--color--ui-disabled--text,#6a6e73);font-size:16px;font-size:var(--pfe-jump-links--FontSize,var(--pfe-theme--font-size--heading--epsilon,16px));text-decoration:none;line-height:1.5;line-height:var(--pfe-theme--line-height,1.5);padding:calc(calc(24px / 6) * 2) calc(calc(24px / 3) * 2);padding:calc(var(--pfe-jump-links__link--vertical-spacer,calc(var(--pfe-theme--content-spacer,24px)/ 6)) * 2) calc(var(--pfe-jump-links__link--horizontal-spacer,calc(var(--pfe-theme--content-spacer,24px)/ 3)) * 2)}nav a.has-sub-section{padding-bottom:calc(24px / 6);padding-bottom:var(--pfe-jump-links__link--vertical-spacer,calc(var(--pfe-theme--content-spacer,24px)/ 6))}nav a.sub-section{margin-left:calc(16px * .75);margin-left:calc(var(--pfe-theme--container-spacer,16px) * .75);font-size:calc(16px * .85);font-size:calc(var(--pfe-jump-links--FontSize,var(--pfe-theme--font-size--heading--epsilon,16px)) * .85);padding:calc(24px / 6) calc(calc(24px / 3) * 2);padding:var(--pfe-jump-links__link--vertical-spacer,calc(var(--pfe-theme--content-spacer,24px)/ 6)) calc(var(--pfe-jump-links__link--horizontal-spacer,calc(var(--pfe-theme--content-spacer,24px)/ 3)) * 2)}@media (min-width:992px){nav a.sub-section{display:none}}nav a.sub-section:last-child{padding-bottom:calc(24px / 3);padding-bottom:var(--pfe-jump-links__link--horizontal-spacer,calc(var(--pfe-theme--content-spacer,24px)/ 3))}nav a::after{content:"";position:absolute;width:calc(100% - 4px);width:calc(100% - var(--pfe-theme--surface--border-width--heavy,4px));height:calc(100% - 4px);height:calc(100% - var(--pfe-theme--surface--border-width--heavy,4px));top:0;left:0}nav a:focus{outline:0}nav a:focus::after{border-radius:3px;border-radius:var(--pfe-theme--surface--border-radius,3px);border:2px solid #06c;border:2px var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--link,#06c)}nav a:hover{color:#151515;color:var(--pfe-theme--color--surface--darkest,#151515)}nav a[active]{color:#151515;color:var(--pfe-theme--color--surface--darkest,#151515)}nav ul ul{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:0;-webkit-flex:0;-ms-flex:0;flex:0;margin:0;padding:0;border-left:none!important;overflow-y:hidden;-webkit-transition:-webkit-box-flex 1s linear,-webkit-flex 1s linear;transition:-webkit-box-flex 1s linear,-webkit-flex 1s linear;transition:flex 1s linear;transition:flex 1s linear,-webkit-box-flex 1s linear,-webkit-flex 1s linear,-ms-flex 1s linear}nav ul ul li{border-left:none!important}pfe-accordion{--pfe-accordion--BackgroundColor:transparent;--pfe-accordion--accent:transparent;--pfe-accordion--BorderLeftWidth:0;--pfe-accordion--BorderColor:transparent;--pfe-accordion--BorderColor--accent:transparent}@media (min-width:992px){pfe-accordion{--pfe-accordion__base--Padding:0}}@media (max-width:991px){pfe-accordion{border:1px solid #d2d2d2;border:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--ui-disabled,#d2d2d2)}}pfe-accordion-header{--pfe-theme--color--surface--border:transparent;--pfe-theme--color--ui-base--on-dark:transparent;--pfe-theme--color--ui-base:transparent;position:-webkit-sticky;position:sticky;top:0}@media (max-width:991px){pfe-accordion-header{background-color:#fff;background-color:var(--pfe-theme--color--surface--lightest,#fff);--theme:light}}@media (min-width:992px){pfe-accordion-header{visibility:collapse!important;display:none}}pfe-accordion-panel{border-left-color:transparent}@media (min-width:992px){pfe-accordion-panel{visibility:collapse;display:none;opacity:1;display:block}}@media (min-width:992px){pfe-accordion-panel>pfe-jump-links-nav{width:100%;display:block;visibility:visible}}:host([pfe-color=darkest]){--pfe-jump-links--theme:dark;--pfe-jump-links--BackgroundColor:var(--pfe-theme--color--surface--darkest, #151515);border:1px solid #6a6e73;border:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--ui-disabled--text,#6a6e73)}:host([pfe-color=darkest]) button[aria-expanded=true],:host([pfe-color=darkest]) pfe-accordion-header,:host([pfe-color=darkest]) pfe-accordion-panel{--pfe-accordion--BackgroundColor:var(--pfe-theme--color--surface--darkest, #151515);--pfe-jump-links--BackgroundColor:var(--pfe-theme--color--surface--darkest, #151515)}:host([pfe-color=darkest]) ::slotted([slot=pfe-jump-links-nav--heading]){color:#f0f0f0;color:var(--pfe-theme--color--surface--lighter,#f0f0f0)}:host([pfe-color=darkest]) ul{border-left:1px solid #6a6e73;border-left:var(--pfe-theme--surface--border-width,1px) var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--ui-disabled--text,#6a6e73)}:host([pfe-color=darkest]) ul li[active]{border-left:3px solid #06c;border-left:3px var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--ui-accent,#06c)}:host([pfe-color=darkest]) ul a{color:#2b9af3;color:var(--pfe-theme--color--ui-accent--focus--on-dark,#2b9af3)}:host([pfe-color=darkest]) ul a:hover{color:#2b9af3;color:var(--pfe-theme--color--ui-accent--hover--on-dark,#2b9af3)}:host([pfe-color=darkest]) ul a[active]{color:#73bcf7;color:var(--pfe-theme--color--ui-accent--on-dark,#73bcf7)}:host([pfe-color=darkest]) ul a:focus::after{border-color:#73bcf7;border-color:var(--pfe-theme--color--link--on-dark,#73bcf7)}:host([hidden]){display:none}:host([pfe-c-horizontal]){padding:0;top:0;width:100%}:host([pfe-c-horizontal]) nav{min-height:calc(16px * 5.5);min-height:calc(var(--pfe-theme--container-spacer,16px) * 5.5);background-color:#f0f0f0;background-color:var(--pfe-theme--color--surface--lighter,#f0f0f0);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative}:host([pfe-c-horizontal]) nav .pfe-jump-links-nav__heading{display:none}:host([pfe-c-horizontal]) nav ::slotted([slot=pfe-jump-links-nav--logo]){position:absolute;left:0;max-height:calc(16px * 3.5);max-height:calc(var(--pfe-theme--container-spacer,16px) * 3.5);max-width:calc(16px * 14);max-width:calc(var(--pfe-theme--container-spacer,16px) * 14);top:calc(16px * 1);top:calc(var(--pfe-theme--container-spacer,16px) * 1)}@media (max-width:991px){:host([pfe-c-horizontal]) nav ::slotted([slot=pfe-jump-links-nav--logo]){left:calc(16px * 2);left:calc(var(--pfe-theme--container-spacer,16px) * 2)}}@media (min-width:992px){:host([pfe-c-horizontal]) nav ::slotted([slot=pfe-jump-links-nav--logo]){left:calc(16px * 4);left:calc(var(--pfe-theme--container-spacer,16px) * 4)}}:host([pfe-c-horizontal]) nav ::slotted([slot=pfe-jump-links-nav--cta]){position:absolute;top:calc(16px * 1);top:calc(var(--pfe-theme--container-spacer,16px) * 1)}@media (max-width:991px){:host([pfe-c-horizontal]) nav ::slotted([slot=pfe-jump-links-nav--cta]){right:calc(16px * 2);right:calc(var(--pfe-theme--container-spacer,16px) * 2)}}@media (min-width:992px){:host([pfe-c-horizontal]) nav ::slotted([slot=pfe-jump-links-nav--cta]){right:calc(16px * 4);right:calc(var(--pfe-theme--container-spacer,16px) * 4)}}:host([pfe-c-horizontal]) #container{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;justify-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}:host([pfe-c-horizontal]) ul{border:none;display:block;text-align:center;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:0;width:auto;margin:0;margin-left:auto;margin-right:auto}:host([pfe-c-horizontal]) ul li{padding:0 calc(16px * 1.5);padding:0 calc(var(--pfe-theme--container-spacer,16px) * 1.5);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:calc(16px * 5);height:calc(var(--pfe-theme--container-spacer,16px) * 5);-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;border-top:4px solid transparent;border-top:4px var(--pfe-theme--surface--border-style,solid) transparent;border-bottom:4px solid transparent;border-bottom:4px var(--pfe-theme--surface--border-style,solid) transparent;border-left:none;border-right:none}:host([pfe-c-horizontal]) ul li[active]{border-top:4px solid #06c;border-top:4px var(--pfe-theme--surface--border-style,solid) var(--pfe-theme--color--ui-accent,#06c)}:host([pfe-c-horizontal]) ul a{text-decoration:none;color:#6a6e73;color:var(--pfe-theme--color--ui-disabled--text,#6a6e73)}:host([pfe-c-horizontal]) ul a[active]{color:#151515;color:var(--pfe-theme--color--surface--darkest,#151515)}:host([pfe-c-horizontal]) ul a:hover{color:#151515;color:var(--pfe-theme--color--surface--darkest,#151515)}@media (max-width:991px){:host([pfe-c-horizontal]) nav{min-height:calc(16px * 5.5);min-height:calc(var(--pfe-theme--container-spacer,16px) * 5.5);background-color:#f0f0f0;background-color:var(--pfe-theme--color--surface--lighter,#f0f0f0)}:host([pfe-c-horizontal]) .pfe-jump-links-nav{display:none}}\n/*# sourceMappingURL=pfe-jump-links-nav.min.css.map */\n</style>\n  ${this.hasAttribute("pfe-c-horizontal")?"":"<pfe-accordion>\n    <pfe-accordion-header>\n    </pfe-accordion-header>\n    <pfe-accordion-panel>"}\n      <nav>\n        <slot class="pfe-jump-links-nav__heading" name="pfe-jump-links-nav--heading" id="pfe-jump-links-nav--heading">\n        </slot>\n        <slot class="pfe-jump-links-nav__logo" name="pfe-jump-links-nav--logo"></slot>\n        <div id="container"></div>\n        <slot class="pfe-jump-links-nav__cta" name="pfe-jump-links-nav--cta"></slot>\n      </nav>\n      ${this.hasAttribute("pfe-c-horizontal")?"":"</pfe-accordion-panel>\n  </pfe-accordion>"}`}static get tag(){return"pfe-jump-links-nav"}get schemaUrl(){return"pfe-jump-links-nav.json"}get templateUrl(){return"pfe-jump-links-nav.html"}get styleUrl(){return"pfe-jump-links-nav.scss"}static get PfeType(){return e.PfeTypes.Content}constructor(){super(r,{type:r.PfeType}),this._buildNav=this._buildNav.bind(this),this._mutationCallback=this._mutationCallback.bind(this),this._menuContainer=this.shadowRoot.querySelector("#container"),this._observer=new MutationObserver(this._mutationCallback),this._reportHeight=this._reportHeight.bind(this),this.panel=document.querySelector(`[scrolltarget=${this.id}]`)||document.querySelector(`[pfe-c-scrolltarget=${this.id}]`),window.addEventListener("resize",()=>{})}connectedCallback(){if(super.connectedCallback(),this.hasAttribute("autobuild"))this._buildNav();else if(this._isValidLightDom()){const e=this.querySelector("ul");if(e.classList.add("pfe-jump-links-nav"),this._menuContainer.innerHTML=e.outerHTML,this.hasAttribute("sr-text")){let e=document.createElement("div");e.innerHTML=`<h2 class="sr-only" hidden>${this.getAttribute("sr-text")}</h2>`,this.shadowRoot.querySelector("nav").prepend(e)}let t="";if(this.querySelector("[slot='pfe-jump-links-nav--heading']")&&(t=this.querySelector("[slot='pfe-jump-links-nav--heading']").cloneNode(!0)),this.hasAttribute("horizontal")||this.hasAttribute("pfe-c-horizontal")||""===t){const e=document.createElement("h3");e.id="pfe-jump-links-nav--heading",this.shadowRoot.querySelector("pfe-accordion-header").appendChild(e),this.shadowRoot.querySelector("#pfe-jump-links-nav--heading").innerHTML="Jump to section"}else this.shadowRoot.querySelector("pfe-accordion-header").appendChild(t)}this._reportHeight(),this._observer.observe(this,t),this.panel=document.querySelector(`[scrolltarget="${this.id}"]`)||document.querySelector(`[pfe-c-scrolltarget="${this.id}"]`),this.panel.addEventListener(o.events.change,this._buildNav)}disconnectedCallback(){this._observer.disconnect(),this.panel.removeEventListener(o.events.change,this._buildNav)}_rebuildNav(){this._buildNav()}_buildNav(){let e=`\n      <ul class="pfe-jump-links-nav">\n        ${(()=>{let e="";this.panel||(this.panel=document.querySelector(`[scrolltarget="${this.id}"]`)||document.querySelector(`[pfe-c-scrolltarget="${this.id}"]`));let t=this.panel.querySelectorAll(".pfe-jump-links-panel__section");for(let i=0;i<t.length;i++){let a=[...t],r=a[i],o=r.innerHTML;if(r.hasAttribute("nav-label")&&(o=r.getAttribute("nav-label")),r.classList.contains("has-sub-section"))e+=`\n          <li class="pfe-jump-links-nav__item">\n            <a\n              class="pfe-jump-links-nav__link has-sub-section"\n              href="#${r.id}"\n              data-target="${r.id}">\n                ${o}\n            </a>\n            <ul class="sub-nav">\n        `;else if(r.classList.contains("sub-section")){let t=`\n        <li class="pfe-jump-links-nav__item">\n            <a\n              class="pfe-jump-links-nav__link sub-section"\n              href="#${r.id}"\n              data-target="${r.id}">\n                ${o}\n            </a>\n        </li>`;a[i+1].classList.contains("sub-section")||(t+="</ul></li>"),e+=t}else e+=`\n          <li class="pfe-jump-links-nav__item">\n            <a\n              class="pfe-jump-links-nav__link"\n              href="#${r.id}"\n              data-target="${r.id}">\n                ${o}\n            </a>\n          </li>\n        `}return e})()}\n    `;this.shadowRoot.querySelector("#container").innerHTML=e;let t=document.createElement("h3");t.innerHTML="Jump to section",this.shadowRoot.querySelector("pfe-accordion-header").appendChild(t)}_mutationCallback(){if(window.ShadyCSS&&this._observer.disconnect(),this.hasAttribute("autobuild"))this.hasAttribute("autobuild")&&this._buildNav();else{const e=this.querySelector("ul");this._menuContainer.innerHTML=e.outerHTML}window.ShadyCSS&&this._observer.observe(this,t)}_isValidLightDom(){return this.children.length?(!this.shadowRoot.querySelector("[slot='logo']")&&!this.shadowRoot.querySelector("[slot='link']")||this.hasAttribute("pfe-c-horizontal")||this.hasAttribute("horizontal")||console.warn(`${a.tag}: logo and link slots NOT supported in vertical jump links`),"UL"===this.children[1].tagName||(this.hasAttribute("pfe-c-horizontal")||this.hasAttribute("horizontal")||console.warn(`${a.tag}: The top-level list of links MUST be a <ul>`),!1)):(console.warn(`${a.tag}: You must have a <ul> tag in the light DOM`),!1)}_reportHeight(){const e=`--${this.tag}--Height--actual`,t=this.clientHeight+"px";this.panel.style.setProperty(e,t)}}class o extends e{static get version(){return"1.0.0-prerelease.60"}get html(){return"<slot></slot>"}static get tag(){return"pfe-jump-links-panel"}get schemaUrl(){return"pfe-jump-links-panel.json"}get templateUrl(){return"pfe-jump-links-panel.html"}static get events(){return{change:`${this.tag}:change`,activeNavItem:`${this.tag}:active-navItem`}}get offsetValue(){return this.sectionMargin||this.customVar||0}static get PfeType(){return e.PfeTypes.Content}static get observedAttributes(){return["pfe-c-offset","offset"]}constructor(){super(o,{type:o.PfeType}),this._init=this._init.bind(this),this._slot=this.shadowRoot.querySelector("slot"),this._slot.addEventListener("slotchange",this._init),this.debounce=this.debounce.bind(this),this._scrollCallback=this._scrollCallback.bind(this),this._mutationCallback=this._mutationCallback.bind(this),this._handleResize=this._handleResize.bind(this),this._observer=new MutationObserver(this._mutationCallback),this.currentActive=0,this.current=-1,window.addEventListener("resize",this._handleResize)}connectedCallback(){super.connectedCallback(),this.scrollTarget=this.getAttribute("pfe-c-scrolltarget")||this.getAttribute("scrolltarget"),this.nav=this._getNav(),this._init(),this.sectionMargin=this.getAttribute("pfe-c-offset")||this.getAttribute("offset"),this.customVar=this.cssVariable("--pfe-jump-links-panel--offset"),this.nav&&(this.nav.hasAttribute("pfe-c-autobuild")||this.nav.hasAttribute("autobuild"))&&this.nav._rebuildNav(),this._makeActive(this.currentActive),this._observer.observe(this,i)}disconnectedCallback(){this._observer.disconnect(),window.removeEventListener("scroll"),this._slot.removeEventListener("slotchange",this._init),window.removeEventListener("resize",this._handleResize)}attributeChangedCallback(e,t,i){switch(super.attributeChangedCallback(e,t,i),e){case"pfe-c-offset":case"offset":this.sectionMargin=i}}_init(){window.addEventListener("scroll",()=>this.debounce("_scrollCallback",10)),this.JumpLinksNav=document.querySelector(`#${this.scrollTarget}`),this.sections=this.querySelectorAll(".pfe-jump-links-panel__section"),this.JumpLinksNav&&(this.menu_links=this.JumpLinksNav.querySelectorAll("a"))}_handleResize(){this.nav._reportHeight(),this.sectionMargin=this.getAttribute("pfe-c-offset")||this.getAttribute("offset"),this.customVar=this.cssVariable("--pfe-jump-links-panel--offset")}_getNav(){return document.querySelector(`pfe-jump-links-nav#${this.scrollTarget}`)}_makeActive(e){if(this.menu_links[e]){this.menu_links[e].classList.contains("sub-section")?(this.menu_links[e].setAttribute("active",""),this.menu_links[e].parentNode.parentNode.parentNode.setAttribute("active",""),this.menu_links[e].parentNode.parentNode.parentNode.classList.add("expand")):this.menu_links[e].classList.contains("has-sub-section")?(this.menu_links[e].setAttribute("active",""),this.menu_links[e].parentNode.setAttribute("active",""),this.menu_links[e].parentNode.classList.add("expand")):(this.menu_links[e].setAttribute("active",""),this.menu_links[e].parentNode.setAttribute("active",""));let t=this.JumpLinksNav.querySelector("[active]");this.emitEvent(o.events.activeNavItem,{detail:{activeNavItem:t}})}}_removeActive(e){this.menu_links[e]&&(this.menu_links[e].classList.contains("sub-section")&&this.menu_links[e].parentNode.parentNode.parentNode.classList.remove("expand"),this.menu_links[e].removeAttribute("active"),this.menu_links[e].parentNode.removeAttribute("active"))}_removeAllActive(){Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError("Object.keys called on a non-object");var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i},Object.keys.forEach=Array.forEach),[...Array(this.sections.length).keys()].forEach(e=>{this._removeActive(e)})}_mutationCallback(){window.ShadyCSS&&this._observer.disconnect(),this.nav||(this.nav=document.querySelector(`pfe-jump-links-nav#${this.scrollTarget}`)),this.nav.hasAttribute("autobuild")&&(this._init(),this.emitEvent(o.events.change),this.nav._rebuildNav()),window.ShadyCSS&&this._observer.observe(this,i)}debounce(e,t){clearTimeout(this[e]._tId),this[e]._tId=setTimeout(()=>{this[e]()},t)}_scrollCallback(){let e;this.sections&&void 0!==this.sections?e=this.sections:this.sections=this.querySelectorAll(".pfe-jump-links-panel__section");const t=[...e].filter((e,t)=>e.getBoundingClientRect().top>this.offsetValue&&e.getBoundingClientRect().bottom<window.innerHeight&&window.innerHeight>500&&(0===t||e.getBoundingClientRect().bottom<window.innerHeight/2));if(0===t.length)return;let i=t[0];if(t.length>1){const e=t.filter(e=>e.getBoundingClientRect().top<=200);e.length>0&&(i=e[e.length-1])}if(i){const t=[...e].indexOf(i);t!==this.currentActive&&(this._removeAllActive(),this.currentActive=t,this._makeActive(t))}}}e.create(a),e.create(r),e.create(o);export default a;
//# sourceMappingURL=pfe-jump-links.min.js.map
