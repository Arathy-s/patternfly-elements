import e from"../pfelement/pfelement.min.js";class t extends e{get html(){return`<style>:host {\n  display: block; }\n\n:host([hidden]) {\n  display: none; }\n\n:focus:not(:focus-visible) {\n  outline: none; }\n\nnav *, nav *::before, nav *::after {\n  box-sizing: border-box; }\n\nnav ul {\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  display: flex;\n  align-items: baseline; }\n  nav ul li {\n    margin: 1px;\n    display: flex; }\n    nav ul li .ellipses {\n      display: block;\n      padding: 0 calc(var(--pfe-theme--font-size, 16px) * 0.75);\n      line-height: calc( var(--pfe-theme--font-size, 16px) * 2.5);\n      min-height: calc( var(--pfe-theme--font-size, 16px) * 2.5);\n      min-width: calc( var(--pfe-theme--font-size, 16px) * 2.5); }\n    nav ul li > a {\n      display: block;\n      padding: 0 calc(var(--pfe-theme--font-size, 16px) * 0.75);\n      line-height: calc( var(--pfe-theme--font-size, 16px) * 2.5);\n      min-height: calc( var(--pfe-theme--font-size, 16px) * 2.5);\n      min-width: calc( var(--pfe-theme--font-size, 16px) * 2.5);\n      border: var(--pfe-theme--ui--border-width, 1px) var(--pfe-theme--ui--border-style, solid) transparent;\n      background: var(--pfe-theme--color--ui-subtle, #f3f3f3);\n      color: var(--pfe-theme--color--ui-subtle--text, #333);\n      text-align: center;\n      text-decoration: none;\n      vertical-align: middle; }\n      nav ul li > a:hover, nav ul li > a:focus, nav ul li > a:active {\n        background: var(--pfe-theme--color--ui-base, #0477a4);\n        color: var(--pfe-theme--color--ui-base--text, #fff); }\n      nav ul li > a[aria-current] {\n        background: var(--pfe-theme--color--ui-complement, #464646);\n        color: var(--pfe-theme--color--ui-complement--text, #fff); }\n    nav ul li#next {\n      order: 10; }\n\n#jump {\n  margin: 0 var(--pfe-theme--container-spacer, 1rem); }\n  #jump a {\n    color: var(--pfe-theme--color--ui-link, #06c);\n    text-decoration: none; }\n    #jump a:hover {\n      color: var(--pfe-theme--color--ui-link--hover, #003366);\n      text-decoration: underline; }\n    #jump a:focus {\n      color: var(--pfe-theme--color--ui-link--focus, #003366);\n      text-decoration: underline; }\n\n#currentPageInput {\n  margin-right: calc(var(--pfe-theme--content-spacer, 1rem) * 0.5);\n  padding: 0 calc(var(--pfe-theme--font-size, 16px) * 0.75);\n  line-height: calc(var(--pfe-theme--font-size, 16px) * 2.5);\n  min-height: calc(var(--pfe-theme--font-size, 16px) * 2.5);\n  border: var(--pfe-theme--ui--border-width, 1px) var(--pfe-theme--ui--border-style, solid) var(--pfe-theme--color--surface--border, #dfdfdf);\n  box-shadow: var(--pfe-theme--box-shadow--input, );\n  width: 4em;\n  font-size: inherit; }</style>\n<nav role="navigation" aria-label="Pagination">\n  <ul>\n    ${this.showJump?`\n      ${this.showPages?"":`\n        <li><a href="#" id="previous">${this.previousText}</a></li>\n        <li><a href="#" id="next">${this.nextText}</a></li>\n      `}\n      <li id="jump">\n        <form>\n          <input\n            type="number"\n            id="currentPageInput"\n            value="${this.currentPage}"\n            min="1"\n            max="${this.totalPages}"> of\n          <a href="#" id="lastPage" page="${this.totalPages}">${this.totalPages}</a>\n        </form>\n      </li>\n    `:""}\n    ${this.showPages?`\n      <li><a href="#" id="previous">${this.previousText}</a></li>\n      ${this.pages.map(e=>`\n        <li>\n          ${e.ellipsize?`\n            <div class="ellipses">${e.text}</div>\n          `:`\n            <a\n              href="#"\n              class="page"\n              page="${e.text}"\n              aria-label="${e.ariaLabel}"\n              ${this.currentPage==e.text?' aria-current="true"':""}>\n              ${e.text}\n            </a>\n          `}\n        </li>\n      `).join("\n")}\n      <li><a href="#" id="next">${this.nextText}</a></li>\n    `:""}\n  </ul>\n</nav>`}static get tag(){return"pfe-pagination"}get templateUrl(){return"pfe-pagination.html"}get styleUrl(){return"pfe-pagination.scss"}get showPages(){return this.hasAttribute("show-pages")}get showJump(){return this.hasAttribute("show-jump")}get totalPages(){return Number(this.getAttribute("total-pages"))}get currentPage(){return Number(this.getAttribute("current-page"))}set currentPage(e){let i=Number(e);i<1&&(i=1),i>this.totalPages&&(i=this.totalPages),this.setAttribute("current-page",i),this.dispatchEvent(new CustomEvent(`${t.tag}:page-change`,{detail:{page:i},bubbles:!0}))}static get observedAttributes(){return["total-pages","show-jump","show-pages","current-page"]}constructor(){super(t,{delayRender:!0}),this.previousText="Previous",this.nextText="Next",this.pages=[],this._clickHandler=this._clickHandler.bind(this),this._submitHandler=this._submitHandler.bind(this),this.previousPage=this.previousPage.bind(this),this.nextPage=this.nextPage.bind(this),this._childrenAvailable=this._childrenAvailable.bind(this)}connectedCallback(){super.connectedCallback(),this._isReady(),this._observer=new MutationObserver(this._childrenAvailable),this._observer.observe(this,{childList:!0})}disconnectedCallback(){this._observer.disconnect()}_isReady(){this.firstChild&&(this._observer&&this._observer.disconnect(),this._childrenAvailable())}_childrenAvailable(){const e=this.querySelector('[control="previous"]'),t=this.querySelector('[control="next"]');this.previousText=e.textContent||"Previous",this.nextText=t.textContent||"Next",this._setup(),this._rendered=!0}attributeChangedCallback(e,t,i){this._rendered&&this._setup()}previousPage(e){e&&e.preventDefault(),this.currentPage-=1}nextPage(e){e&&e.preventDefault(),this.currentPage+=1}_setup(){if(this.maxPagesShown=this.showJump&&this.showPages?7:9,this.maxPagesShown>this.totalPages&&(this.maxPagesShown=this.totalPages),this.showPages){const t=this.totalPages>this.maxPagesShown,i=t?this.maxPagesShown:this.totalPages,n=Math.ceil(this.maxPagesShown/2)-1,a=this.currentPage-n>1,s=this.currentPage+n<this.totalPages;this.pages=[],this.pages[0]={ellipsize:!1,ariaLabel:this._getAriaLabel(1),text:1};for(var e=1;e<=i-2;e++)if((1===e&&a||e===this.maxPagesShown-2&&s)&&t)this.pages[e]={ellipsize:!0,text:"..."};else{let t=this.currentPage-n+e;a||(t=e+1),s||(t=this.totalPages-(this.maxPagesShown-1)+e),this.pages[e]={ellipsize:!1,ariaLabel:this._getAriaLabel(t),text:t}}this.pages[i-1]={ellipsize:!1,ariaLabel:this._getAriaLabel(this.totalPages),text:this.totalPages}}if(this.render(),this.shadowRoot.querySelector("#previous").addEventListener("click",this.previousPage),this.shadowRoot.querySelector("#next").addEventListener("click",this.nextPage),this.showPages){[...this.shadowRoot.querySelectorAll("a.page")].forEach(e=>{e.addEventListener("click",this._clickHandler)})}if(this.showJump){this.shadowRoot.querySelector("form").addEventListener("submit",this._submitHandler),this.shadowRoot.querySelector("#lastPage").addEventListener("click",this._clickHandler)}}_clickHandler(e){e.preventDefault(),this.currentPage=e.currentTarget.getAttribute("page")}_submitHandler(e){e.preventDefault();const t=this.shadowRoot.querySelector("#currentPageInput");this.currentPage=t.value}_getAriaLabel(e){return e===this.currentPage?`Page ${e}, Current Page`:`Page ${e}`}}e.create(t);export default t;
//# sourceMappingURL=pfe-pagination.min.js.map
