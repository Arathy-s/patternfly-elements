// Please see the pfe-sass README for guidance on using these tools
@import "../../pfe-sass/pfe-sass";



$LOCAL: progress-stepper-item;

// Example local variable, using BEM format
// --pfe-progress-stepper__region--Property: value;

// This variable is global so that helper functions can reference it
$LOCAL-VARIABLES: (
  // width needs to be definitively set to ensure
  // the line is calculated properly.
  Width: auto,
  circle: (
    Size: 32px,
    Color: #06c,
    BackgroundColor: white
  ),
  spacer: 8px, // --pf-global--spacer--sm
);

:host {
  // Avoid printing local variables on host, instead use the pfe-local() function to set property values
  // Example: color: pfe-local(Color);
  display: block;
}

:host([hidden]) {
  display: none;
}

.pfe-progress-stepper-item {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  color: #151515;
  font-size: 16px;
  // This is important so the .pfe-progress-stepper
  // can dynamically set the width of the items in horizontal
  // layout. If this isn't set then the items are unable
  // to line up correctly.
  width: pfe-local(Width);

  &__circle-wrapper {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    position: relative;
    // Example Stack
    width: 32px;
    width: var(--pfe-#{$LOCAL}__circle-wrapper--Width, var(--pfe-#{$LOCAL}__circle--Width, var(--pfe-#{$LOCAL}__circle--Size, 32px)));
    height: 32px;
    height: var(--pfe-#{$LOCAL}__circle-wrapper--Height, var(--pfe-#{$LOCAL}__circle--Height, var(--pfe-#{$LOCAL}__circle--Size, 32px)));
    margin: auto;
    position: relative;
  }
  &__circle--inner {
    display: block;
    position: absolute;
    content: "";
    border-radius: 50%;
    border: 2px solid #D2D2D2;
    width: 32px;
    width: calc( var(--pfe-#{$LOCAL}__circle-inner--Width, var(--pfe-#{$LOCAL}__circle--Width, var(--pfe-#{$LOCAL}__circle--Size, 32px))) / 2);
    height: 32px;
    height: calc( var(--pfe-#{$LOCAL}__circle-inner--Height, var(--pfe-#{$LOCAL}__circle--Height, var(--pfe-#{$LOCAL}__circle--Size, 32px))) / 2);
    transform: translate(-50%, -50%);
    top: 50%;
    left: 50%;
    z-index: 1;
  }
  &__circle--outer {
    display: none;
    position: absolute;
    content: "";
    border-radius: 50%;
    opacity: 0.15;
    width: 32px;
    width: var(--pfe-#{$LOCAL}__circle-outer--Width, var(--pfe-#{$LOCAL}__circle--Width, var(--pfe-#{$LOCAL}__circle--Size, 32px)));
    height: 32px;
    height: var(--pfe-#{$LOCAL}__circle-outer--Height, var(--pfe-#{$LOCAL}__circle--Height, var(--pfe-#{$LOCAL}__circle--Size, 32px)));
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 1;
  }
  &__circle--icon {
    height: 20px;
    width: 20px;
    background: white;
  }
  &__title,
  &__title slot::slotted(*) {
    font-size: 16px;
    color: var(--pfe-progress-stepper-item__title--color, #151515);
  }
  &__description,
  &__description slot::slotted(*) {
    color: var(--pfe-progress-stepper-item__description--color, #6A6E73);
    font-size: 14px;
    text-align: center;
  }
  &__spacer {
    width: auto;
    margin: calc(#{pfe-local(spacer)} / 2);
  }
}

:host([state="active"]) {
  .pfe-progress-stepper-item {
    &__circle--inner {
      height: 20px;
      width: 20px;
      border: none;
      background-color: pfe-local(Color, $region: circle);
    }
    &__circle--outer {
      display: block;
      background-color: pfe-local(Color, $region: circle);
    }
  }
}

:host([state="done"]) {
  .pfe-progress-stepper-item {
    &__circle--inner {
      display: none;
    }
    &__circle--icon {
      display: block;
      --pf-global--success-color--100: #3E8635;
    }
  }
}

:host([state="error"]) {
  .pfe-progress-stepper-item {
    --pfe-progress-stepper-item__title--color: #C9190B;
    --pfe-progress-stepper-item__description--color: #C9190B;
    &__circle--inner {
      display: none;
    }
    &__circle--icon {
      display: block;
      --pf-global--danger-color--100: #C9190B;
    }
  }
}

:host([vertical]) {
  .pfe-progress-stepper-item {
    flex-direction: row;
  }
}